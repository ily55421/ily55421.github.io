<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>å¸¸ç”¨å·¥å…·ä»‹ç» | ily55421</title>
    <meta name="generator" content="VuePress 1.8.0">
    <link rel="icon" href="https://cdn.staticaly.com/gh/eryajf/tu/main/img/image_20220720_132133.ico">
    <script language="javascript" type="text/javascript" src="/js/pgmanor-self.js"></script>
    <meta name="description" content="ğŸ’»å­¦ä¹ ğŸ“è®°å½•ğŸ”—åˆ†äº«
å­¦æ— æ­¢å¢ƒæ˜¯æ°¸è¿œå‰è¿›çš„åŸºç¡€ï¼Œè·ƒç„¶çº¸ä¸Šæ˜¯å¯¹çŸ¥è¯†çš„æ€»ç»“äº¤ä»£ï¼Œä¸ä¼—åˆ†äº«åˆ™æ˜¯å®ç°ä»·å€¼çš„æœ€å¥½æ–¹å¼ã€‚">
    <meta name="keywords" content="ily55421,golang,vue,go-web,go-admin,go-ldap-admin">
    <meta name="theme-color" content="#11a8cd">
    <meta name="referrer" content="no-referrer-when-downgrade">
    
    <link rel="preload" href="/assets/css/0.styles.5cf13956.css" as="style"><link rel="preload" href="/assets/js/app.e5f1d04a.js" as="script"><link rel="preload" href="/assets/js/5.5ca26c73.js" as="script"><link rel="preload" href="/assets/js/46.9a3a1678.js" as="script"><link rel="prefetch" href="/assets/js/10.32a16328.js"><link rel="prefetch" href="/assets/js/11.51f4dee0.js"><link rel="prefetch" href="/assets/js/12.47439b7b.js"><link rel="prefetch" href="/assets/js/13.fa6da581.js"><link rel="prefetch" href="/assets/js/14.a4af8b3e.js"><link rel="prefetch" href="/assets/js/15.1bac7980.js"><link rel="prefetch" href="/assets/js/16.c546c54e.js"><link rel="prefetch" href="/assets/js/17.efb08615.js"><link rel="prefetch" href="/assets/js/18.9b2c4127.js"><link rel="prefetch" href="/assets/js/19.638baf15.js"><link rel="prefetch" href="/assets/js/20.eae2ec52.js"><link rel="prefetch" href="/assets/js/21.6028e4c6.js"><link rel="prefetch" href="/assets/js/22.65b9e8bc.js"><link rel="prefetch" href="/assets/js/23.d38fc218.js"><link rel="prefetch" href="/assets/js/24.c702b259.js"><link rel="prefetch" href="/assets/js/25.6037b17d.js"><link rel="prefetch" href="/assets/js/26.8d2093a1.js"><link rel="prefetch" href="/assets/js/27.f00503b6.js"><link rel="prefetch" href="/assets/js/28.ae218bba.js"><link rel="prefetch" href="/assets/js/29.53603481.js"><link rel="prefetch" href="/assets/js/30.f6209a54.js"><link rel="prefetch" href="/assets/js/31.2a3dd39a.js"><link rel="prefetch" href="/assets/js/32.c76da96e.js"><link rel="prefetch" href="/assets/js/33.55338ecc.js"><link rel="prefetch" href="/assets/js/34.e4a4c9b4.js"><link rel="prefetch" href="/assets/js/35.c92aeb3b.js"><link rel="prefetch" href="/assets/js/36.8f6939f8.js"><link rel="prefetch" href="/assets/js/37.5f1cbc25.js"><link rel="prefetch" href="/assets/js/38.29a7134b.js"><link rel="prefetch" href="/assets/js/39.e9182250.js"><link rel="prefetch" href="/assets/js/40.9a91f960.js"><link rel="prefetch" href="/assets/js/41.10c04e65.js"><link rel="prefetch" href="/assets/js/42.eaf840e9.js"><link rel="prefetch" href="/assets/js/43.ec28b695.js"><link rel="prefetch" href="/assets/js/44.e3c0a33f.js"><link rel="prefetch" href="/assets/js/45.217b1ef2.js"><link rel="prefetch" href="/assets/js/47.cfde839a.js"><link rel="prefetch" href="/assets/js/48.a1b46b15.js"><link rel="prefetch" href="/assets/js/49.958486e7.js"><link rel="prefetch" href="/assets/js/50.7f71ef15.js"><link rel="prefetch" href="/assets/js/51.379bc3d5.js"><link rel="prefetch" href="/assets/js/52.915db24c.js"><link rel="prefetch" href="/assets/js/53.2b8a25d1.js"><link rel="prefetch" href="/assets/js/54.2fb45c99.js"><link rel="prefetch" href="/assets/js/55.b580bc6b.js"><link rel="prefetch" href="/assets/js/56.f2a876b1.js"><link rel="prefetch" href="/assets/js/57.0b337b28.js"><link rel="prefetch" href="/assets/js/58.c51f72c4.js"><link rel="prefetch" href="/assets/js/59.e57a2ed8.js"><link rel="prefetch" href="/assets/js/6.3396a9ee.js"><link rel="prefetch" href="/assets/js/60.cc5d9d89.js"><link rel="prefetch" href="/assets/js/61.5f762f80.js"><link rel="prefetch" href="/assets/js/62.04285b34.js"><link rel="prefetch" href="/assets/js/63.97495516.js"><link rel="prefetch" href="/assets/js/64.d02e2c76.js"><link rel="prefetch" href="/assets/js/65.5e7d91f2.js"><link rel="prefetch" href="/assets/js/66.b6b38a09.js"><link rel="prefetch" href="/assets/js/67.0e8ef811.js"><link rel="prefetch" href="/assets/js/68.ec22ebe4.js"><link rel="prefetch" href="/assets/js/69.6fc63975.js"><link rel="prefetch" href="/assets/js/7.0d4d4fc2.js"><link rel="prefetch" href="/assets/js/70.b95de4a1.js"><link rel="prefetch" href="/assets/js/71.6cd4b167.js"><link rel="prefetch" href="/assets/js/72.5edf7f96.js"><link rel="prefetch" href="/assets/js/73.5a1caaac.js"><link rel="prefetch" href="/assets/js/74.53473d38.js"><link rel="prefetch" href="/assets/js/8.45b70426.js"><link rel="prefetch" href="/assets/js/9.6c002df9.js"><link rel="prefetch" href="/assets/js/mermaid.f2857331.js"><link rel="prefetch" href="/assets/js/vendors~flowchart.c013cef0.js"><link rel="prefetch" href="/assets/js/vendors~mermaid.23884ed8.js">
    <link rel="stylesheet" href="/assets/css/0.styles.5cf13956.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="ç›®å½•" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="https://cdn.staticaly.com/gh/eryajf/tu/main/img/image_20220720_132208.png" alt="ily55421" class="logo"> <span class="site-name can-hide">ily55421</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">é¦–é¡µ</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ç®—æ³•ä¸æ•°æ®ç»“æ„" class="dropdown-title"><a href="/algorithm/" class="link-title">ç®—æ³•ä¸æ•°æ®ç»“æ„</a> <span class="title" style="display:none;">ç®—æ³•ä¸æ•°æ®ç»“æ„</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/24768e/" class="nav-link">ç®—æ³•</a></li><li class="dropdown-item"><!----> <a href="/pages/24770e/" class="nav-link">æ•°æ®ç»“æ„</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ä¸“é¢˜" class="dropdown-title"><a href="/topic/" class="link-title">ä¸“é¢˜</a> <span class="title" style="display:none;">ä¸“é¢˜</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/a4770e/" class="nav-link">æœ€ä½³å®è·µ</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ç”Ÿæ´»" class="dropdown-title"><a href="/life/" class="link-title">ç”Ÿæ´»</a> <span class="title" style="display:none;">ç”Ÿæ´»</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/bc7034/" class="nav-link">æœ€ä½³å®è·µ</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ç¼–ç¨‹" class="dropdown-title"><a href="/code/" class="link-title">ç¼–ç¨‹</a> <span class="title" style="display:none;">ç¼–ç¨‹</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/ace3fe/" class="nav-link">JAVA</a></li><li class="dropdown-item"><h4>JVM</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/f2e80b/" class="nav-link">Javaè™šæ‹ŸæœºåŸºæœ¬åŸç†</a></li><li class="dropdown-subitem"><a href="/pages/bf46c5/" aria-current="page" class="nav-link router-link-exact-active router-link-active">é«˜æ•ˆç¼–è¯‘</a></li><li class="dropdown-subitem"><a href="/pages/1261df/" class="nav-link">ä»£ç ä¼˜åŒ–</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ç´¢å¼•" class="dropdown-title"><a href="/categories/" class="link-title">ç´¢å¼•</a> <span class="title" style="display:none;">ç´¢å¼•</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">åˆ†ç±»</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">æ ‡ç­¾</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">å½’æ¡£</a></li></ul></div></div><div class="nav-item"><a href="/message-board/" class="nav-link">ç•™è¨€æ¿</a></div><div class="nav-item"><a href="https://ily55421.github.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  æˆ‘çš„åšå®¢
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com//" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><!----> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">é¦–é¡µ</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ç®—æ³•ä¸æ•°æ®ç»“æ„" class="dropdown-title"><a href="/algorithm/" class="link-title">ç®—æ³•ä¸æ•°æ®ç»“æ„</a> <span class="title" style="display:none;">ç®—æ³•ä¸æ•°æ®ç»“æ„</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/24768e/" class="nav-link">ç®—æ³•</a></li><li class="dropdown-item"><!----> <a href="/pages/24770e/" class="nav-link">æ•°æ®ç»“æ„</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ä¸“é¢˜" class="dropdown-title"><a href="/topic/" class="link-title">ä¸“é¢˜</a> <span class="title" style="display:none;">ä¸“é¢˜</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/a4770e/" class="nav-link">æœ€ä½³å®è·µ</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ç”Ÿæ´»" class="dropdown-title"><a href="/life/" class="link-title">ç”Ÿæ´»</a> <span class="title" style="display:none;">ç”Ÿæ´»</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/bc7034/" class="nav-link">æœ€ä½³å®è·µ</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ç¼–ç¨‹" class="dropdown-title"><a href="/code/" class="link-title">ç¼–ç¨‹</a> <span class="title" style="display:none;">ç¼–ç¨‹</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/ace3fe/" class="nav-link">JAVA</a></li><li class="dropdown-item"><h4>JVM</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/f2e80b/" class="nav-link">Javaè™šæ‹ŸæœºåŸºæœ¬åŸç†</a></li><li class="dropdown-subitem"><a href="/pages/bf46c5/" aria-current="page" class="nav-link router-link-exact-active router-link-active">é«˜æ•ˆç¼–è¯‘</a></li><li class="dropdown-subitem"><a href="/pages/1261df/" class="nav-link">ä»£ç ä¼˜åŒ–</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ç´¢å¼•" class="dropdown-title"><a href="/categories/" class="link-title">ç´¢å¼•</a> <span class="title" style="display:none;">ç´¢å¼•</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">åˆ†ç±»</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">æ ‡ç­¾</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">å½’æ¡£</a></li></ul></div></div><div class="nav-item"><a href="/message-board/" class="nav-link">ç•™è¨€æ¿</a></div><div class="nav-item"><a href="https://ily55421.github.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  æˆ‘çš„åšå®¢
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com//" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>JAVA</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>JVM</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Javaè™šæ‹ŸæœºåŸºæœ¬åŸç†</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>é«˜æ•ˆç¼–è¯‘</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/bf46c5/" aria-current="page" class="active sidebar-link">å¸¸ç”¨å·¥å…·ä»‹ç»</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/pages/bf46c5/#javap-æŸ¥é˜…-java-å­—èŠ‚ç " class="sidebar-link">javapï¼šæŸ¥é˜… Java å­—èŠ‚ç </a></li><li class="sidebar-sub-header level2"><a href="/pages/bf46c5/#_2-openjdk-é¡¹ç›®-code-tools-å®ç”¨å°å·¥å…·é›†" class="sidebar-link">2.OpenJDK é¡¹ç›® Code Toolsï¼šå®ç”¨å°å·¥å…·é›†</a></li><li class="sidebar-sub-header level2"><a href="/pages/bf46c5/#_3-asm-java-å­—èŠ‚ç æ¡†æ¶" class="sidebar-link">3.ASMï¼šJava å­—èŠ‚ç æ¡†æ¶</a></li><li class="sidebar-sub-header level2"><a href="/pages/bf46c5/#ä¿¡-23" class="sidebar-link">ä¿¡(23)</a></li></ul></li><li><a href="/pages/02bc49/" class="sidebar-link">Javaå†…å­˜æ¨¡å‹</a></li><li><a href="/pages/a695e3/" class="sidebar-link">Javaè™šæ‹Ÿæœºæ˜¯æ€ä¹ˆå®ç°synchronizedçš„ï¼Ÿ</a></li><li><a href="/pages/f1dd7f/" class="sidebar-link">Javaè¯­æ³•ç³–ä¸Javaç¼–è¯‘å™¨</a></li><li><a href="/pages/2de1d5/" class="sidebar-link">å³æ—¶ç¼–è¯‘ï¼ˆä¸Šï¼‰</a></li><li><a href="/pages/b67e14/" class="sidebar-link">å³æ—¶ç¼–è¯‘ï¼ˆä¸‹ï¼‰</a></li><li><a href="/pages/438d91/" class="sidebar-link">å³æ—¶ç¼–è¯‘å™¨çš„ä¸­é—´è¡¨è¾¾å½¢å¼</a></li><li><a href="/pages/661b6f/" class="sidebar-link">Javaå­—èŠ‚ç ï¼ˆåŸºç¡€ç¯‡ï¼‰</a></li><li><a href="/pages/ab7d29/" class="sidebar-link">æ–¹æ³•å†…è”ï¼ˆä¸Šï¼‰</a></li><li><a href="/pages/87a271/" class="sidebar-link">æ–¹æ³•å†…è”ï¼ˆä¸‹ï¼‰</a></li><li><a href="/pages/f7b36c/" class="sidebar-link">HotSpotè™šæ‹Ÿæœºçš„intrinsic</a></li><li><a href="/pages/2e8fbc/" class="sidebar-link">é€ƒé€¸åˆ†æ</a></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>ä»£ç ä¼˜åŒ–</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/" title="é¦–é¡µ" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><a href="/categories/?category=%E7%BC%96%E7%A8%8B%E4%B8%96%E7%95%8C" title="åˆ†ç±»" data-v-06225672>ç¼–ç¨‹ä¸–ç•Œ</a></li><li data-v-06225672><a href="/categories/?category=JVM" title="åˆ†ç±»" data-v-06225672>JVM</a></li><li data-v-06225672><a href="/categories/?category=%E9%AB%98%E6%95%88%E7%BC%96%E8%AF%91" title="åˆ†ç±»" data-v-06225672>é«˜æ•ˆç¼–è¯‘</a></li></ul> <div class="info" data-v-06225672><div title="ä½œè€…" class="author iconfont icon-touxiang" data-v-06225672><a href="https://github.com/ily55421" target="_blank" title="ä½œè€…" class="beLink" data-v-06225672>ily55421</a></div> <div title="åˆ›å»ºæ—¶é—´" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2022-08-17</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">ç›®å½•</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABGpJREFUSA3tVVtoXFUU3fvOI53UlmCaKIFmwEhsE7QK0ipFEdHEKpXaZGrp15SINsXUWvBDpBgQRKi0+KKoFeJHfZA+ED9KKoIU2gYD9UejTW4rVIzm0VSTziPzuNu1z507dibTTjL4U/DAzLn3nL3X2o91ziX6f9wMFdh6Jvbm9nNSV0msViVO6tN1Rm7NMu2OpeJ9lWBUTDxrJbYTS0hInuwciu9eLHlFxCLCZEk3MegsJmZ5K/JD6t7FkFdEvGUo1g7qJoG3MHImqRIn8/nzY1K9UPKKiJmtnUqHVE3Gbuay6vJE/N2FEmuxFjW2nUuE0yQXRRxLiTUAzs36zhZvOXJPdX850EVnnLZkB8prodQoM5JGj7Xk2mvC7JB8tG04Ef5PiXtG0UtxupRQSfTnBoCy554x18yJHI6I+G5Eru4LHmPJZEQsrvPUbMiA8G/WgMK7w7I+ez7++o2ANfbrjvaOl1tFMs+htG3IrZH9/hDX1Pr8Tc0UvH8tcX29KzAgIGcEkINyW5BF9x891hw6VYqgJHEk0huccS7vh3C6gTiODL+26huuBtbct8eZnqLML8PkxGYpuPZBqtqwkSjgc4mB5gbgig5i+y0UDK35LMxXisn9xQtK+nd26gTIHsHe/oblK/b29fUmN/8Y+9jAQrnBp56m1LcDlDp9irKTExSKduXJVWSqdBMA08pEJnEIOB3FPPMybu/oeV8zFeYN3xx576Q6RH+VmplE4ncQV5v+5rzSoyOU7PuEAg8g803PwBJ0CExno/jcMbN8tONYeOmHiuUNryvm3fRUy4tMPVLdAGkUhNWuggGrJcXPv+ouCjz0MKUHz1J2/E8IC9nqTabcxgaBYM0hPhD5Y65FsbxRQKxCQrDjDctW7PUM3HuZunFyifSAqEfuzCp48Il24luWUWZoyJCaPR82jE0+kFA643wRFVni4RYSq3ohJO2pZ7B5dO4xkDWbEpossJPLSrPjYID8rS2UHTlvyNxqIGsg674XJJ7vnh5L7PNwC4hh2sjCI96mzszOTpxLF0T7l88Yz7lAuK6OnL8gXLOnTvpzSb22YG8W7us3jSebFHeeqnXRG1vt+MoUM84LQIBmMsCTAcOauTh0T0l0neQK7m2bLMt2mGxU3HYssS0J2cdv5wljlPsrIuZLAG/2DOZIXgCYT8uMGZN+e2kSirfxZOPCsC0f24nTZzspnVn9VePS1Z5vubmAGGXG8ZFno9Hel0yfA5ZPhF7Dh972BQJ2qCpgH67lmWtBYbvk6sz02wjky2vXyz0XErP/kFB619js1BtwfOV4OPRqOQBjy3Qbk18vigUPPSD5ceHnwck7W9bhAqZdd7SuG7w4/P2F/GaJh8c7e9qgow+Q7cGBo+98WsLkuktFqiZabtXuQTu/Y5ETbR0v7tNSFnvrmu6pjdoan2KjMu8q/Hmj1EfCO2ZGfEIbIXKUlw8qaX9/b2oeSJmFksSeT/Fn0V3nSypChh4Gjh74ybO9aeZ/AN2dwciu2/MhAAAAAElFTkSuQmCC">å¸¸ç”¨å·¥å…·ä»‹ç»<!----></h1>  <div class="theme-vdoing-content content__default"><h1 id="ã€å·¥å…·ç¯‡ã€‘-å¸¸ç”¨å·¥å…·ä»‹ç»"><a href="#ã€å·¥å…·ç¯‡ã€‘-å¸¸ç”¨å·¥å…·ä»‹ç»" class="header-anchor">#</a> ã€å·¥å…·ç¯‡ã€‘ å¸¸ç”¨å·¥å…·ä»‹ç»</h1> <p>åœ¨å‰é¢çš„æ–‡ç« ä¸­ï¼Œæˆ‘æ›¾ä½¿ç”¨äº†ä¸å°‘å·¥å…·æ¥è¾…åŠ©è®²è§£ï¼Œä¹Ÿæ”¶åˆ°äº†ä¸å°‘åŒå­¦ç•™è¨€ï¼Œè¯´ä¸äº†è§£è¿™äº›å·¥å…·ï¼Œä¸çŸ¥é“éƒ½æœ‰ä»€ä¹ˆç”¨ï¼Œåº”è¯¥æ€ä¹ˆç”¨ã€‚é‚£ä¹ˆä»Šå¤©æˆ‘ä¾¿ç»Ÿä¸€åšä¸€æ¬¡å…·ä½“çš„ä»‹ç»ã€‚æœ¬ç¯‡ä»£ç è¾ƒå¤šï¼Œä½ å¯ä»¥ç‚¹å‡»æ–‡ç¨¿æŸ¥çœ‹ã€‚</p> <h2 id="javap-æŸ¥é˜…-java-å­—èŠ‚ç "><a href="#javap-æŸ¥é˜…-java-å­—èŠ‚ç " class="header-anchor">#</a> javapï¼šæŸ¥é˜… Java å­—èŠ‚ç </h2> <p>javap æ˜¯ä¸€ä¸ªèƒ½å¤Ÿå°† class æ–‡ä»¶åæ±‡ç¼–æˆäººç±»å¯è¯»æ ¼å¼çš„å·¥å…·ã€‚åœ¨æœ¬ä¸“æ ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸å€ŸåŠ©è¿™ä¸ªå·¥å…·æ¥æŸ¥é˜… Java å­—èŠ‚ç ã€‚</p> <p>ä¸¾ä¸ªä¾‹å­ï¼Œåœ¨è®²è§£å¼‚å¸¸å¤„ç†é‚£ä¸€ç¯‡ä¸­ï¼Œæˆ‘æ›¾ç»å±•ç¤ºè¿‡è¿™ä¹ˆä¸€æ®µä»£ç ã€‚</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>
public class Foo {

  private int tryBlock;

  private int catchBlock;

  private int finallyBlock;

  private int methodExit;

 

  public void test() {

    try {

      tryBlock = 0;

    } catch (Exception e) {

      catchBlock = 1;

    } finally {

      finallyBlock = 2;

    }

    methodExit = 3;

  }

}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div><p>ç¼–è¯‘è¿‡åï¼Œæˆ‘ä»¬ä¾¿å¯ä»¥ä½¿ç”¨ javap æ¥æŸ¥é˜… Foo.test æ–¹æ³•çš„å­—èŠ‚ç ã€‚</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>
$ javac Foo.java

$ javap -p -v Foo

Classfile ../Foo.class

  Last modified ..; size 541 bytes

  MD5 checksum 3828cdfbba56fea1da6c8d94fd13b20d

  Compiled from &quot;Foo.java&quot;

public class Foo

  minor version: 0

  major version: 54

  flags: (0x0021) ACC_PUBLIC, ACC_SUPER

  this_class: #7                          // Foo

  super_class: #8                         // java/lang/Object

  interfaces: 0, fields: 4, methods: 2, attributes: 1

Constant pool:

   #1 = Methodref          #8.#23         // java/lang/Object.&quot;&lt;init&gt;&quot;:()V

   #2 = Fieldref           #7.#24         // Foo.tryBlock:I

   #3 = Fieldref           #7.#25         // Foo.finallyBlock:I

   #4 = Class              #26            // java/lang/Exception

   #5 = Fieldref           #7.#27         // Foo.catchBlock:I

   #6 = Fieldref           #7.#28         // Foo.methodExit:I

   #7 = Class              #29            // Foo

   #8 = Class              #30            // java/lang/Object

   #9 = Utf8               tryBlock

  #10 = Utf8               I

  #11 = Utf8               catchBlock

  #12 = Utf8               finallyBlock

  #13 = Utf8               methodExit

  #14 = Utf8               &lt;init&gt;

  #15 = Utf8               ()V

  #16 = Utf8               Code

  #17 = Utf8               LineNumberTable

  #18 = Utf8               test

  #19 = Utf8               StackMapTable

  #20 = Class              #31            // java/lang/Throwable

  #21 = Utf8               SourceFile

  #22 = Utf8               Foo.java

  #23 = NameAndType        #14:#15        // &quot;&lt;init&gt;&quot;:()V

  #24 = NameAndType        #9:#10         // tryBlock:I

  #25 = NameAndType        #12:#10        // finallyBlock:I

  #26 = Utf8               java/lang/Exception

  #27 = NameAndType        #11:#10        // catchBlock:I

  #28 = NameAndType        #13:#10        // methodExit:I

  #29 = Utf8               Foo

  #30 = Utf8               java/lang/Object

  #31 = Utf8               java/lang/Throwable

{

  private int tryBlock;

    descriptor: I

    flags: (0x0002) ACC_PRIVATE

 

  private int catchBlock;

    descriptor: I

    flags: (0x0002) ACC_PRIVATE

 

  private int finallyBlock;

    descriptor: I

    flags: (0x0002) ACC_PRIVATE

 

  private int methodExit;

    descriptor: I

    flags: (0x0002) ACC_PRIVATE

 

  public Foo();

    descriptor: ()V

    flags: (0x0001) ACC_PUBLIC

    Code:

      stack=1, locals=1, args_size=1

         0: aload_0

         1: invokespecial #1                  // Method java/lang/Object.&quot;&lt;init&gt;&quot;:()V

         4: return

      LineNumberTable:

        line 1: 0

 

  public void test();

    descriptor: ()V

    flags: (0x0001) ACC_PUBLIC

    Code:

      stack=2, locals=3, args_size=1

         0: aload_0

         1: iconst_0

         2: putfield      #2                  // Field tryBlock:I

         5: aload_0

         6: iconst_2

         7: putfield      #3                  // Field finallyBlock:I

        10: goto          35

        13: astore_1

        14: aload_0

        15: iconst_1

        16: putfield      #5                  // Field catchBlock:I

        19: aload_0

        20: iconst_2

        21: putfield      #3                  // Field finallyBlock:I

        24: goto          35

        27: astore_2

        28: aload_0

        29: iconst_2

        30: putfield      #3                  // Field finallyBlock:I

        33: aload_2

        34: athrow

        35: aload_0

        36: iconst_3

        37: putfield      #6                  // Field methodExit:I

        40: return

      Exception table:

         from    to  target type

             0     5    13   Class java/lang/Exception

             0     5    27   any

            13    19    27   any

      LineNumberTable:

        line 9: 0

        line 13: 5

        line 14: 10

        line 10: 13

        line 11: 14

        line 13: 19

        line 14: 24

        line 13: 27

        line 14: 33

        line 15: 35

        line 16: 40

      StackMapTable: number_of_entries = 3

        frame_type = 77 /* same_locals_1_stack_item */

          stack = [ class java/lang/Exception ]

        frame_type = 77 /* same_locals_1_stack_item */

          stack = [ class java/lang/Throwable ]

        frame_type = 7 /* same */

}

SourceFile: &quot;Foo.java&quot;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br><span class="line-number">150</span><br><span class="line-number">151</span><br><span class="line-number">152</span><br><span class="line-number">153</span><br><span class="line-number">154</span><br><span class="line-number">155</span><br><span class="line-number">156</span><br><span class="line-number">157</span><br><span class="line-number">158</span><br><span class="line-number">159</span><br><span class="line-number">160</span><br><span class="line-number">161</span><br><span class="line-number">162</span><br><span class="line-number">163</span><br><span class="line-number">164</span><br><span class="line-number">165</span><br><span class="line-number">166</span><br><span class="line-number">167</span><br><span class="line-number">168</span><br><span class="line-number">169</span><br><span class="line-number">170</span><br><span class="line-number">171</span><br><span class="line-number">172</span><br><span class="line-number">173</span><br><span class="line-number">174</span><br><span class="line-number">175</span><br><span class="line-number">176</span><br><span class="line-number">177</span><br><span class="line-number">178</span><br><span class="line-number">179</span><br><span class="line-number">180</span><br><span class="line-number">181</span><br><span class="line-number">182</span><br><span class="line-number">183</span><br><span class="line-number">184</span><br><span class="line-number">185</span><br><span class="line-number">186</span><br><span class="line-number">187</span><br><span class="line-number">188</span><br><span class="line-number">189</span><br><span class="line-number">190</span><br><span class="line-number">191</span><br><span class="line-number">192</span><br><span class="line-number">193</span><br><span class="line-number">194</span><br><span class="line-number">195</span><br><span class="line-number">196</span><br><span class="line-number">197</span><br><span class="line-number">198</span><br><span class="line-number">199</span><br><span class="line-number">200</span><br><span class="line-number">201</span><br><span class="line-number">202</span><br><span class="line-number">203</span><br><span class="line-number">204</span><br><span class="line-number">205</span><br><span class="line-number">206</span><br><span class="line-number">207</span><br><span class="line-number">208</span><br><span class="line-number">209</span><br><span class="line-number">210</span><br><span class="line-number">211</span><br><span class="line-number">212</span><br><span class="line-number">213</span><br><span class="line-number">214</span><br><span class="line-number">215</span><br><span class="line-number">216</span><br><span class="line-number">217</span><br><span class="line-number">218</span><br><span class="line-number">219</span><br><span class="line-number">220</span><br><span class="line-number">221</span><br><span class="line-number">222</span><br><span class="line-number">223</span><br><span class="line-number">224</span><br><span class="line-number">225</span><br><span class="line-number">226</span><br><span class="line-number">227</span><br><span class="line-number">228</span><br><span class="line-number">229</span><br><span class="line-number">230</span><br><span class="line-number">231</span><br><span class="line-number">232</span><br><span class="line-number">233</span><br><span class="line-number">234</span><br><span class="line-number">235</span><br><span class="line-number">236</span><br><span class="line-number">237</span><br><span class="line-number">238</span><br><span class="line-number">239</span><br><span class="line-number">240</span><br><span class="line-number">241</span><br><span class="line-number">242</span><br><span class="line-number">243</span><br><span class="line-number">244</span><br><span class="line-number">245</span><br><span class="line-number">246</span><br><span class="line-number">247</span><br><span class="line-number">248</span><br><span class="line-number">249</span><br><span class="line-number">250</span><br><span class="line-number">251</span><br><span class="line-number">252</span><br><span class="line-number">253</span><br><span class="line-number">254</span><br><span class="line-number">255</span><br><span class="line-number">256</span><br></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br><span class="line-number">150</span><br><span class="line-number">151</span><br><span class="line-number">152</span><br><span class="line-number">153</span><br><span class="line-number">154</span><br><span class="line-number">155</span><br><span class="line-number">156</span><br><span class="line-number">157</span><br><span class="line-number">158</span><br><span class="line-number">159</span><br><span class="line-number">160</span><br><span class="line-number">161</span><br><span class="line-number">162</span><br><span class="line-number">163</span><br><span class="line-number">164</span><br><span class="line-number">165</span><br><span class="line-number">166</span><br><span class="line-number">167</span><br><span class="line-number">168</span><br><span class="line-number">169</span><br><span class="line-number">170</span><br><span class="line-number">171</span><br><span class="line-number">172</span><br><span class="line-number">173</span><br><span class="line-number">174</span><br><span class="line-number">175</span><br><span class="line-number">176</span><br><span class="line-number">177</span><br><span class="line-number">178</span><br><span class="line-number">179</span><br><span class="line-number">180</span><br><span class="line-number">181</span><br><span class="line-number">182</span><br><span class="line-number">183</span><br><span class="line-number">184</span><br><span class="line-number">185</span><br><span class="line-number">186</span><br><span class="line-number">187</span><br><span class="line-number">188</span><br><span class="line-number">189</span><br><span class="line-number">190</span><br><span class="line-number">191</span><br><span class="line-number">192</span><br><span class="line-number">193</span><br><span class="line-number">194</span><br><span class="line-number">195</span><br><span class="line-number">196</span><br><span class="line-number">197</span><br><span class="line-number">198</span><br><span class="line-number">199</span><br><span class="line-number">200</span><br><span class="line-number">201</span><br><span class="line-number">202</span><br><span class="line-number">203</span><br><span class="line-number">204</span><br><span class="line-number">205</span><br><span class="line-number">206</span><br><span class="line-number">207</span><br><span class="line-number">208</span><br><span class="line-number">209</span><br><span class="line-number">210</span><br><span class="line-number">211</span><br><span class="line-number">212</span><br><span class="line-number">213</span><br><span class="line-number">214</span><br><span class="line-number">215</span><br><span class="line-number">216</span><br><span class="line-number">217</span><br><span class="line-number">218</span><br><span class="line-number">219</span><br><span class="line-number">220</span><br><span class="line-number">221</span><br><span class="line-number">222</span><br><span class="line-number">223</span><br><span class="line-number">224</span><br><span class="line-number">225</span><br><span class="line-number">226</span><br><span class="line-number">227</span><br><span class="line-number">228</span><br><span class="line-number">229</span><br><span class="line-number">230</span><br><span class="line-number">231</span><br><span class="line-number">232</span><br><span class="line-number">233</span><br><span class="line-number">234</span><br><span class="line-number">235</span><br><span class="line-number">236</span><br><span class="line-number">237</span><br><span class="line-number">238</span><br><span class="line-number">239</span><br><span class="line-number">240</span><br><span class="line-number">241</span><br><span class="line-number">242</span><br><span class="line-number">243</span><br><span class="line-number">244</span><br><span class="line-number">245</span><br><span class="line-number">246</span><br><span class="line-number">247</span><br><span class="line-number">248</span><br><span class="line-number">249</span><br><span class="line-number">250</span><br><span class="line-number">251</span><br><span class="line-number">252</span><br><span class="line-number">253</span><br><span class="line-number">254</span><br><span class="line-number">255</span><br><span class="line-number">256</span><br></div></div><p>è¿™é‡Œé¢æˆ‘ç”¨åˆ°äº†ä¸¤ä¸ªé€‰é¡¹ã€‚ç¬¬ä¸€ä¸ªé€‰é¡¹æ˜¯ -pã€‚é»˜è®¤æƒ…å†µä¸‹ javap ä¼šæ‰“å°æ‰€æœ‰éç§æœ‰çš„å­—æ®µå’Œæ–¹æ³•ï¼Œå½“åŠ äº† -p é€‰é¡¹åï¼Œå®ƒè¿˜å°†æ‰“å°ç§æœ‰çš„å­—æ®µå’Œæ–¹æ³•ã€‚ç¬¬äºŒä¸ªé€‰é¡¹æ˜¯  -vã€‚å®ƒå°½å¯èƒ½åœ°æ‰“å°æ‰€æœ‰ä¿¡æ¯ã€‚å¦‚æœä½ åªéœ€è¦æŸ¥é˜…æ–¹æ³•å¯¹åº”çš„å­—èŠ‚ç ï¼Œé‚£ä¹ˆå¯ä»¥ç”¨ -c é€‰é¡¹æ¥æ›¿æ¢ -vã€‚</p> <p>javap çš„ -v é€‰é¡¹çš„è¾“å‡ºåˆ†ä¸ºå‡ å¤§å—ã€‚</p> <p>\1. åŸºæœ¬ä¿¡æ¯ï¼Œæ¶µç›–äº†åŸ class æ–‡ä»¶çš„ç›¸å…³ä¿¡æ¯ã€‚</p> <p>class æ–‡ä»¶çš„ç‰ˆæœ¬å·ï¼ˆminor version: 0ï¼Œmajor version: 54ï¼‰ï¼Œè¯¥ç±»çš„è®¿é—®æƒé™ï¼ˆflags:  (0x0021) ACC_PUBLIC, ACC_SUPERï¼‰ï¼Œè¯¥ç±»ï¼ˆthis_class: #7ï¼‰ä»¥åŠçˆ¶ç±»ï¼ˆsuper_class:  #8ï¼‰çš„åå­—ï¼Œæ‰€å®ç°æ¥å£ï¼ˆinterfaces: 0ï¼‰ã€å­—æ®µï¼ˆfields: 4ï¼‰ã€æ–¹æ³•ï¼ˆmethods: 2ï¼‰ä»¥åŠå±æ€§ï¼ˆattributes: 1ï¼‰çš„æ•°ç›®ã€‚</p> <p>è¿™é‡Œå±æ€§æŒ‡çš„æ˜¯ class æ–‡ä»¶æ‰€æºå¸¦çš„è¾…åŠ©ä¿¡æ¯ï¼Œæ¯”å¦‚è¯¥ class æ–‡ä»¶çš„æºæ–‡ä»¶çš„åç§°ã€‚è¿™ç±»ä¿¡æ¯é€šå¸¸è¢«ç”¨äº Java è™šæ‹Ÿæœºçš„éªŒè¯å’Œè¿è¡Œï¼Œä»¥åŠ Java ç¨‹åºçš„è°ƒè¯•ï¼Œä¸€èˆ¬æ— é¡»æ·±å…¥äº†è§£ã€‚</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>
Classfile ../Foo.class

  Last modified ..; size 541 bytes

  MD5 checksum 3828cdfbba56fea1da6c8d94fd13b20d

  Compiled from &quot;Foo.java&quot;

public class Foo

  minor version: 0

  major version: 54

  flags: (0x0021) ACC_PUBLIC, ACC_SUPER

  this_class: #7                          // Foo

  super_class: #8                         // java/lang/Object

  interfaces: 0, fields: 4, methods: 2, attributes: 1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><p>class æ–‡ä»¶çš„ç‰ˆæœ¬å·æŒ‡çš„æ˜¯ç¼–è¯‘ç”Ÿæˆè¯¥ class æ–‡ä»¶æ—¶æ‰€ç”¨çš„ JRE ç‰ˆæœ¬ã€‚ç”±è¾ƒæ–°çš„ JRE ç‰ˆæœ¬ä¸­çš„ javac ç¼–è¯‘è€Œæˆçš„ class  æ–‡ä»¶ï¼Œä¸èƒ½åœ¨æ—§ç‰ˆæœ¬çš„ JRE ä¸Šè·‘ï¼Œå¦åˆ™ï¼Œä¼šå‡ºç°å¦‚ä¸‹å¼‚å¸¸ä¿¡æ¯ã€‚ï¼ˆJava 8 å¯¹åº”çš„ç‰ˆæœ¬å·ä¸º 52ï¼ŒJava 10 å¯¹åº”çš„ç‰ˆæœ¬å·ä¸º 54ã€‚ï¼‰</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>
Exception in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: Foo has been compiled by a more recent version of the Java Runtime (class file version 54.0), this version of the Java Runtime only recognizes class file versions up to 52.0
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>ç±»çš„è®¿é—®æƒé™é€šå¸¸ä¸º ACC_ å¼€å¤´çš„å¸¸é‡ã€‚å…·ä½“æ¯ä¸ªå¸¸é‡çš„æ„ä¹‰å¯ä»¥æŸ¥é˜… Java è™šæ‹Ÿæœºè§„èŒƒ 4.1 å°èŠ‚ [1]ã€‚</p> <p>\2. å¸¸é‡æ± ï¼Œç”¨æ¥å­˜æ”¾å„ç§å¸¸é‡ä»¥åŠç¬¦å·å¼•ç”¨ã€‚</p> <p>å¸¸é‡æ± ä¸­çš„æ¯ä¸€é¡¹éƒ½æœ‰ä¸€ä¸ªå¯¹åº”çš„ç´¢å¼•ï¼ˆå¦‚ #1ï¼‰ï¼Œå¹¶ä¸”å¯èƒ½å¼•ç”¨å…¶ä»–çš„å¸¸é‡æ± é¡¹ï¼ˆ#1 = Methodref #8.#23ï¼‰ã€‚</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>
Constant pool:

   #1 = Methodref          #8.#23         // java/lang/Object.&quot;&lt;init&gt;&quot;:()V

... 

   #8 = Class              #30            // java/lang/Object

...

  #14 = Utf8               &lt;init&gt;

  #15 = Utf8               ()V

...

  #23 = NameAndType        #14:#15        // &quot;&lt;init&gt;&quot;:()V

...

  #30 = Utf8               java/lang/Object
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><p>ä¸¾ä¾‹æ¥è¯´ï¼Œä¸Šå›¾ä¸­çš„ 1 å·å¸¸é‡æ± é¡¹æ˜¯ä¸€ä¸ªæŒ‡å‘ Object ç±»æ„é€ å™¨çš„ç¬¦å·å¼•ç”¨ã€‚å®ƒæ˜¯ç”±å¦å¤–ä¸¤ä¸ªå¸¸é‡æ± é¡¹æ‰€æ„æˆã€‚å¦‚æœå°†å®ƒçœ‹æˆä¸€ä¸ªæ ‘ç»“æ„çš„è¯ï¼Œé‚£ä¹ˆå®ƒçš„å¶èŠ‚ç‚¹ä¼šæ˜¯å­—ç¬¦ä¸²å¸¸é‡ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p> <p><img src="https://linkeq.oss-cn-chengdu.aliyuncs.com/img/2022/05/31/image-20220531143659286-69e8bc.png" alt="image-20220531143659286"></p> <p>\3. å­—æ®µåŒºåŸŸï¼Œç”¨æ¥åˆ—ä¸¾è¯¥ç±»ä¸­çš„å„ä¸ªå­—æ®µã€‚</p> <p>è¿™é‡Œæœ€ä¸»è¦çš„ä¿¡æ¯ä¾¿æ˜¯è¯¥å­—æ®µçš„ç±»å‹ï¼ˆdescriptor: Iï¼‰ä»¥åŠè®¿é—®æƒé™ï¼ˆflags: (0x0002) ACC_PRIVATEï¼‰ã€‚å¯¹äºå£°æ˜ä¸º final çš„é™æ€å­—æ®µè€Œè¨€ï¼Œå¦‚æœå®ƒæ˜¯åŸºæœ¬ç±»å‹æˆ–è€…å­—ç¬¦ä¸²ç±»å‹ï¼Œé‚£ä¹ˆå­—æ®µåŒºåŸŸè¿˜å°†åŒ…æ‹¬å®ƒçš„å¸¸é‡å€¼ã€‚</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>
  private int tryBlock;

    descriptor: I

    flags: (0x0002) ACC_PRIVATE

 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>å¦å¤–ï¼ŒJava è™šæ‹ŸæœºåŒæ ·ä½¿ç”¨äº†â€œæè¿°ç¬¦â€ï¼ˆdescriptorï¼‰æ¥æè¿°å­—æ®µçš„ç±»å‹ã€‚å…·ä½“çš„å¯¹ç…§å¦‚ä¸‹è¡¨æ‰€ç¤ºã€‚å…¶ä¸­æ¯”è¾ƒç‰¹æ®Šçš„ï¼Œæˆ‘å·²ç»é«˜äº®æ˜¾ç¤ºã€‚</p> <p>\4. æ–¹æ³•åŒºåŸŸï¼Œç”¨æ¥åˆ—ä¸¾è¯¥ç±»ä¸­çš„å„ä¸ªæ–¹æ³•ã€‚</p> <p>é™¤äº†æ–¹æ³•æè¿°ç¬¦ä»¥åŠè®¿é—®æƒé™ä¹‹å¤–ï¼Œæ¯ä¸ªæ–¹æ³•è¿˜åŒ…æ‹¬æœ€ä¸ºé‡è¦çš„ä»£ç åŒºåŸŸï¼ˆCode:)ã€‚</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>
  public void test();

    descriptor: ()V

    flags: (0x0001) ACC_PUBLIC

    Code:

      stack=2, locals=3, args_size=1

         0: aload_0

...

        10: goto          35

...

        34: athrow

        35: aload_0

...

        40: return

      Exception table:

         from    to  target type

             0     5    13   Class java/lang/Exception

             0     5    27   any

            13    19    27   any

      LineNumberTable:

        line 9: 0

...

        line 16: 40

      StackMapTable: number_of_entries = 3

        frame_type = 77 /* same_locals_1_stack_item */

          stack = [ class java/lang/Exception ]

...
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br></div></div><p>ä»£ç åŒºåŸŸä¸€å¼€å§‹ä¼šå£°æ˜è¯¥æ–¹æ³•ä¸­çš„æ“ä½œæ•°æ ˆï¼ˆstack=2ï¼‰å’Œå±€éƒ¨å˜é‡æ•°ç›®ï¼ˆlocals=3ï¼‰çš„æœ€å¤§å€¼ï¼Œä»¥åŠè¯¥æ–¹æ³•æ¥æ”¶å‚æ•°çš„ä¸ªæ•°ï¼ˆargs_size=1ï¼‰ã€‚æ³¨æ„è¿™é‡Œå±€éƒ¨å˜é‡æŒ‡çš„æ˜¯å­—èŠ‚ç ä¸­çš„å±€éƒ¨å˜é‡ï¼Œè€Œé Java ç¨‹åºä¸­çš„å±€éƒ¨å˜é‡ã€‚</p> <p>æ¥ä¸‹æ¥åˆ™æ˜¯è¯¥æ–¹æ³•çš„å­—èŠ‚ç ã€‚æ¯æ¡å­—èŠ‚ç å‡æ ‡æ³¨äº†å¯¹åº”çš„åç§»é‡ï¼ˆbytecode indexï¼ŒBCIï¼‰ï¼Œè¿™æ˜¯ç”¨æ¥å®šä½å­—èŠ‚ç çš„ã€‚æ¯”å¦‚è¯´åç§»é‡ä¸º 10 çš„è·³è½¬å­—èŠ‚ç  10: goto 35ï¼Œå°†è·³è½¬è‡³åç§»é‡ä¸º 35 çš„å­—èŠ‚ç  35: aload_0ã€‚</p> <p>ç´§è·Ÿç€çš„å¼‚å¸¸è¡¨ï¼ˆException table:ï¼‰ä¹Ÿä¼šä½¿ç”¨åç§»é‡æ¥å®šä½æ¯ä¸ªå¼‚å¸¸å¤„ç†å™¨æ‰€ç›‘æ§çš„èŒƒå›´ï¼ˆç”± from åˆ° to  çš„ä»£ç åŒºåŸŸï¼‰ï¼Œä»¥åŠå¼‚å¸¸å¤„ç†å™¨çš„èµ·å§‹ä½ç½®ï¼ˆtargetï¼‰ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œå®ƒè¿˜ä¼šå£°æ˜æ‰€æ•è·çš„å¼‚å¸¸ç±»å‹ï¼ˆtypeï¼‰ã€‚å…¶ä¸­ï¼Œany æŒ‡ä»£ä»»æ„å¼‚å¸¸ç±»å‹ã€‚</p> <p>å†æ¥ä¸‹æ¥çš„è¡Œæ•°è¡¨ï¼ˆLineNumberTable:ï¼‰åˆ™æ˜¯ Java æºç¨‹åºåˆ°å­—èŠ‚ç åç§»é‡çš„æ˜ å°„ã€‚å¦‚æœä½ åœ¨ç¼–è¯‘æ—¶ä½¿ç”¨äº† -g  å‚æ•°ï¼ˆjavac -g Foo.javaï¼‰ï¼Œé‚£ä¹ˆè¿™é‡Œè¿˜å°†å‡ºç°å±€éƒ¨å˜é‡è¡¨ï¼ˆLocalVariableTable:ï¼‰ï¼Œå±•ç¤º Java  ç¨‹åºä¸­æ¯ä¸ªå±€éƒ¨å˜é‡çš„åå­—ã€ç±»å‹ä»¥åŠä½œç”¨åŸŸã€‚</p> <p>è¡Œæ•°è¡¨å’Œå±€éƒ¨å˜é‡è¡¨å‡å±äºè°ƒè¯•ä¿¡æ¯ã€‚Java è™šæ‹Ÿæœºå¹¶ä¸è¦æ±‚ class æ–‡ä»¶å¿…å¤‡è¿™äº›ä¿¡æ¯ã€‚</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>
      LocalVariableTable:

        Start  Length  Slot  Name   Signature

           14       5     1     e   Ljava/lang/Exception;

            0      41     0  this   LFoo;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>æœ€ååˆ™æ˜¯å­—èŠ‚ç æ“ä½œæ•°æ ˆçš„æ˜ å°„è¡¨ï¼ˆStackMapTable: number_of_entries = 3ï¼‰ã€‚è¯¥è¡¨æè¿°çš„æ˜¯å­—èŠ‚ç è·³è½¬åæ“ä½œæ•°æ ˆçš„åˆ†å¸ƒæƒ…å†µï¼Œä¸€èˆ¬è¢« Java è™šæ‹Ÿæœºç”¨äºéªŒè¯æ‰€åŠ è½½çš„ç±»ï¼Œä»¥åŠå³æ—¶ç¼–è¯‘ç›¸å…³çš„ä¸€äº›æ“ä½œï¼Œæ­£å¸¸æƒ…å†µä¸‹ï¼Œä½ æ— é¡»æ·±å…¥äº†è§£ã€‚</p> <h2 id="_2-openjdk-é¡¹ç›®-code-tools-å®ç”¨å°å·¥å…·é›†"><a href="#_2-openjdk-é¡¹ç›®-code-tools-å®ç”¨å°å·¥å…·é›†" class="header-anchor">#</a> 2.OpenJDK é¡¹ç›® Code Toolsï¼šå®ç”¨å°å·¥å…·é›†</h2> <p>OpenJDK çš„ Code Tools é¡¹ç›® [2] åŒ…å«äº†å¥½å‡ ä¸ªå®ç”¨çš„å°å·¥å…·ã€‚</p> <p>åœ¨ç¬¬ä¸€ç¯‡çš„å®è·µç¯èŠ‚ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†å…¶ä¸­çš„å­—èŠ‚ç æ±‡ç¼–å™¨åæ±‡ç¼–å™¨ ASMTools[3]ï¼Œå½“å‰ 6.0 ç‰ˆæœ¬çš„ä¸‹è½½åœ°å€ä½äº [4]ã€‚ASMTools çš„åæ±‡ç¼–ä»¥åŠæ±‡ç¼–æ“ä½œæ‰€å¯¹åº”çš„å‘½ä»¤åˆ†åˆ«ä¸ºï¼š</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>
$ java -cp /path/to/asmtools.jar org.openjdk.asmtools.jdis.Main Foo.class &gt; Foo.jasm
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>å’Œ</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>
$ java -cp /path/to/asmtools.jar org.openjdk.asmtools.jasm.Main Foo.jasm
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>è¯¥åæ±‡ç¼–å™¨çš„è¾“å‡ºæ ¼å¼å’Œ javap çš„ä¸å°½ç›¸åŒã€‚ä¸€èˆ¬æˆ‘åªä½¿ç”¨å®ƒæ¥è¿›è¡Œä¸€äº›ç®€å•çš„å­—èŠ‚ç ä¿®æ”¹ï¼Œä»¥æ­¤ç”Ÿæˆæ— æ³•ç›´æ¥ç”± Java ç¼–è¯‘å™¨ç”Ÿæˆçš„ç±»ï¼Œå®ƒåœ¨ HotSpot è™šæ‹Ÿæœºè‡ªèº«çš„æµ‹è¯•ä¸­æ¯”è¾ƒå¸¸è§ã€‚</p> <p>åœ¨ç¬¬ä¸€ç¯‡çš„å®è·µç¯èŠ‚ä¸­ï¼Œæˆ‘ä»¬éœ€è¦å°†æ•´æ•° 2 èµ‹å€¼åˆ°ä¸€ä¸ªå£°æ˜ä¸º boolean ç±»å‹çš„å±€éƒ¨å˜é‡ä¸­ã€‚æˆ‘é‡‡å–çš„åšæ³•æ˜¯å°†ç¼–è¯‘ç”Ÿæˆçš„ class æ–‡ä»¶åæ±‡ç¼–è‡³ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ä¸­ï¼Œç„¶åæ‰¾åˆ° boolean flag = true å¯¹åº”çš„å­—èŠ‚ç åºåˆ—ï¼Œä¹Ÿå°±æ˜¯ä¸‹é¢çš„ä¸¤ä¸ªã€‚</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>
iconst_1;

istore_1;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>å°†è¿™é‡Œçš„ iconst_1 æ”¹ä¸º iconst_2[5]ï¼Œä¿å­˜åå†æ±‡ç¼–è‡³ class æ–‡ä»¶å³å¯å®Œæˆç¬¬ä¸€ç¯‡å®è·µç¯èŠ‚çš„éœ€æ±‚ã€‚</p> <p>é™¤æ­¤ä¹‹å¤–ï¼Œä½ è¿˜å¯ä»¥åˆ©ç”¨è¿™ä¸€å¥—å·¥å…·æ¥éªŒè¯æˆ‘ä¹‹å‰æ–‡ç« ä¸­çš„ä¸€äº›ç»“è®ºã€‚æ¯”å¦‚æˆ‘è¯´è¿‡ class æ–‡ä»¶å…è®¸å‡ºç°å‚æ•°ç±»å‹ç›¸åŒã€è€Œè¿”å›ç±»å‹ä¸åŒçš„æ–¹æ³•ï¼Œå¹¶ä¸”ï¼Œåœ¨ä½œä¸ºåº“æ–‡ä»¶æ—¶ Java ç¼–è¯‘å™¨å°†ä½¿ç”¨å…ˆå®šä¹‰çš„é‚£ä¸€ä¸ªï¼Œæ¥å†³å®šå…·ä½“çš„è¿”å›ç±»å‹ã€‚</p> <p>å…·ä½“çš„éªŒè¯æ–¹æ³•ä¾¿æ˜¯åœ¨åæ±‡ç¼–ä¹‹åï¼Œåˆ©ç”¨æ–‡æœ¬ç¼–è¾‘å·¥å…·å¤åˆ¶æŸä¸€æ–¹æ³•ï¼Œå¹¶ä¸”æ›´æ”¹è¯¥æ–¹æ³•çš„æè¿°ç¬¦ï¼Œä¿å­˜åå†æ±‡ç¼–è‡³ class æ–‡ä»¶ã€‚</p> <p>Code Tools é¡¹ç›®è¿˜åŒ…å«å¦ä¸€ä¸ªå®ç”¨çš„å°å·¥å…· JOL[6]ï¼Œå½“å‰ 0.9 ç‰ˆæœ¬çš„ä¸‹è½½åœ°å€ä½äº [7]ã€‚JOL å¯ç”¨äºæŸ¥é˜… Java è™šæ‹Ÿæœºä¸­å¯¹è±¡çš„å†…å­˜åˆ†å¸ƒï¼Œå…·ä½“å¯é€šè¿‡å¦‚ä¸‹ä¸¤æ¡æŒ‡ä»¤æ¥å®ç°ã€‚</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>
$ java -jar /path/to/jol-cli-0.9-full.jar internals java.util.HashMap

$ java -jar /path/to/jol-cli-0.9-full.jar estimates java.util.HashMap
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="_3-asm-java-å­—èŠ‚ç æ¡†æ¶"><a href="#_3-asm-java-å­—èŠ‚ç æ¡†æ¶" class="header-anchor">#</a> 3.ASMï¼šJava å­—èŠ‚ç æ¡†æ¶</h2> <p>ASM[8] æ˜¯ä¸€ä¸ªå­—èŠ‚ç åˆ†æåŠä¿®æ”¹æ¡†æ¶ã€‚å®ƒè¢«å¹¿æ³›åº”ç”¨äºè®¸å¤šé¡¹ç›®ä¹‹ä¸­ï¼Œä¾‹å¦‚ Groovyã€Kotlin çš„ç¼–è¯‘å™¨ï¼Œä»£ç è¦†ç›–æµ‹è¯•å·¥å…·  Coberturaã€JaCoCoï¼Œä»¥åŠå„å¼å„æ ·é€šè¿‡å­—èŠ‚ç æ³¨å…¥å®ç°çš„ç¨‹åºè¡Œä¸ºç›‘æ§å·¥å…·ã€‚ç”šè‡³æ˜¯ Java 8 ä¸­ Lambda  è¡¨è¾¾å¼çš„é€‚é…å™¨ç±»ï¼Œä¹Ÿæ˜¯å€ŸåŠ© ASM æ¥åŠ¨æ€ç”Ÿæˆçš„ã€‚</p> <p>ASM æ—¢å¯ä»¥ç”Ÿæˆæ–°çš„ class æ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥ä¿®æ”¹å·²æœ‰çš„ class æ–‡ä»¶ã€‚å‰è€…ç›¸å¯¹æ¯”è¾ƒç®€å•ä¸€äº›ã€‚ASM ç”šè‡³è¿˜æä¾›äº†ä¸€ä¸ªè¾…åŠ©ç±»  ASMifierï¼Œå®ƒå°†æ¥æ”¶ä¸€ä¸ª class æ–‡ä»¶å¹¶ä¸”è¾“å‡ºä¸€æ®µç”Ÿæˆè¯¥ class æ–‡ä»¶åŸå§‹å­—èŠ‚æ•°ç»„çš„ä»£ç ã€‚å¦‚æœä½ æƒ³å¿«é€Ÿä¸Šæ‰‹ ASM  çš„è¯ï¼Œé‚£ä¹ˆä½ å¯ä»¥å€ŸåŠ© ASMifier ç”Ÿæˆçš„ä»£ç æ¥æ¢ç´¢å„ä¸ª API çš„ç”¨æ³•ã€‚</p> <p>ä¸‹é¢æˆ‘å°†å€ŸåŠ© ASMifierï¼Œæ¥ç”Ÿæˆç¬¬ä¸€ç¯‡å®è·µç¯èŠ‚æ‰€ç”¨åˆ°çš„ç±»ã€‚ï¼ˆä½ å¯ä»¥é€šè¿‡è¯¥åœ°å€ [9] ä¸‹è½½ 6.0-beta ç‰ˆã€‚ï¼‰</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>
$ echo '

public class Foo {

 public static void main(String[] args) {

  boolean flag = true;

  if (flag) System.out.println(&quot;Hello, Java!&quot;);

  if (flag == true) System.out.println(&quot;Hello, JVM!&quot;);

 }

}' &gt; Foo.java

# è¿™é‡Œçš„ javac æˆ‘ä½¿ç”¨çš„æ˜¯ Java 8 ç‰ˆæœ¬çš„ã€‚ASM 6.0 å¯èƒ½æš‚ä¸æ”¯æŒæ–°ç‰ˆæœ¬çš„ javac ç¼–è¯‘å‡ºæ¥çš„ class æ–‡ä»¶

$ javac Foo.java

$ java -cp /PATH/TO/asm-all-6.0_BETA.jar org.objectweb.asm.util.ASMifier Foo.class | tee FooDump.java

...

public class FooDump implements Opcodes {

 

public static byte[] dump () throws Exception {

 

ClassWriter cw = new ClassWriter(0);

FieldVisitor fv;

MethodVisitor mv;

AnnotationVisitor av0;

 

cw.visit(V1_8, ACC_PUBLIC + ACC_SUPER, &quot;Foo&quot;, null, &quot;java/lang/Object&quot;, null);

 

...

 

{

mv = cw.visitMethod(ACC_PUBLIC + ACC_STATIC, &quot;main&quot;, &quot;([Ljava/lang/String;)V&quot;, null, null);

mv.visitCode();

mv.visitInsn(ICONST_1);

mv.visitVarInsn(ISTORE, 1);

mv.visitVarInsn(ILOAD, 1);

...

mv.visitInsn(RETURN);

mv.visitMaxs(2, 2);

mv.visitEnd();

}

...
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br></div></div><p>å¯ä»¥çœ‹åˆ°ï¼ŒASMifier ç”Ÿæˆçš„ä»£ç ä¸­åŒ…å«ä¸€ä¸ªåä¸º FooDump çš„ç±»ï¼Œå…¶ä¸­å®šä¹‰äº†ä¸€ä¸ªåä¸º dump çš„æ–¹æ³•ã€‚è¯¥æ–¹æ³•å°†è¿”å›ä¸€ä¸ª byte æ•°ç»„ï¼Œå…¶å€¼ä¸ºç”Ÿæˆç±»çš„åŸå§‹å­—èŠ‚ã€‚</p> <p>åœ¨ dump æ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬æ–°å»ºäº†åŠŸèƒ½ç±» ClassWriter çš„ä¸€ä¸ªå®ä¾‹ï¼Œå¹¶é€šè¿‡å®ƒæ¥è®¿é—®ä¸åŒçš„æˆå‘˜ï¼Œä¾‹å¦‚æ–¹æ³•ã€å­—æ®µç­‰ç­‰ã€‚</p> <p>æ¯å½“è®¿é—®ä¸€ç§æˆå‘˜ï¼Œæˆ‘ä»¬ä¾¿ä¼šå¾—åˆ°å¦ä¸€ä¸ªè®¿é—®è€…ã€‚åœ¨ä¸Šé¢è¿™æ®µä»£ç ä¸­ï¼Œå½“æˆ‘ä»¬è®¿é—®æ–¹æ³•æ—¶ï¼ˆå³ visitMethodï¼‰ï¼Œä¾¿ä¼šå¾—åˆ°ä¸€ä¸ª MethodVisitorã€‚åœ¨æ¥ä¸‹æ¥çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬ä¼šç”¨è¿™ä¸ª MethodVisitor æ¥è®¿é—®ï¼ˆè¿™é‡Œç­‰åŒäºç”Ÿæˆï¼‰å…·ä½“çš„æŒ‡ä»¤ã€‚</p> <p>è¿™ä¾¿æ˜¯ ASM æ‰€ä½¿ç”¨çš„è®¿é—®è€…æ¨¡å¼ã€‚å½“ç„¶ï¼Œè¿™æ®µä»£ç ä»…åŒ…å« ClassWriter è¿™ä¸€ä¸ªè®¿é—®è€…ï¼Œå› æ­¤çœ‹ä¸å‡ºå…·ä½“æœ‰ä»€ä¹ˆå¥½å¤„ã€‚</p> <p>æˆ‘ä»¬æš‚ä¸”ä¸ç®¡è¿™ä¸ªè®¿é—®è€…æ¨¡å¼ï¼Œå…ˆæ¥çœ‹çœ‹å¦‚ä½•å®ç°ç¬¬ä¸€ç¯‡è¯¾åå®è·µçš„è¦æ±‚ã€‚é¦–å…ˆï¼Œmain æ–¹æ³•ä¸­çš„ boolean flag = true; è¯­å¥å¯¹åº”çš„ä»£ç æ˜¯ï¼š</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>
mv.visitInsn(ICONST_1);

mv.visitVarInsn(ISTORE, 1);
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬åªéœ€å°†è¿™é‡Œçš„ ICONST_1 æ›´æ”¹ä¸º ICONST_2ï¼Œä¾¿å¯ä»¥æ»¡è¶³è¦æ±‚ã€‚ä¸‹é¢æˆ‘ç”¨å¦ä¸€ä¸ªç±» Wrapperï¼Œæ¥è°ƒç”¨ä¿®æ”¹è¿‡åçš„ FooDump.dump æ–¹æ³•ã€‚</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>
$ echo 'import java.nio.file.*;

 

public class Wrapper {

  public static void main(String[] args) throws Exception {

    Files.write(Paths.get(&quot;Foo.class&quot;), FooDump.dump());

  }

}' &gt; Wrapper.java

$ javac -cp /PATH/TO/asm-all-6.0_BETA.jar FooDump.java Wrapper.java

$ java -cp /PATH/TO/asm-all-6.0_BETA.jar:. Wrapper

$ java Foo
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>è¿™é‡Œçš„è¾“å‡ºç»“æœåº”å’Œé€šè¿‡ ASMTools ä¿®æ”¹çš„ç»“æœä¸€è‡´ã€‚</p> <p>é€šè¿‡ ASM æ¥ä¿®æ”¹å·²æœ‰ class æ–‡ä»¶åˆ™ç›¸å¯¹å¤æ‚ä¸€äº›ã€‚ä¸è¿‡æˆ‘ä»¬å¯ä»¥ä»ä¸‹é¢è¿™æ®µç®€å•çš„ä»£ç æ¥å¼€å§‹å­¦èµ·ï¼š</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>
  public static void main(String[] args) throws Exception {

    ClassReader cr = new ClassReader(&quot;Foo&quot;);

    ClassWriter cw = new ClassWriter(ClassWriter.COMPUTE_FRAMES);

    cr.accept(cw, ClassReader.SKIP_FRAMES);

    Files.write(Paths.get(&quot;Foo.class&quot;), cw.toByteArray());

  }
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>è¿™æ®µä»£ç çš„åŠŸèƒ½ä¾¿æ˜¯è¯»å–ä¸€ä¸ª class æ–‡ä»¶ï¼Œå°†ä¹‹è½¬æ¢ä¸º ASM çš„æ•°æ®ç»“æ„ï¼Œç„¶åå†è½¬æ¢ä¸ºåŸå§‹å­—èŠ‚æ•°ç»„ã€‚å…¶ä¸­ï¼Œæˆ‘ä½¿ç”¨äº†ä¸¤ä¸ªåŠŸèƒ½ç±»ã€‚é™¤äº†å·²ç»ä»‹ç»è¿‡çš„ ClassWriter å¤–ï¼Œè¿˜æœ‰ä¸€ä¸ª ClassReaderã€‚</p> <p>ClassReader å°†è¯»å–â€œFooâ€ç±»çš„åŸå§‹å­—èŠ‚ï¼Œå¹¶ä¸”ç¿»è¯‘æˆå¯¹åº”çš„è®¿é—®è¯·æ±‚ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨ä¸Šé¢ ASMifier ç”Ÿæˆçš„ä»£ç ä¸­çš„å„ä¸ªè®¿é—®æ“ä½œï¼Œç°åœ¨éƒ½äº¤ç»™ ClassReader.accept è¿™ä¸€æ–¹æ³•æ¥å‘å‡ºäº†ã€‚</p> <p>é‚£ä¹ˆï¼Œå¦‚ä½•ä¿®æ”¹è¿™ä¸ª class æ–‡ä»¶çš„å­—èŠ‚ç å‘¢ï¼ŸåŸç†å¾ˆç®€å•ï¼Œå°±æ˜¯å°† ClassReader çš„è®¿é—®è¯·æ±‚å‘ç»™å¦å¤–ä¸€ä¸ªè®¿é—®è€…ï¼Œå†ç”±è¿™ä¸ªè®¿é—®è€…å§”æ´¾ç»™ ClassWriterã€‚</p> <p>è¿™æ ·ä¸€æ¥ï¼Œæ–°å¢æ“ä½œå¯ä»¥é€šè¿‡åœ¨æŸä¸€éœ€è¦è½¬å‘çš„è¯·æ±‚åé¢é™„å¸¦æ–°çš„è¯·æ±‚æ¥å®ç°ï¼›åˆ é™¤æ“ä½œå¯ä»¥é€šè¿‡ä¸è½¬å‘è¯·æ±‚æ¥å®ç°ï¼›ä¿®æ”¹æ“ä½œå¯ä»¥é€šè¿‡å¿½ç•¥åŸè¯·æ±‚ï¼Œæ–°å»ºå¹¶å‘å‡ºå¦å¤–çš„è¯·æ±‚æ¥å®ç°ã€‚</p> <p><img src="https://linkeq.oss-cn-chengdu.aliyuncs.com/img/2022/05/31/image-20220531143711623-1d8ab6.png" alt="image-20220531143711623"></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>import java.nio.file.*;

import org.objectweb.asm.*;

 

public class ASMHelper implements Opcodes {

 

  static class MyMethodVisitor extends MethodVisitor {

    private MethodVisitor mv;

    public MyMethodVisitor(int api, MethodVisitor mv) {

      super(api, null);

      this.mv = mv;

    }

 

    @Override

    public void visitCode() {

      mv.visitCode();

      mv.visitFieldInsn(GETSTATIC, &quot;java/lang/System&quot;, &quot;out&quot;, &quot;Ljava/io/PrintStream;&quot;);

      mv.visitLdcInsn(&quot;Hello, World!&quot;);

      mv.visitMethodInsn(INVOKEVIRTUAL, &quot;java/io/PrintStream&quot;, &quot;println&quot;, &quot;(Ljava/lang/String;)V&quot;, false);

      mv.visitInsn(RETURN);

      mv.visitMaxs(2, 1);

      mv.visitEnd();

    }

  }

 

  static class MyClassVisitor extends ClassVisitor {

 

    public MyClassVisitor(int api, ClassVisitor cv) {

      super(api, cv);

    }

 

    @Override

    public MethodVisitor visitMethod(int access, String name, String descriptor, String signature,

        String[] exceptions) {

      MethodVisitor visitor = super.visitMethod(access, name, descriptor, signature, exceptions);

      if (&quot;main&quot;.equals(name)) {

        return new MyMethodVisitor(ASM6, visitor);

      }

      return visitor;

    }

  }

 

  public static void main(String[] args) throws Exception {

    ClassReader cr = new ClassReader(&quot;Foo&quot;);

    ClassWriter cw = new ClassWriter(ClassWriter.COMPUTE_FRAMES);

    ClassVisitor cv = new MyClassVisitor(ASM6, cw);

    cr.accept(cv, ClassReader.SKIP_FRAMES);

    Files.write(Paths.get(&quot;Foo.class&quot;), cw.toByteArray());

  }

}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br></div></div><p>è¿™é‡Œæˆ‘è´´äº†ä¸€æ®µä»£ç ï¼Œåœ¨ ClassReader å’Œ ClassWriter ä¸­é—´æ’å…¥äº†ä¸€ä¸ªè‡ªå®šä¹‰çš„è®¿é—®è€… MyClassVisitorã€‚å®ƒå°†æˆªè·ç”±  ClassReader å‘å‡ºçš„å¯¹åå­—ä¸ºâ€œmainâ€çš„æ–¹æ³•çš„è®¿é—®è¯·æ±‚ï¼Œå¹¶ä¸”æ›¿æ¢ä¸ºå¦ä¸€ä¸ªè‡ªå®šä¹‰çš„ MethodVisitorã€‚</p> <p>è¿™ä¸ª MethodVisitor ä¼šå¿½ç•¥ç”± ClassReader å‘å‡ºçš„ä»»ä½•è¯·æ±‚ï¼Œä»…åœ¨é‡åˆ° visitCode è¯·æ±‚æ—¶ï¼Œç”Ÿæˆä¸€å¥â€œSystem.out.println(â€œHello World!â€);â€ã€‚</p> <p>ç”±äºç¯‡å¹…çš„é™åˆ¶ï¼Œæˆ‘å°±ä¸ç»§ç»­æ·±å…¥ä»‹ç»ä¸‹å»äº†ã€‚å¦‚æœä½ å¯¹ ASM æœ‰æµ“åšçš„å…´è¶£ï¼Œå¯ä»¥å‚è€ƒè¿™ç¯‡æ•™ç¨‹ [10]ã€‚</p> <p>ä½ å¯¹è¿™äº›å¸¸ç”¨å·¥å…·è¿˜æœ‰å“ªäº›é—®é¢˜å‘¢ï¼Ÿå¯ä»¥ç»™æˆ‘ç•™è¨€ï¼Œæˆ‘ä»¬ä¸€èµ·è®¨è®ºã€‚æ„Ÿè°¢ä½ çš„æ”¶å¬ï¼Œæˆ‘ä»¬ä¸‹æœŸå†è§ã€‚</p> <p>[1]
https://docs.oracle.com/javase/specs/jvms/se10/html/jvms-4.html#jvms-4.1
[2]
http://openjdk.java.net/projects/code-tools/
[3]
https://wiki.openjdk.java.net/display/CodeTools/asmtools
[4]
https://adopt-openjdk.ci.cloudbees.com/view/OpenJDK/job/asmtools/lastSuccessfulBuild/artifact/asmtools-6.0.tar.gz
[5]
https://cs.au.dk/~mis/dOvs/jvmspec/ref--21.html
[6]
http://openjdk.java.net/projects/code-tools/jol/
[7]
http://central.maven.org/maven2/org/openjdk/jol/jol-cli/0.9/jol-cli-0.9-full.jar
[8]
https://asm.ow2.io/
[9]
https://repository.ow2.org/nexus/content/repositories/releases/org/ow2/asm/asm-all/6.0_BETA/asm-all-6.0_BETA.jar
[10]
http://web.cs.ucla.edu/~msb/cs239-tutorial/</p> <h2 id="ä¿¡-23"><a href="#ä¿¡-23" class="header-anchor">#</a> ä¿¡(23)</h2> <ul><li></li></ul> <p>åˆ¹é‚£é—´çš„æ°¸...</p> <p>2018-08-04</p> <p>32</p> <p>æœç„¶è¿˜æ˜¯ä¸€ç‚¹éƒ½çœ‹ä¸æ‡‚ï¼Œè€å¸ˆï¼Œä»€ä¹ˆé˜¶æ®µé€‚åˆæ¥è§¦è™šæ‹Ÿæœºï¼Ÿ</p> <ul><li></li></ul> <p>Thomas</p> <p>2018-08-03</p> <p>5</p> <p>è€å¸ˆåé¢è®²ä¸‹åå°„è·ŸåŠ¨æ€ä»£ç†ï½å¾ˆæœŸå¾…ä¸“é—¨å†™ä¸€ç¯‡JAVAç‰¹æ€§çš„åŸç†ã€‚</p> <ul><li></li></ul> <p>xiaobang</p> <p>2018-08-20</p> <p>4</p> <p>èƒ½ç³»ç»Ÿçš„ä»‹ç»ä¸‹Javaå­—èŠ‚ç å—ï¼Œæ¯æ¬¡çœ‹åˆ°éƒ½æ˜¯é çŒœ</p> <ul><li></li></ul> <p>xiaobang</p> <p>2018-08-20</p> <p>2</p> <p>èƒ½ç³»ç»Ÿä»‹ç»ä¸‹Javaå­—èŠ‚ç å—ï¼Ÿæ¯æ¬¡éƒ½æ˜¯é çŒœ</p> <ul><li></li></ul> <p>é›¨äº¦å¥‡</p> <p>2018-08-03</p> <p>2</p> <p>666</p> <ul><li></li></ul> <p>hey,å•å¸ƒ</p> <p>2018-08-03</p> <p>2</p> <p>è€å¸ˆï¼Œæ–‡ä¸­ä»£ç æ ¼å¼å¼‚å¸¸äº†ï¼Œæ—©ä¸Šæ‰“å¼€è¿˜å¥½çš„</p> <p>ä½œè€…å›å¤: è¿™ä¹ˆè¯¡å¼‚ï¼Œæˆ‘åé¦ˆä¸€ä¸‹</p> <ul><li></li></ul> <p>ä¸œæ–¹</p> <p>2018-08-19</p> <p>1</p> <p>ClassWriterç»§æ‰¿å¹¶å®ç°äº†è™šåŸºç±»ClassVisitorï¼Œå®ç°äº†ä¸€ç³»åˆ—çš„vist*æ–¹æ³•(è¯»å–classä¿¡æ¯è‡³å†…å­˜)</p> <p>MyClassVisitorç»§æ‰¿ClassWriterï¼Œåªå¤å†™(Override)äº†visitMethodæ–¹æ³•ï¼Œå½“ä¸”ä»…å½“æ–¹æ³•åç§°ç­‰äºmainæ—¶ï¼Œæ‰æ›¿æ¢ç”¨è‡ªå®šä¹‰å†…å®¹æ›¿æ¢</p> <p>æ•´ä¸ªé€»è¾‘ç­‰äºè¯´ï¼Œè¯»Foo.classåˆ°å†…å­˜ä¸­ï¼Œé‡æ–°å†™ä¸€ä¸ªFoo.classæ–‡ä»¶ï¼Œmainæ–¹æ³•æ›¿æ¢ä¸º&quot;æ–°å†…å®¹&quot;ï¼Œå…¶ä»–ä¿æŒä¸å˜</p> <ul><li></li></ul> <p>éƒ‘ç«¥æ–‡</p> <p>2018-08-08</p> <p>1</p> <p>æˆ‘ä¸å¤ªæ˜ç™½ ç”¨ASMåæ±‡ç¼–class æ–‡ä»¶ ä¹‹åä¸å°±æ”¹å¾—åˆ°javaæºæ–‡ä»¶å—ï¼Ÿä¸ºä»€ä¹ˆè¿˜æœ‰java ä¹‹å¤–çš„å…³é”®å­—?</p> <ul><li></li></ul> <p>å€”å¼º</p> <p>2018-08-03</p> <p>1</p> <p>ä¸ºä»€ä¹ˆæˆ‘å…è®¸F oo DumpæŠ¥æ— æ³•åŠ è½½ä¸»ç±»?æ˜¯å› ä¸ºæ²¡æœ‰mainæ–¹æ³•?</p> <p>ä½œè€…å›å¤: å¤šè°¢æŒ‡å‡ºï¼åº”è¯¥æ˜¯Wrapperï¼Œè€Œä¸”cpä¹Ÿéœ€è¦æ·»åŠ å½“å‰ç›®å½•ï¼Œå³-cp /path/to/ASM.jar:. Wrapper</p> <ul><li></li></ul> <p>capo</p> <p>2019-04-25</p> <p>ä½ å¥½,ä»£ç ASMHelper.javaä¸­ MethodVisitor ClassVIsitor åº”è¯¥éƒ½æ˜¯Interfaceå§ï¼Ÿsuper.visitMethodæ€ä¹ˆè°ƒç”¨çš„ï¼Ÿ</p> <ul><li></li></ul> <p>QQæ€ª</p> <p>2019-03-17</p> <p>è¿™é‡Œæœ‰ç‚¹éšæ™¦éš¾æ‡‚</p> <ul><li></li></ul> <p>ç‹æµ©</p> <p>2019-02-14</p> <p>çœ‹äº†ä¸€éæ²¡çœ‹æ²¡ç™½,å»ºè®®å¤šè®²äº›ç»†èŠ‚,æ¯”å¦‚å¦‚ä½•ä½¿ç”¨javapæŸ¥çœ‹å­—èŠ‚ç ,è¯´è¯¦ç»†äº›,å„ç§å·¥å…·çš„ç‰¹ç‚¹æ˜¯ä»€ä¹ˆ,æœ€å¸¸ç”¨çš„å·¥å…·æ˜¯å“ªä¸ª,åœ¨ä»€ä¹ˆåœºæ™¯ä¸‹ä½¿ç”¨ã€‚</p> <ul><li></li></ul> <p>xuery</p> <p>2018-11-27</p> <p>ä»”ç»†çœ‹äº†ä¸‹æ•™ç¨‹[10], æ›´åŠ æ·±åˆ»çš„ç†è§£äº†å¦‚ä½•é€šè¿‡ä¿®æ”¹å­—èŠ‚ç æ–‡ä»¶æ¥è¾¾åˆ°ä¿®æ”¹ç±»çš„æ•ˆæœï¼Œæ„Ÿè°¢ï¼ŒåšæŒæ·±æŒ–ä¸‹å»</p> <ul><li></li></ul> <p>bgmall</p> <p>2018-11-02</p> <p>javap æŸ¥çœ‹classæ–‡ä»¶</p> <p>åŸºç¡€md5 jdkç‰ˆæœ¬</p> <p>å¸¸é‡æ± </p> <p>å­—æ®µæè¿° è®¿é—®æƒé™</p> <p>æ–¹æ³•ä»£ç æ ˆ</p> <p>å¼‚å¸¸è¡¨(æœ‰å¼‚å¸¸æ•è·çš„æ‰æœ‰)</p> <ul><li></li></ul> <p>sgl</p> <p>2018-10-20</p> <p>ä¸ºä»€ä¹ˆæ–¹æ³•é‡Œç”¨çš„æŒ‡ä»¤åªæœ‰å…¥æ ˆï¼Œæ²¡æœ‰å‡ºæ ˆï¼Ÿéš¾é“putfieldè¿™ç±»æŒ‡ä»¤ï¼Œç”¨äº†æ“ä½œæ•°æ ˆä¸Šçš„æ•°æ®ä»¥åï¼Œä¼šè‡ªå·±è°ƒç”¨å‡ºæ ˆæŒ‡ä»¤ï¼Ÿ</p> <p>ä½œè€…å›å¤: putfield å¯ä»¥æƒ³æˆ å‡ºæ ˆå†æ¶ˆè€—æ•°æ®</p> <ul><li></li></ul> <p>çŒç¾½</p> <p>2018-09-12</p> <p>å†™çš„ä¸é”™ï¼Œæ”¯æŒä¸€ä¸‹</p> <ul><li></li></ul> <p>çŒç¾½</p> <p>2018-09-12</p> <p>å†™çš„ä¸é”™ï¼Œæ”¯æŒä¸€ä¸‹ã€‚</p> <ul><li></li></ul> <p>xianhai</p> <p>2018-08-04</p> <p>æˆ‘çš„é—®é¢˜æ˜¯reflection inflationåï¼Œjdkä¼šç”Ÿæˆå­—èŠ‚ç å’Œç›¸åº”çš„delegation  classloaderï¼Œè¿™éƒ¨åˆ†objectsä¼šåœ¨metaspaceå æ®ä¸€å®šç©ºé—´ï¼Œä¼¼ä¹jvmæ²¡åŠæ³•å¾ˆå¥½çš„ç®¡ç†è¿™ä¸€éƒ¨åˆ†å†…å­˜ï¼Ÿæ‰€ä»¥åœ¨java7é‡Œæœ‰ä¸ªå¼€å…³å…³æ‰è¿™ä¸ªä¼˜åŒ–ï¼ŒDsun.reflect.inflationThreshold=2147483647ã€‚è¿™ä¸ªé—®é¢˜åœ¨java8ä¸­å­˜åœ¨å—ï¼Ÿè€å¸ˆç†Ÿæ‚‰è¿™ä¸€ç‚¹çš„è¯å°±è®²è®²å§ã€‚</p> <ul><li></li></ul> <p>å¿—è¿œ</p> <p>2018-08-03</p> <p>1.å¦‚ä½•æ±‡ç¼–è‡³classæ–‡ä»¶å•Šï¼Ÿç”¨ä»€ä¹ˆå·¥å…·ï¼Ÿ
2.å­—èŠ‚ç çš„å±€éƒ¨å˜é‡å’Œjavaç¨‹åºä¸­çš„å±€éƒ¨å˜é‡æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</p> <p>ä½œè€…å›å¤: 1. ä½ å¯ä»¥é€šè¿‡ASMToolsåæ±‡ç¼–classæ–‡ä»¶ï¼Œå†å°†è¾“å‡ºçš„æ–‡æœ¬æ±‡ç¼–å›classæ–‡ä»¶</p> <p>\2. å­—èŠ‚ç ä¸­çš„å±€éƒ¨å˜é‡ä¼šæ›´å¤šä¸€äº›ï¼ŒJavaç¼–è¯‘å™¨ä¼šæ ¹æ®éœ€è¦å­˜å‚¨ä¸€äº›éJavaç¨‹åºä¸­çš„å±€éƒ¨å˜é‡</p> <ul><li></li></ul> <p>xianhai</p> <p>2018-08-03</p> <p>reflection inflation ä¼šä¸ä¼šé€ æˆjava 8 metaspaceï¼š Outofmemory</p> <p>ä½œè€…å›å¤: Reflection inflationä¼šç”Ÿæˆæ–°çš„ç±»ï¼Œç†è®ºä¸Šæ˜¯ä¼šå¯¼è‡´ä½ è¯´çš„è¿™ä¸ªé”™è¯¯çš„ã€‚</p></div></div>  <div class="page-edit"><!----> <!----> <div class="last-updated"><span class="prefix">ä¸Šæ¬¡æ›´æ–°:</span> <span class="time">12/1/2022, 11:41:05 PM</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/8055d4/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">åƒåœ¾å›æ”¶ï¼ˆä¸‹ï¼‰</div></a> <a href="/pages/02bc49/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">Javaå†…å­˜æ¨¡å‹</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        â†
        <a href="/pages/8055d4/" class="prev">åƒåœ¾å›æ”¶ï¼ˆä¸‹ï¼‰</a></span> <span class="next"><a href="/pages/02bc49/">Javaå†…å­˜æ¨¡å‹</a>â†’
      </span></p></div></div></div> <!----></main></div> <div class="footer"><div class="icons"><a href="https://github.com/ily55421" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="mailto:ily55421@163.com" title="å‘é‚®ä»¶" target="_blank" class="iconfont icon-youjian"></a><a href="https://gitee.com/ily55421" title="Gitee" target="_blank" class="iconfont icon-gitee"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="æœ¬ç«™ä¸»é¢˜">Vdoing</a> 
    | Copyright Â© 2022-2022
    <span>ily55421 </span></div> <div class="buttons"><div title="è¿”å›é¡¶éƒ¨" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="å»è¯„è®º" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="ä¸»é¢˜æ¨¡å¼" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          è·Ÿéšç³»ç»Ÿ
        </li><li class="iconfont icon-rijianmoshi">
          æµ…è‰²æ¨¡å¼
        </li><li class="iconfont icon-yejianmoshi">
          æ·±è‰²æ¨¡å¼
        </li><li class="iconfont icon-yuedu">
          é˜…è¯»æ¨¡å¼
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.e5f1d04a.js" defer></script><script src="/assets/js/5.5ca26c73.js" defer></script><script src="/assets/js/46.9a3a1678.js" defer></script>
  </body>
</html>
