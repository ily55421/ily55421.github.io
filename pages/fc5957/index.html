<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>JVMæ˜¯å¦‚ä½•å®ç°åå°„çš„ï¼Ÿ | ily55421</title>
    <meta name="generator" content="VuePress 1.8.0">
    <link rel="icon" href="https://cdn.staticaly.com/gh/eryajf/tu/main/img/image_20220720_132133.ico">
    <script language="javascript" type="text/javascript" src="/js/pgmanor-self.js"></script>
    <meta name="description" content="ğŸ’»å­¦ä¹ ğŸ“è®°å½•ğŸ”—åˆ†äº«
å­¦æ— æ­¢å¢ƒæ˜¯æ°¸è¿œå‰è¿›çš„åŸºç¡€ï¼Œè·ƒç„¶çº¸ä¸Šæ˜¯å¯¹çŸ¥è¯†çš„æ€»ç»“äº¤ä»£ï¼Œä¸ä¼—åˆ†äº«åˆ™æ˜¯å®ç°ä»·å€¼çš„æœ€å¥½æ–¹å¼ã€‚">
    <meta name="keywords" content="ily55421,golang,vue,go-web,go-admin,go-ldap-admin">
    <meta name="theme-color" content="#11a8cd">
    <meta name="referrer" content="no-referrer-when-downgrade">
    
    <link rel="preload" href="/assets/css/0.styles.5cf13956.css" as="style"><link rel="preload" href="/assets/js/app.861bda8d.js" as="script"><link rel="preload" href="/assets/js/5.5ca26c73.js" as="script"><link rel="preload" href="/assets/js/39.293f29e0.js" as="script"><link rel="prefetch" href="/assets/js/10.32a16328.js"><link rel="prefetch" href="/assets/js/11.51f4dee0.js"><link rel="prefetch" href="/assets/js/12.47439b7b.js"><link rel="prefetch" href="/assets/js/13.fa6da581.js"><link rel="prefetch" href="/assets/js/14.a4af8b3e.js"><link rel="prefetch" href="/assets/js/15.1bac7980.js"><link rel="prefetch" href="/assets/js/16.c546c54e.js"><link rel="prefetch" href="/assets/js/17.efb08615.js"><link rel="prefetch" href="/assets/js/18.578fc2e9.js"><link rel="prefetch" href="/assets/js/19.8d9d2909.js"><link rel="prefetch" href="/assets/js/20.f8db0525.js"><link rel="prefetch" href="/assets/js/21.2c499677.js"><link rel="prefetch" href="/assets/js/22.8c5da1d1.js"><link rel="prefetch" href="/assets/js/23.6adbc0d5.js"><link rel="prefetch" href="/assets/js/24.eee9e9bd.js"><link rel="prefetch" href="/assets/js/25.122da4d5.js"><link rel="prefetch" href="/assets/js/26.0976d488.js"><link rel="prefetch" href="/assets/js/27.224a17e0.js"><link rel="prefetch" href="/assets/js/28.543596e2.js"><link rel="prefetch" href="/assets/js/29.8bc4d33a.js"><link rel="prefetch" href="/assets/js/30.9ba8bf3b.js"><link rel="prefetch" href="/assets/js/31.c7774d7d.js"><link rel="prefetch" href="/assets/js/32.78060b01.js"><link rel="prefetch" href="/assets/js/33.1031c210.js"><link rel="prefetch" href="/assets/js/34.e2fbb51f.js"><link rel="prefetch" href="/assets/js/35.4a2347a0.js"><link rel="prefetch" href="/assets/js/36.1d9f7f56.js"><link rel="prefetch" href="/assets/js/37.618baa22.js"><link rel="prefetch" href="/assets/js/38.58357045.js"><link rel="prefetch" href="/assets/js/40.12981fcb.js"><link rel="prefetch" href="/assets/js/41.c1381ab4.js"><link rel="prefetch" href="/assets/js/42.38f0ac65.js"><link rel="prefetch" href="/assets/js/43.42323389.js"><link rel="prefetch" href="/assets/js/44.87a87de7.js"><link rel="prefetch" href="/assets/js/45.96d36eed.js"><link rel="prefetch" href="/assets/js/46.95e67732.js"><link rel="prefetch" href="/assets/js/47.9be7f961.js"><link rel="prefetch" href="/assets/js/48.044af9b6.js"><link rel="prefetch" href="/assets/js/49.e7d7bb39.js"><link rel="prefetch" href="/assets/js/50.11dd2577.js"><link rel="prefetch" href="/assets/js/51.88c574e0.js"><link rel="prefetch" href="/assets/js/52.f6b59986.js"><link rel="prefetch" href="/assets/js/53.924fb3b7.js"><link rel="prefetch" href="/assets/js/54.b7550570.js"><link rel="prefetch" href="/assets/js/55.99f09d12.js"><link rel="prefetch" href="/assets/js/56.ec6c7562.js"><link rel="prefetch" href="/assets/js/57.0ebb082c.js"><link rel="prefetch" href="/assets/js/58.c9a89b42.js"><link rel="prefetch" href="/assets/js/59.3682ee9b.js"><link rel="prefetch" href="/assets/js/6.3396a9ee.js"><link rel="prefetch" href="/assets/js/60.3b9ba8c5.js"><link rel="prefetch" href="/assets/js/61.08228769.js"><link rel="prefetch" href="/assets/js/62.e485eff8.js"><link rel="prefetch" href="/assets/js/63.1dba24e5.js"><link rel="prefetch" href="/assets/js/64.a212d004.js"><link rel="prefetch" href="/assets/js/65.82e055cc.js"><link rel="prefetch" href="/assets/js/66.97472e07.js"><link rel="prefetch" href="/assets/js/67.3fe9a900.js"><link rel="prefetch" href="/assets/js/68.67bde7ce.js"><link rel="prefetch" href="/assets/js/69.41fa986a.js"><link rel="prefetch" href="/assets/js/7.0d4d4fc2.js"><link rel="prefetch" href="/assets/js/70.452c2ad5.js"><link rel="prefetch" href="/assets/js/71.37f4fc8f.js"><link rel="prefetch" href="/assets/js/72.aa294e29.js"><link rel="prefetch" href="/assets/js/73.a271cd3b.js"><link rel="prefetch" href="/assets/js/8.5dfa0080.js"><link rel="prefetch" href="/assets/js/9.6c002df9.js"><link rel="prefetch" href="/assets/js/mermaid.f2857331.js"><link rel="prefetch" href="/assets/js/vendors~flowchart.c013cef0.js"><link rel="prefetch" href="/assets/js/vendors~mermaid.23884ed8.js">
    <link rel="stylesheet" href="/assets/css/0.styles.5cf13956.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="ç›®å½•" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="https://cdn.staticaly.com/gh/eryajf/tu/main/img/image_20220720_132208.png" alt="ily55421" class="logo"> <span class="site-name can-hide">ily55421</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">é¦–é¡µ</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ç®—æ³•ä¸æ•°æ®ç»“æ„" class="dropdown-title"><a href="/algorithm/" class="link-title">ç®—æ³•ä¸æ•°æ®ç»“æ„</a> <span class="title" style="display:none;">ç®—æ³•ä¸æ•°æ®ç»“æ„</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/24768e/" class="nav-link">ç®—æ³•</a></li><li class="dropdown-item"><!----> <a href="/pages/24770e/" class="nav-link">æ•°æ®ç»“æ„</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ä¸“é¢˜" class="dropdown-title"><a href="/topic/" class="link-title">ä¸“é¢˜</a> <span class="title" style="display:none;">ä¸“é¢˜</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/a4770e/" class="nav-link">æœ€ä½³å®è·µ</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ç”Ÿæ´»" class="dropdown-title"><a href="/life/" class="link-title">ç”Ÿæ´»</a> <span class="title" style="display:none;">ç”Ÿæ´»</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/bc7034/" class="nav-link">æœ€ä½³å®è·µ</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ç¼–ç¨‹" class="dropdown-title"><a href="/code/" class="link-title">ç¼–ç¨‹</a> <span class="title" style="display:none;">ç¼–ç¨‹</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/ace3fe/" class="nav-link">JAVA</a></li><li class="dropdown-item"><h4>JVM</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/f2e80b/" class="nav-link">Javaè™šæ‹ŸæœºåŸºæœ¬åŸç†</a></li><li class="dropdown-subitem"><a href="/pages/bf46c5/" class="nav-link">é«˜æ•ˆç¼–è¯‘</a></li><li class="dropdown-subitem"><a href="/pages/1261df/" class="nav-link">ä»£ç ä¼˜åŒ–</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ç´¢å¼•" class="dropdown-title"><a href="/categories/" class="link-title">ç´¢å¼•</a> <span class="title" style="display:none;">ç´¢å¼•</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">åˆ†ç±»</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">æ ‡ç­¾</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">å½’æ¡£</a></li></ul></div></div><div class="nav-item"><a href="/message-board/" class="nav-link">ç•™è¨€æ¿</a></div><div class="nav-item"><a href="https://ily55421.github.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  æˆ‘çš„åšå®¢
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com//" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><!----> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">é¦–é¡µ</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ç®—æ³•ä¸æ•°æ®ç»“æ„" class="dropdown-title"><a href="/algorithm/" class="link-title">ç®—æ³•ä¸æ•°æ®ç»“æ„</a> <span class="title" style="display:none;">ç®—æ³•ä¸æ•°æ®ç»“æ„</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/24768e/" class="nav-link">ç®—æ³•</a></li><li class="dropdown-item"><!----> <a href="/pages/24770e/" class="nav-link">æ•°æ®ç»“æ„</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ä¸“é¢˜" class="dropdown-title"><a href="/topic/" class="link-title">ä¸“é¢˜</a> <span class="title" style="display:none;">ä¸“é¢˜</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/a4770e/" class="nav-link">æœ€ä½³å®è·µ</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ç”Ÿæ´»" class="dropdown-title"><a href="/life/" class="link-title">ç”Ÿæ´»</a> <span class="title" style="display:none;">ç”Ÿæ´»</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/bc7034/" class="nav-link">æœ€ä½³å®è·µ</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ç¼–ç¨‹" class="dropdown-title"><a href="/code/" class="link-title">ç¼–ç¨‹</a> <span class="title" style="display:none;">ç¼–ç¨‹</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/ace3fe/" class="nav-link">JAVA</a></li><li class="dropdown-item"><h4>JVM</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/f2e80b/" class="nav-link">Javaè™šæ‹ŸæœºåŸºæœ¬åŸç†</a></li><li class="dropdown-subitem"><a href="/pages/bf46c5/" class="nav-link">é«˜æ•ˆç¼–è¯‘</a></li><li class="dropdown-subitem"><a href="/pages/1261df/" class="nav-link">ä»£ç ä¼˜åŒ–</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ç´¢å¼•" class="dropdown-title"><a href="/categories/" class="link-title">ç´¢å¼•</a> <span class="title" style="display:none;">ç´¢å¼•</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">åˆ†ç±»</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">æ ‡ç­¾</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">å½’æ¡£</a></li></ul></div></div><div class="nav-item"><a href="/message-board/" class="nav-link">ç•™è¨€æ¿</a></div><div class="nav-item"><a href="https://ily55421.github.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  æˆ‘çš„åšå®¢
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com//" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>JAVA</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>JVM</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>Javaè™šæ‹ŸæœºåŸºæœ¬åŸç†</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/f2e80b/" class="sidebar-link">Javaä»£ç æ˜¯æ€ä¹ˆè¿è¡Œçš„ï¼Ÿ</a></li><li><a href="/pages/6e6e40/" class="sidebar-link">Javaçš„åŸºæœ¬ç±»å‹</a></li><li><a href="/pages/7d8aa1/" class="sidebar-link">Javaè™šæ‹Ÿæœºæ˜¯å¦‚ä½•åŠ è½½Javaç±»çš„</a></li><li><a href="/pages/e90758/" class="sidebar-link">JVMæ˜¯å¦‚ä½•æ‰§è¡Œæ–¹æ³•è°ƒç”¨çš„ï¼Ÿï¼ˆä¸Šï¼‰</a></li><li><a href="/pages/f8e553/" class="sidebar-link">JVMæ˜¯å¦‚ä½•æ‰§è¡Œæ–¹æ³•è°ƒç”¨çš„ï¼Ÿï¼ˆä¸‹ï¼‰</a></li><li><a href="/pages/fe4d39/" class="sidebar-link">JVMæ˜¯å¦‚ä½•å¤„ç†å¼‚å¸¸çš„ï¼Ÿ</a></li><li><a href="/pages/fc5957/" aria-current="page" class="active sidebar-link">JVMæ˜¯å¦‚ä½•å®ç°åå°„çš„ï¼Ÿ</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/pages/fc5957/#åå°„è°ƒç”¨çš„å®ç°" class="sidebar-link">åå°„è°ƒç”¨çš„å®ç°</a></li><li class="sidebar-sub-header level2"><a href="/pages/fc5957/#åå°„è°ƒç”¨çš„å¼€é”€" class="sidebar-link">åå°„è°ƒç”¨çš„å¼€é”€</a></li><li class="sidebar-sub-header level2"><a href="/pages/fc5957/#æ€»ç»“ä¸å®è·µ" class="sidebar-link">æ€»ç»“ä¸å®è·µ</a></li><li class="sidebar-sub-header level2"><a href="/pages/fc5957/#é™„å½•-åå°„-api-ç®€ä»‹" class="sidebar-link">é™„å½•ï¼šåå°„ API ç®€ä»‹</a></li><li class="sidebar-sub-header level2"><a href="/pages/fc5957/#ç²¾é€‰ç•™è¨€-46" class="sidebar-link">ç²¾é€‰ç•™è¨€(46)</a></li></ul></li><li><a href="/pages/3119a5/" class="sidebar-link">JVMæ˜¯æ€ä¹ˆå®ç°invokedynamicçš„ï¼Ÿï¼ˆä¸Šï¼‰</a></li><li><a href="/pages/03cdad/" class="sidebar-link">JVMæ˜¯æ€ä¹ˆå®ç°invokedynamicçš„ï¼Ÿï¼ˆä¸‹ï¼‰</a></li><li><a href="/pages/9c8181/" class="sidebar-link">Javaå¯¹è±¡çš„å†…å­˜å¸ƒå±€</a></li><li><a href="/pages/9735ec/" class="sidebar-link">åƒåœ¾å›æ”¶ï¼ˆä¸Šï¼‰</a></li><li><a href="/pages/8055d4/" class="sidebar-link">åƒåœ¾å›æ”¶ï¼ˆä¸‹ï¼‰</a></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>é«˜æ•ˆç¼–è¯‘</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>ä»£ç ä¼˜åŒ–</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/" title="é¦–é¡µ" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><a href="/categories/?category=%E7%BC%96%E7%A8%8B%E4%B8%96%E7%95%8C" title="åˆ†ç±»" data-v-06225672>ç¼–ç¨‹ä¸–ç•Œ</a></li><li data-v-06225672><a href="/categories/?category=JVM" title="åˆ†ç±»" data-v-06225672>JVM</a></li><li data-v-06225672><a href="/categories/?category=Java%E8%99%9A%E6%8B%9F%E6%9C%BA%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86" title="åˆ†ç±»" data-v-06225672>Javaè™šæ‹ŸæœºåŸºæœ¬åŸç†</a></li></ul> <div class="info" data-v-06225672><div title="ä½œè€…" class="author iconfont icon-touxiang" data-v-06225672><a href="https://github.com/ily55421" target="_blank" title="ä½œè€…" class="beLink" data-v-06225672>ily55421</a></div> <div title="åˆ›å»ºæ—¶é—´" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2022-08-17</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">ç›®å½•</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABKFJREFUSA3tVl1oFVcQnrMbrak3QUgkya1akpJYcrUtIqW1JvFBE9LiQ5v6JmJpolbMg32rVrhgoYK0QiMY6i9Y6EMaW5D+xFJaTYItIuK2Kr3+BJNwkxBj05sQY3b3nM6cs2dv9t7NT/vQJw/sndk5M/PNzJkzewGerP+pAmy+ON8lLzUJgA8ZYxYIYZmGYRnctDaWvJJAmTtfP1pvXsBCCPP8QFcCaRkZYACgDZFO4stNIcBCajEOlmmC9XpJ9bAGCaPaPmzPl32dvLSVu3BWCTQs0XQQ6g0DYgwLIoAZbBCdW/i+781o1VVlm/410mw4h06Y7bIPHNyWDyL4FHkX03Q8SrzNhZTZriieckWt7cL6MM85YcLpsi/7O9/iXFT6MswI0DmmpkSaJ0qLxFIm3+i1THHB3zmBH3PYx9CcykcLOeQVVa7QtdxTgQgEleX2AjHYfwA+2ddV77ruGoJUbhGDI09YSNXyMpUt5ylOzxgbUmtOp7NmbNt8v3arjTBfYELmLUV+M+nSawNNAUqpT3ClJWg5I3BLT+cGW/DXNGCa6tx1aakCGEigArTn4TDIPdrXXYKCZNrHLMCOEPvHBlLQ99s9eHB7EB6NTki73CVPQ2F5MSx/uRQixfmq7rK0wYD8w8E905bnPDfwoWs/rfv93NWN/ZfvwsLIU7A09gxECyISeGJkHAau98L97tuw7NXnoPyNF8FcYGLGKsOs0mN3OEyec9esGW/ZEl945dTP34wlR2FZVQWU1q0Cw8Tr7p+hgLLNL0FPxx/Q35mA8aEUrH6nCgwEl0tn7wUiZYJnNRh6DK4UH/k0lfyrsBKdPVv/AriGIQcEDQZ65LBAGe2Rzui9Ybjz7XUppz1/uKBbyVPGkN3ZAeC6hr0x7Nr38N5+EqkoOm17xpoqR9ohQF55ERSvr4Dkr3chNfC3DMzGJlNBElW8w9nsGQvhNGIzDkXzCg8cLK951xHsFBlTJspJNi3ZFIMF2AeDV3q8DNOB+YHi6QTrChDIWDBRi5U5f+ZMfJLu3ccrqxtdxk4SKH336LFxSmkqefwU5T8fhdSdQf9IVKD6aNiwI/hnmcAZ91isYMJIaCUCx9W098+LgruikeTqzqqxKPUwqJyCPJiyemVVZBOijDGjD38Os0jOiSPL1z3SPjXNANbiNPXAdzTfukjjuknNBbyz3nwgTd3AVFqUJ5hpHlq9MveLnWwttUfoygBmvVjuikxND3znrhsELnZk7k+OjIGxeNEkomyLVta0xxn+HZhjBc4YZ/AFjHjz9u3xRZl2BN4aq9nFwWh16IrQ1aHHEd3j1+4/dB9OtH4e29A2H1DyHQRmOSfQZ1Fy7MHBTGB6J/Djq6p3OxyO2cB+4Car7v/o3GXgfAkj23+x9ID1Teoamo/SXcbvSf2PX7Vc8DdCmE1vN9di+32P9/5YR3vLnhCVGUWBjEkr3yh4H8v9CzmsbdhzOKzsJKM90iFdaTMjRPhGVsakRvOaRidljo6H6G7j+ctrJpsP+4COhDIl0La2+FS4+5mlocBaXY5QnGZysIBYoeSsl5qQzrSj/cgNrfuEzlWBfwA+EjrZyWUvpAAAAABJRU5ErkJggg==">JVMæ˜¯å¦‚ä½•å®ç°åå°„çš„ï¼Ÿ<!----></h1>  <div class="theme-vdoing-content content__default"><h1 id="_07-jvmæ˜¯å¦‚ä½•å®ç°åå°„çš„"><a href="#_07-jvmæ˜¯å¦‚ä½•å®ç°åå°„çš„" class="header-anchor">#</a> 07 | JVMæ˜¯å¦‚ä½•å®ç°åå°„çš„ï¼Ÿ</h1> <p>ä»Šå¤©æˆ‘ä»¬æ¥èŠèŠ Java é‡Œçš„åå°„æœºåˆ¶ã€‚</p> <p>åå°„æ˜¯ Java è¯­è¨€ä¸­ä¸€ä¸ªç›¸å½“é‡è¦çš„ç‰¹æ€§ï¼Œå®ƒå…è®¸æ­£åœ¨è¿è¡Œçš„ Java ç¨‹åºè§‚æµ‹ï¼Œç”šè‡³æ˜¯ä¿®æ”¹ç¨‹åºçš„åŠ¨æ€è¡Œä¸ºã€‚</p> <p>ä¸¾ä¾‹æ¥è¯´ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ Class å¯¹è±¡æšä¸¾è¯¥ç±»ä¸­çš„æ‰€æœ‰æ–¹æ³•ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡ Method.setAccessibleï¼ˆä½äº  java.lang.reflect åŒ…ï¼Œè¯¥æ–¹æ³•ç»§æ‰¿è‡ª AccessibleObjectï¼‰ç»•è¿‡ Java  è¯­è¨€çš„è®¿é—®æƒé™ï¼Œåœ¨ç§æœ‰æ–¹æ³•æ‰€åœ¨ç±»ä¹‹å¤–çš„åœ°æ–¹è°ƒç”¨è¯¥æ–¹æ³•ã€‚</p> <p>åå°„åœ¨ Java ä¸­çš„åº”ç”¨ååˆ†å¹¿æ³›ã€‚å¼€å‘äººå‘˜æ—¥å¸¸æ¥è§¦åˆ°çš„ Java é›†æˆå¼€å‘ç¯å¢ƒï¼ˆIDEï¼‰ä¾¿è¿ç”¨äº†è¿™ä¸€åŠŸèƒ½ï¼šæ¯å½“æˆ‘ä»¬æ•²å…¥ç‚¹å·æ—¶ï¼ŒIDE ä¾¿ä¼šæ ¹æ®ç‚¹å·å‰çš„å†…å®¹ï¼ŒåŠ¨æ€å±•ç¤ºå¯ä»¥è®¿é—®çš„å­—æ®µæˆ–è€…æ–¹æ³•ã€‚</p> <p>å¦ä¸€ä¸ªæ—¥å¸¸åº”ç”¨åˆ™æ˜¯ Java è°ƒè¯•å™¨ï¼Œå®ƒèƒ½å¤Ÿåœ¨è°ƒè¯•è¿‡ç¨‹ä¸­æšä¸¾æŸä¸€å¯¹è±¡æ‰€æœ‰å­—æ®µçš„å€¼ã€‚</p> <p><img src="https://linkeq.oss-cn-chengdu.aliyuncs.com/img/2022/05/31/image-20220531133734763-0bb22d.png" alt="image-20220531133734763"></p> <p>ï¼ˆå›¾ä¸­ eclipse çš„è‡ªåŠ¨æç¤ºä½¿ç”¨äº†åå°„ï¼‰</p> <p>åœ¨ Web å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸èƒ½å¤Ÿæ¥è§¦åˆ°å„ç§å¯é…ç½®çš„é€šç”¨æ¡†æ¶ã€‚ä¸ºäº†ä¿è¯æ¡†æ¶çš„å¯æ‰©å±•æ€§ï¼Œå®ƒä»¬å¾€å¾€å€ŸåŠ© Java çš„åå°„æœºåˆ¶ï¼Œæ ¹æ®é…ç½®æ–‡ä»¶æ¥åŠ è½½ä¸åŒçš„ç±»ã€‚ä¸¾ä¾‹æ¥è¯´ï¼ŒSpring æ¡†æ¶çš„ä¾èµ–åè½¬ï¼ˆIoCï¼‰ï¼Œä¾¿æ˜¯ä¾èµ–äºåå°„æœºåˆ¶ã€‚</p> <p>ç„¶è€Œï¼Œæˆ‘ç›¸ä¿¡ä¸å°‘å¼€å‘äººå‘˜éƒ½å«Œå¼ƒåå°„æœºåˆ¶æ¯”è¾ƒæ…¢ã€‚ç”šè‡³æ˜¯ç”²éª¨æ–‡å…³äºåå°„çš„æ•™å­¦ç½‘é¡µ [1]ï¼Œä¹Ÿå¼ºè°ƒäº†åå°„æ€§èƒ½å¼€é”€å¤§çš„ç¼ºç‚¹ã€‚</p> <p>ä»Šå¤©æˆ‘ä»¬ä¾¿æ¥äº†è§£ä¸€ä¸‹åå°„çš„å®ç°æœºåˆ¶ï¼Œä»¥åŠå®ƒæ€§èƒ½ç³Ÿç³•çš„åŸå› ã€‚å¦‚æœä½ å¯¹åå°„ API ä¸æ˜¯ç‰¹åˆ«ç†Ÿæ‚‰çš„è¯ï¼Œä½ å¯ä»¥æŸ¥é˜…æˆ‘æ”¾åœ¨æ–‡ç¨¿æœ«å°¾çš„é™„å½•ã€‚</p> <h2 id="åå°„è°ƒç”¨çš„å®ç°"><a href="#åå°„è°ƒç”¨çš„å®ç°" class="header-anchor">#</a> åå°„è°ƒç”¨çš„å®ç°</h2> <p>é¦–å…ˆï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹æ–¹æ³•çš„åå°„è°ƒç”¨ï¼Œä¹Ÿå°±æ˜¯ Method.invokeï¼Œæ˜¯æ€ä¹ˆå®ç°çš„ã€‚</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>
public final class Method extends Executable {

  ...

  public Object invoke(Object obj, Object... args) throws ... {

    ... // æƒé™æ£€æŸ¥

    MethodAccessor ma = methodAccessor;

    if (ma == null) {

      ma = acquireMethodAccessor();

    }

    return ma.invoke(obj, args);

  }

}

 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><p>å¦‚æœä½ æŸ¥é˜… Method.invoke çš„æºä»£ç ï¼Œé‚£ä¹ˆä½ ä¼šå‘ç°ï¼Œå®ƒå®é™…ä¸Šå§”æ´¾ç»™ MethodAccessor æ¥å¤„ç†ã€‚MethodAccessor  æ˜¯ä¸€ä¸ªæ¥å£ï¼Œå®ƒæœ‰ä¸¤ä¸ªå·²æœ‰çš„å…·ä½“å®ç°ï¼šä¸€ä¸ªé€šè¿‡æœ¬åœ°æ–¹æ³•æ¥å®ç°åå°„è°ƒç”¨ï¼Œå¦ä¸€ä¸ªåˆ™ä½¿ç”¨äº†å§”æ´¾æ¨¡å¼ã€‚ä¸ºäº†æ–¹ä¾¿è®°å¿†ï¼Œæˆ‘ä¾¿ç”¨â€œæœ¬åœ°å®ç°â€å’Œâ€œå§”æ´¾å®ç°â€æ¥æŒ‡ä»£è¿™ä¸¤è€…ã€‚</p> <p>æ¯ä¸ª Method å®ä¾‹çš„ç¬¬ä¸€æ¬¡åå°„è°ƒç”¨éƒ½ä¼šç”Ÿæˆä¸€ä¸ªå§”æ´¾å®ç°ï¼Œå®ƒæ‰€å§”æ´¾çš„å…·ä½“å®ç°ä¾¿æ˜¯ä¸€ä¸ªæœ¬åœ°å®ç°ã€‚æœ¬åœ°å®ç°éå¸¸å®¹æ˜“ç†è§£ã€‚å½“è¿›å…¥äº† Java è™šæ‹Ÿæœºå†…éƒ¨ä¹‹åï¼Œæˆ‘ä»¬ä¾¿æ‹¥æœ‰äº† Method å®ä¾‹æ‰€æŒ‡å‘æ–¹æ³•çš„å…·ä½“åœ°å€ã€‚è¿™æ—¶å€™ï¼Œåå°„è°ƒç”¨æ— éå°±æ˜¯å°†ä¼ å…¥çš„å‚æ•°å‡†å¤‡å¥½ï¼Œç„¶åè°ƒç”¨è¿›å…¥ç›®æ ‡æ–¹æ³•ã€‚</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>
// v0 ç‰ˆæœ¬

import java.lang.reflect.Method;

 

public class Test {

  public static void target(int i) {

    new Exception(&quot;#&quot; + i).printStackTrace();

  }

 

  public static void main(String[] args) throws Exception {

    Class&lt;?&gt; klass = Class.forName(&quot;Test&quot;);

    Method method = klass.getMethod(&quot;target&quot;, int.class);

    method.invoke(null, 0);

  }

}

 

# ä¸åŒç‰ˆæœ¬çš„è¾“å‡ºç•¥æœ‰ä¸åŒï¼Œè¿™é‡Œæˆ‘ä½¿ç”¨äº† Java 10ã€‚

$ java Test

java.lang.Exception: #0

        at Test.target(Test.java:5)

        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl .invoke0(Native Method)

 a      t java.base/jdk.internal.reflect.NativeMethodAccessorImpl. .invoke(NativeMethodAccessorImpl.java:62)

 t       java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.i .invoke(DelegatingMethodAccessorImpl.java:43)

        java.base/java.lang.reflect.Method.invoke(Method.java:564)

  t        Test.main(Test.java:131
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br></div></div><p>ä¸ºäº†æ–¹ä¾¿ç†è§£ï¼Œæˆ‘ä»¬å¯ä»¥æ‰“å°ä¸€ä¸‹åå°„è°ƒç”¨åˆ°ç›®æ ‡æ–¹æ³•æ—¶çš„æ ˆè½¨è¿¹ã€‚åœ¨ä¸Šé¢çš„ v0 ç‰ˆæœ¬ä»£ç ä¸­ï¼Œæˆ‘ä»¬è·å–äº†ä¸€ä¸ªæŒ‡å‘ Test.target æ–¹æ³•çš„ Method å¯¹è±¡ï¼Œå¹¶ä¸”ç”¨å®ƒæ¥è¿›è¡Œåå°„è°ƒç”¨ã€‚åœ¨ Test.target ä¸­ï¼Œæˆ‘ä¼šæ‰“å°å‡ºæ ˆè½¨è¿¹ã€‚</p> <p>å¯ä»¥çœ‹åˆ°ï¼Œåå°„è°ƒç”¨å…ˆæ˜¯è°ƒç”¨äº† Method.invokeï¼Œç„¶åè¿›å…¥å§”æ´¾å®ç°ï¼ˆDelegatingMethodAccessorImplï¼‰ï¼Œå†ç„¶åè¿›å…¥æœ¬åœ°å®ç°ï¼ˆNativeMethodAccessorImplï¼‰ï¼Œæœ€ååˆ°è¾¾ç›®æ ‡æ–¹æ³•ã€‚</p> <p>è¿™é‡Œä½ å¯èƒ½ä¼šç–‘é—®ï¼Œä¸ºä»€ä¹ˆåå°„è°ƒç”¨è¿˜è¦é‡‡å–å§”æ´¾å®ç°ä½œä¸ºä¸­é—´å±‚ï¼Ÿç›´æ¥äº¤ç»™æœ¬åœ°å®ç°ä¸å¯ä»¥ä¹ˆï¼Ÿ</p> <p>å…¶å®ï¼ŒJava çš„åå°„è°ƒç”¨æœºåˆ¶è¿˜è®¾ç«‹äº†å¦ä¸€ç§åŠ¨æ€ç”Ÿæˆå­—èŠ‚ç çš„å®ç°ï¼ˆä¸‹ç§°åŠ¨æ€å®ç°ï¼‰ï¼Œç›´æ¥ä½¿ç”¨ invoke æŒ‡ä»¤æ¥è°ƒç”¨ç›®æ ‡æ–¹æ³•ã€‚ä¹‹æ‰€ä»¥é‡‡ç”¨å§”æ´¾å®ç°ï¼Œä¾¿æ˜¯ä¸ºäº†èƒ½å¤Ÿåœ¨æœ¬åœ°å®ç°ä»¥åŠåŠ¨æ€å®ç°ä¸­åˆ‡æ¢ã€‚</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>
// åŠ¨æ€å®ç°çš„ä¼ªä»£ç ï¼Œè¿™é‡Œåªåˆ—ä¸¾äº†å…³é”®çš„è°ƒç”¨é€»è¾‘ï¼Œå…¶å®å®ƒè¿˜åŒ…æ‹¬è°ƒç”¨è€…æ£€æµ‹ã€å‚æ•°æ£€æµ‹çš„å­—èŠ‚ç ã€‚

package jdk.internal.reflect;

 

public class GeneratedMethodAccessor1 extends ... {

  @Overrides    

  public Object invoke(Object obj, Object[] args) throws ... {

    Test.target((int) args[0]);

    return null;

  }

}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>åŠ¨æ€å®ç°å’Œæœ¬åœ°å®ç°ç›¸æ¯”ï¼Œå…¶è¿è¡Œæ•ˆç‡è¦å¿«ä¸Š 20 å€ <a href="http://hg.openjdk.java.net/jdk10/jdk10/jdk/file/777356696811/src/java.base/share/classes/jdk/internal/reflect/ReflectionFactory.java#l80" target="_blank" rel="noopener noreferrer">2<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ã€‚è¿™æ˜¯å› ä¸ºåŠ¨æ€å®ç°æ— éœ€ç»è¿‡ Java åˆ° C++ å†åˆ° Java çš„åˆ‡æ¢ï¼Œä½†ç”±äºç”Ÿæˆå­—èŠ‚ç ååˆ†è€—æ—¶ï¼Œä»…è°ƒç”¨ä¸€æ¬¡çš„è¯ï¼Œåè€Œæ˜¯æœ¬åœ°å®ç°è¦å¿«ä¸Š 3 åˆ° 4 å€ <a href="http://hg.openjdk.java.net/jdk10/jdk10/jdk/file/777356696811/src/java.base/share/classes/jdk/internal/reflect/ReflectionFactory.java#l78" target="_blank" rel="noopener noreferrer">3<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ã€‚</p> <p>è€ƒè™‘åˆ°è®¸å¤šåå°„è°ƒç”¨ä»…ä¼šæ‰§è¡Œä¸€æ¬¡ï¼ŒJava è™šæ‹Ÿæœºè®¾ç½®äº†ä¸€ä¸ªé˜ˆå€¼ 15ï¼ˆå¯ä»¥é€šè¿‡  -Dsun.reflect.inflationThreshold= æ¥è°ƒæ•´ï¼‰ï¼Œå½“æŸä¸ªåå°„è°ƒç”¨çš„è°ƒç”¨æ¬¡æ•°åœ¨ 15 ä¹‹ä¸‹æ—¶ï¼Œé‡‡ç”¨æœ¬åœ°å®ç°ï¼›å½“è¾¾åˆ°  15 æ—¶ï¼Œä¾¿å¼€å§‹åŠ¨æ€ç”Ÿæˆå­—èŠ‚ç ï¼Œå¹¶å°†å§”æ´¾å®ç°çš„å§”æ´¾å¯¹è±¡åˆ‡æ¢è‡³åŠ¨æ€å®ç°ï¼Œè¿™ä¸ªè¿‡ç¨‹æˆ‘ä»¬ç§°ä¹‹ä¸º Inflationã€‚</p> <p>ä¸ºäº†è§‚å¯Ÿè¿™ä¸ªè¿‡ç¨‹ï¼Œæˆ‘å°†åˆšæ‰çš„ä¾‹å­æ›´æ”¹ä¸ºä¸‹é¢çš„ v1 ç‰ˆæœ¬ã€‚å®ƒä¼šå°†åå°„è°ƒç”¨å¾ªç¯ 20 æ¬¡ã€‚</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>
// v1 ç‰ˆæœ¬

import java.lang.reflect.Method;

 

public class Test {

  public static void target(int i) {

    new Exception(&quot;#&quot; + i).printStackTrace();

  }

 

  public static void main(String[] args) throws Exception {

    Class&lt;?&gt; klass = Class.forName(&quot;Test&quot;);

    Method method = klass.getMethod(&quot;target&quot;, int.class);

    for (int i = 0; i &lt; 20; i++) {

      method.invoke(null, i);

    }

  }

}

 

# ä½¿ç”¨ -verbose:class æ‰“å°åŠ è½½çš„ç±»

$ java -verbose:class Test

...

java.lang.Exception: #14

        at Test.target(Test.java:5)

        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl .invoke0(Native Method)

        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl .invoke(NativeMethodAccessorImpl.java:62)

        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl .invoke(DelegatingMethodAccessorImpl.java:43)

        at java.base/java.lang.reflect.Method.invoke(Method.java:564)

        at Test.main(Test.java:12)

[0.158s][info][class,load] ...

...

[0.160s][info][class,load] jdk.internal.reflect.GeneratedMethodAccessor1 source: __JVM_DefineClass__

java.lang.Exception: #15

       at Test.target(Test.java:5)

       at java.base/jdk.internal.reflect.NativeMethodAccessorImpl .invoke0(Native Method)

       at java.base/jdk.internal.reflect.NativeMethodAccessorImpl .invoke(NativeMethodAccessorImpl.java:62)

       at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl .invoke(DelegatingMethodAccessorImpl.java:43)

       at java.base/java.lang.reflect.Method.invoke(Method.java:564)

       at Test.main(Test.java:12)

java.lang.Exception: #16

       at Test.target(Test.java:5)

       at jdk.internal.reflect.GeneratedMethodAccessor1 .invoke(Unknown Source)

       at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl .invoke(DelegatingMethodAccessorImpl.java:43)

       at java.base/java.lang.reflect.Method.invoke(Method.java:564)

       at Test.main(Test.java:12)

...
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br></div></div><p>å¯ä»¥çœ‹åˆ°ï¼Œåœ¨ç¬¬ 15 æ¬¡ï¼ˆä» 0 å¼€å§‹æ•°ï¼‰åå°„è°ƒç”¨æ—¶ï¼Œæˆ‘ä»¬ä¾¿è§¦å‘äº†åŠ¨æ€å®ç°çš„ç”Ÿæˆã€‚è¿™æ—¶å€™ï¼ŒJava è™šæ‹Ÿæœºé¢å¤–åŠ è½½äº†ä¸å°‘ç±»ã€‚å…¶ä¸­ï¼Œæœ€é‡è¦çš„å½“å±  GeneratedMethodAccessor1ï¼ˆç¬¬ 30 è¡Œï¼‰ã€‚å¹¶ä¸”ï¼Œä»ç¬¬ 16 æ¬¡åå°„è°ƒç”¨å¼€å§‹ï¼Œæˆ‘ä»¬ä¾¿åˆ‡æ¢è‡³è¿™ä¸ªåˆšåˆšç”Ÿæˆçš„åŠ¨æ€å®ç°ï¼ˆç¬¬ 40 è¡Œï¼‰ã€‚</p> <p>åå°„è°ƒç”¨çš„ Inflation æœºåˆ¶æ˜¯å¯ä»¥é€šè¿‡å‚æ•°ï¼ˆ-Dsun.reflect.noInflation=trueï¼‰æ¥å…³é—­çš„ã€‚è¿™æ ·ä¸€æ¥ï¼Œåœ¨åå°„è°ƒç”¨ä¸€å¼€å§‹ä¾¿ä¼šç›´æ¥ç”ŸæˆåŠ¨æ€å®ç°ï¼Œè€Œä¸ä¼šä½¿ç”¨å§”æ´¾å®ç°æˆ–è€…æœ¬åœ°å®ç°ã€‚</p> <h2 id="åå°„è°ƒç”¨çš„å¼€é”€"><a href="#åå°„è°ƒç”¨çš„å¼€é”€" class="header-anchor">#</a> åå°„è°ƒç”¨çš„å¼€é”€</h2> <p>ä¸‹é¢ï¼Œæˆ‘ä»¬ä¾¿æ¥æ‹†è§£åå°„è°ƒç”¨çš„æ€§èƒ½å¼€é”€ã€‚</p> <p>åœ¨åˆšæ‰çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å…ˆåè¿›è¡Œäº† Class.forNameï¼ŒClass.getMethod ä»¥åŠ Method.invoke  ä¸‰ä¸ªæ“ä½œã€‚å…¶ä¸­ï¼ŒClass.forName ä¼šè°ƒç”¨æœ¬åœ°æ–¹æ³•ï¼ŒClass.getMethod  åˆ™ä¼šéå†è¯¥ç±»çš„å…¬æœ‰æ–¹æ³•ã€‚å¦‚æœæ²¡æœ‰åŒ¹é…åˆ°ï¼Œå®ƒè¿˜å°†éå†çˆ¶ç±»çš„å…¬æœ‰æ–¹æ³•ã€‚å¯æƒ³è€ŒçŸ¥ï¼Œè¿™ä¸¤ä¸ªæ“ä½œéƒ½éå¸¸è´¹æ—¶ã€‚</p> <p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œä»¥ getMethod ä¸ºä»£è¡¨çš„æŸ¥æ‰¾æ–¹æ³•æ“ä½œï¼Œä¼šè¿”å›æŸ¥æ‰¾å¾—åˆ°ç»“æœçš„ä¸€ä»½æ‹·è´ã€‚å› æ­¤ï¼Œæˆ‘ä»¬åº”å½“é¿å…åœ¨çƒ­ç‚¹ä»£ç ä¸­ä½¿ç”¨è¿”å› Method æ•°ç»„çš„ getMethods æˆ–è€… getDeclaredMethods æ–¹æ³•ï¼Œä»¥å‡å°‘ä¸å¿…è¦çš„å †ç©ºé—´æ¶ˆè€—ã€‚</p> <p>åœ¨å®è·µä¸­ï¼Œæˆ‘ä»¬å¾€å¾€ä¼šåœ¨åº”ç”¨ç¨‹åºä¸­ç¼“å­˜ Class.forName å’Œ Class.getMethod çš„ç»“æœã€‚å› æ­¤ï¼Œä¸‹é¢æˆ‘å°±åªå…³æ³¨åå°„è°ƒç”¨æœ¬èº«çš„æ€§èƒ½å¼€é”€ã€‚</p> <p>ä¸ºäº†æ¯”è¾ƒç›´æ¥è°ƒç”¨å’Œåå°„è°ƒç”¨çš„æ€§èƒ½å·®è·ï¼Œæˆ‘å°†å‰é¢çš„ä¾‹å­æ”¹ä¸ºä¸‹é¢çš„ v2 ç‰ˆæœ¬ã€‚å®ƒä¼šå°†åå°„è°ƒç”¨å¾ªç¯äºŒåäº¿æ¬¡ã€‚æ­¤å¤–ï¼Œå®ƒè¿˜å°†è®°å½•ä¸‹æ¯è·‘ä¸€äº¿æ¬¡çš„æ—¶é—´ã€‚</p> <p>æˆ‘å°†å–æœ€åäº”ä¸ªè®°å½•çš„å¹³å‡å€¼ï¼Œä½œä¸ºé¢„çƒ­åçš„å³°å€¼æ€§èƒ½ã€‚ï¼ˆæ³¨ï¼šè¿™ç§æ€§èƒ½è¯„ä¼°æ–¹å¼å¹¶ä¸ä¸¥è°¨ï¼Œæˆ‘ä¼šåœ¨ä¸“æ çš„ç¬¬ä¸‰éƒ¨åˆ†ä»‹ç»å¦‚ä½•ç”¨ JMH æ¥æµ‹æ€§èƒ½ã€‚ï¼‰</p> <p>åœ¨æˆ‘è¿™ä¸ªè€ç¬”è®°æœ¬ä¸Šï¼Œä¸€äº¿æ¬¡ç›´æ¥è°ƒç”¨è€—è´¹çš„æ—¶é—´å¤§çº¦åœ¨ 120msã€‚è¿™å’Œä¸è°ƒç”¨çš„æ—¶é—´æ˜¯ä¸€è‡´çš„ã€‚å…¶åŸå› åœ¨äºè¿™æ®µä»£ç å±äºçƒ­å¾ªç¯ï¼ŒåŒæ ·ä¼šè§¦å‘å³æ—¶ç¼–è¯‘ã€‚å¹¶ä¸”ï¼Œå³æ—¶ç¼–è¯‘ä¼šå°†å¯¹ Test.target çš„è°ƒç”¨å†…è”è¿›æ¥ï¼Œä»è€Œæ¶ˆé™¤äº†è°ƒç”¨çš„å¼€é”€ã€‚</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>
// v2 ç‰ˆæœ¬

mport java.lang.reflect.Method;

 

public class Test {

  public static void target(int i) {

    // ç©ºæ–¹æ³•

  }

 

  public static void main(String[] args) throws Exception {

    Class&lt;?&gt; klass = Class.forName(&quot;Test&quot;);

    Method method = klass.getMethod(&quot;target&quot;, int.class);

 

    long current = System.currentTimeMillis();

    for (int i = 1; i &lt;= 2_000_000_000; i++) {

      if (i % 100_000_000 == 0) {

        long temp = System.currentTimeMillis();

        System.out.println(temp - current);

        current = temp;

      }

 

      method.invoke(null, 128);

    }

  }

}

 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br></div></div><p>ä¸‹é¢æˆ‘å°†ä»¥ 120ms ä½œä¸ºåŸºå‡†ï¼Œæ¥æ¯”è¾ƒåå°„è°ƒç”¨çš„æ€§èƒ½å¼€é”€ã€‚</p> <p>ç”±äºç›®æ ‡æ–¹æ³• Test.target æ¥æ”¶ä¸€ä¸ª int ç±»å‹çš„å‚æ•°ï¼Œå› æ­¤æˆ‘ä¼ å…¥ 128 ä½œä¸ºåå°„è°ƒç”¨çš„å‚æ•°ï¼Œæµ‹å¾—çš„ç»“æœçº¦ä¸ºåŸºå‡†çš„ 2.7 å€ã€‚æˆ‘ä»¬æš‚ä¸”ä¸ç®¡è¿™ä¸ªæ•°å­—æ˜¯é«˜æ˜¯ä½ï¼Œå…ˆæ¥çœ‹çœ‹åœ¨åå°„è°ƒç”¨ä¹‹å‰å­—èŠ‚ç éƒ½åšäº†ä»€ä¹ˆã€‚</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>
   59: aload_2                         // åŠ è½½ Method å¯¹è±¡

   60: aconst_null                     // åå°„è°ƒç”¨çš„ç¬¬ä¸€ä¸ªå‚æ•° null

   61: iconst_1

   62: anewarray Object                // ç”Ÿæˆä¸€ä¸ªé•¿åº¦ä¸º 1 çš„ Object æ•°ç»„

   65: dup

   66: iconst_0

   67: sipush 128

   70: invokestatic Integer.valueOf    // å°† 128 è‡ªåŠ¨è£…ç®±æˆ Integer

   73: aastore                         // å­˜å…¥ Object æ•°ç»„ä¸­

   74: invokevirtual Method.invoke     // åå°„è°ƒç”¨
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>è¿™é‡Œæˆ‘æˆªå–äº†å¾ªç¯ä¸­åå°„è°ƒç”¨ç¼–è¯‘è€Œæˆçš„å­—èŠ‚ç ã€‚å¯ä»¥çœ‹åˆ°ï¼Œè¿™æ®µå­—èŠ‚ç é™¤äº†åå°„è°ƒç”¨å¤–ï¼Œè¿˜é¢å¤–åšäº†ä¸¤ä¸ªæ“ä½œã€‚</p> <p>ç¬¬ä¸€ï¼Œç”±äº Method.invoke æ˜¯ä¸€ä¸ªå˜é•¿å‚æ•°æ–¹æ³•ï¼Œåœ¨å­—èŠ‚ç å±‚é¢å®ƒçš„æœ€åä¸€ä¸ªå‚æ•°ä¼šæ˜¯ Object æ•°ç»„ï¼ˆæ„Ÿå…´è¶£çš„åŒå­¦ç§ä¸‹å¯ä»¥ç”¨  javap æŸ¥çœ‹ï¼‰ã€‚Java ç¼–è¯‘å™¨ä¼šåœ¨æ–¹æ³•è°ƒç”¨å¤„ç”Ÿæˆä¸€ä¸ªé•¿åº¦ä¸ºä¼ å…¥å‚æ•°æ•°é‡çš„ Object æ•°ç»„ï¼Œå¹¶å°†ä¼ å…¥å‚æ•°ä¸€ä¸€å­˜å‚¨è¿›è¯¥æ•°ç»„ä¸­ã€‚</p> <p>ç¬¬äºŒï¼Œç”±äº Object æ•°ç»„ä¸èƒ½å­˜å‚¨åŸºæœ¬ç±»å‹ï¼ŒJava ç¼–è¯‘å™¨ä¼šå¯¹ä¼ å…¥çš„åŸºæœ¬ç±»å‹å‚æ•°è¿›è¡Œè‡ªåŠ¨è£…ç®±ã€‚</p> <p>è¿™ä¸¤ä¸ªæ“ä½œé™¤äº†å¸¦æ¥æ€§èƒ½å¼€é”€å¤–ï¼Œè¿˜å¯èƒ½å ç”¨å †å†…å­˜ï¼Œä½¿å¾— GC æ›´åŠ é¢‘ç¹ã€‚ï¼ˆå¦‚æœä½ æ„Ÿå…´è¶£çš„è¯ï¼Œå¯ä»¥ç”¨è™šæ‹Ÿæœºå‚æ•° -XX:+PrintGC è¯•è¯•ã€‚ï¼‰é‚£ä¹ˆï¼Œå¦‚ä½•æ¶ˆé™¤è¿™éƒ¨åˆ†å¼€é”€å‘¢ï¼Ÿ</p> <p>å…³äºç¬¬äºŒä¸ªè‡ªåŠ¨è£…ç®±ï¼ŒJava ç¼“å­˜äº† [-128, 127] ä¸­æ‰€æœ‰æ•´æ•°æ‰€å¯¹åº”çš„ Integer å¯¹è±¡ã€‚å½“éœ€è¦è‡ªåŠ¨è£…ç®±çš„æ•´æ•°åœ¨è¿™ä¸ªèŒƒå›´ä¹‹å†…æ—¶ï¼Œä¾¿è¿”å›ç¼“å­˜çš„ Integerï¼Œå¦åˆ™éœ€è¦æ–°å»ºä¸€ä¸ª Integer å¯¹è±¡ã€‚</p> <p>å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥å°†è¿™ä¸ªç¼“å­˜çš„èŒƒå›´æ‰©å¤§è‡³è¦†ç›– 128ï¼ˆå¯¹åº”å‚æ•°
-Djava.lang.Integer.IntegerCache.high=128ï¼‰ï¼Œä¾¿å¯ä»¥é¿å…éœ€è¦æ–°å»º Integer å¯¹è±¡çš„åœºæ™¯ã€‚</p> <p>æˆ–è€…ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å¾ªç¯å¤–ç¼“å­˜ 128 è‡ªåŠ¨è£…ç®±å¾—åˆ°çš„ Integer å¯¹è±¡ï¼Œå¹¶ä¸”ç›´æ¥ä¼ å…¥åå°„è°ƒç”¨ä¸­ã€‚è¿™ä¸¤ç§æ–¹æ³•æµ‹å¾—çš„ç»“æœå·®ä¸å¤šï¼Œçº¦ä¸ºåŸºå‡†çš„ 1.8 å€ã€‚</p> <p>ç°åœ¨æˆ‘ä»¬å†å›æ¥çœ‹çœ‹ç¬¬ä¸€ä¸ªå› å˜é•¿å‚æ•°è€Œè‡ªåŠ¨ç”Ÿæˆçš„ Object æ•°ç»„ã€‚æ—¢ç„¶æ¯ä¸ªåå°„è°ƒç”¨å¯¹åº”çš„å‚æ•°ä¸ªæ•°æ˜¯å›ºå®šçš„ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥é€‰æ‹©åœ¨å¾ªç¯å¤–æ–°å»ºä¸€ä¸ª Object æ•°ç»„ï¼Œè®¾ç½®å¥½å‚æ•°ï¼Œå¹¶ç›´æ¥äº¤ç»™åå°„è°ƒç”¨ã€‚æ”¹å¥½çš„ä»£ç å¯ä»¥å‚ç…§æ–‡ç¨¿ä¸­çš„ v3 ç‰ˆæœ¬ã€‚</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>
// v3 ç‰ˆæœ¬

import java.lang.reflect.Method;

 

public class Test {

  public static void target(int i) {

    // ç©ºæ–¹æ³•

  }

 

  public static void main(String[] args) throws Exception {

    Class&lt;?&gt; klass = Class.forName(&quot;Test&quot;);

    Method method = klass.getMethod(&quot;target&quot;, int.class);

 

    Object[] arg = new Object[1]; // åœ¨å¾ªç¯å¤–æ„é€ å‚æ•°æ•°ç»„

    arg[0] = 128;

 

    long current = System.currentTimeMillis();

    for (int i = 1; i &lt;= 2_000_000_000; i++) {

      if (i % 100_000_000 == 0) {

        long temp = System.currentTimeMillis();

        System.out.println(temp - current);

        current = temp;

      }

 

      method.invoke(null, arg);

    }

  }

}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br></div></div><p>æµ‹å¾—çš„ç»“æœåè€Œæ›´ç³Ÿç³•äº†ï¼Œä¸ºåŸºå‡†çš„ 2.9 å€ã€‚è¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ</p> <p>å¦‚æœä½ åœ¨ä¸Šä¸€æ­¥è§£å†³äº†è‡ªåŠ¨è£…ç®±ä¹‹åæŸ¥çœ‹è¿è¡Œæ—¶çš„ GC çŠ¶å†µï¼Œä½ ä¼šå‘ç°è¿™æ®µç¨‹åºå¹¶ä¸ä¼šè§¦å‘ GCã€‚å…¶åŸå› åœ¨äºï¼ŒåŸæœ¬çš„åå°„è°ƒç”¨è¢«å†…è”äº†ï¼Œä»è€Œä½¿å¾—å³æ—¶ç¼–è¯‘å™¨ä¸­çš„é€ƒé€¸åˆ†æå°†åŸæœ¬æ–°å»ºçš„ Object æ•°ç»„åˆ¤å®šä¸ºä¸é€ƒé€¸çš„å¯¹è±¡ã€‚</p> <p>å¦‚æœä¸€ä¸ªå¯¹è±¡ä¸é€ƒé€¸ï¼Œé‚£ä¹ˆå³æ—¶ç¼–è¯‘å™¨å¯ä»¥é€‰æ‹©æ ˆåˆ†é…ç”šè‡³æ˜¯è™šæ‹Ÿåˆ†é…ï¼Œä¹Ÿå°±æ˜¯ä¸å ç”¨å †ç©ºé—´ã€‚å…·ä½“æˆ‘ä¼šåœ¨æœ¬ä¸“æ çš„ç¬¬äºŒéƒ¨åˆ†è¯¦ç»†è§£é‡Šã€‚</p> <p>å¦‚æœåœ¨å¾ªç¯å¤–æ–°å»ºæ•°ç»„ï¼Œå³æ—¶ç¼–è¯‘å™¨æ— æ³•ç¡®å®šè¿™ä¸ªæ•°ç»„ä¼šä¸ä¼šä¸­é€”è¢«æ›´æ”¹ï¼Œå› æ­¤æ— æ³•ä¼˜åŒ–æ‰è®¿é—®æ•°ç»„çš„æ“ä½œï¼Œå¯è°“æ˜¯å¾—ä¸å¿å¤±ã€‚</p> <p>åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬çš„æœ€å¥½è®°å½•æ˜¯ 1.8 å€ã€‚é‚£èƒ½ä¸èƒ½å†è¿›ä¸€æ­¥æå‡å‘¢ï¼Ÿ</p> <p>åˆšæ‰æˆ‘æ›¾æåˆ°ï¼Œå¯ä»¥å…³é—­åå°„è°ƒç”¨çš„ Inflation  æœºåˆ¶ï¼Œä»è€Œå–æ¶ˆå§”æ´¾å®ç°ï¼Œå¹¶ä¸”ç›´æ¥ä½¿ç”¨åŠ¨æ€å®ç°ã€‚æ­¤å¤–ï¼Œæ¯æ¬¡åå°„è°ƒç”¨éƒ½ä¼šæ£€æŸ¥ç›®æ ‡æ–¹æ³•çš„æƒé™ï¼Œè€Œè¿™ä¸ªæ£€æŸ¥åŒæ ·å¯ä»¥åœ¨ Java  ä»£ç é‡Œå…³é—­ï¼Œåœ¨å…³é—­äº†è¿™ä¸¤é¡¹æœºåˆ¶ä¹‹åï¼Œä¹Ÿå°±å¾—åˆ°äº†æˆ‘ä»¬çš„ v4 ç‰ˆæœ¬ï¼Œå®ƒæµ‹å¾—çš„ç»“æœçº¦ä¸ºåŸºå‡†çš„ 1.3 å€ã€‚</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>
 

// v4 ç‰ˆæœ¬

import java.lang.reflect.Method;

 

// åœ¨è¿è¡ŒæŒ‡ä»¤ä¸­æ·»åŠ å¦‚ä¸‹ä¸¤ä¸ªè™šæ‹Ÿæœºå‚æ•°ï¼š

// -Djava.lang.Integer.IntegerCache.high=128

// -Dsun.reflect.noInflation=true

public class Test {

  public static void target(int i) {

    // ç©ºæ–¹æ³•

  }

 

  public static void main(String[] args) throws Exception {

    Class&lt;?&gt; klass = Class.forName(&quot;Test&quot;);

    Method method = klass.getMethod(&quot;target&quot;, int.class);

    method.setAccessible(true);  // å…³é—­æƒé™æ£€æŸ¥

 

    long current = System.currentTimeMillis();

    for (int i = 1; i &lt;= 2_000_000_000; i++) {

      if (i % 100_000_000 == 0) {

        long temp = System.currentTimeMillis();

        System.out.println(temp - current);

        current = temp;

      }

 

      method.invoke(null, 128);

    }

  }

}

 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br></div></div><p>åˆ°è¿™é‡Œï¼Œæˆ‘ä»¬åŸºæœ¬ä¸ŠæŠŠåå°„è°ƒç”¨çš„æ°´åˆ†éƒ½æ¦¨å¹²äº†ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘æ¥æŠŠåå°„è°ƒç”¨çš„æ€§èƒ½å¼€é”€ç»™æå›å»ã€‚</p> <p>é¦–å…ˆï¼Œåœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œä¹‹æ‰€ä»¥åå°„è°ƒç”¨èƒ½å¤Ÿå˜å¾—è¿™ä¹ˆå¿«ï¼Œä¸»è¦æ˜¯å› ä¸ºå³æ—¶ç¼–è¯‘å™¨ä¸­çš„æ–¹æ³•å†…è”ã€‚åœ¨å…³é—­äº† Inflation çš„æƒ…å†µä¸‹ï¼Œå†…è”çš„ç“¶é¢ˆåœ¨äº Method.invoke æ–¹æ³•ä¸­å¯¹ MethodAccessor.invoke æ–¹æ³•çš„è°ƒç”¨ã€‚</p> <p><img src="https://linkeq.oss-cn-chengdu.aliyuncs.com/img/2022/05/31/image-20220531133747834-97c84f.png" alt="image-20220531133747834"></p> <p>æˆ‘ä¼šåœ¨åé¢çš„æ–‡ç« ä¸­ä»‹ç»æ–¹æ³•å†…è”çš„å…·ä½“å®ç°ï¼Œè¿™é‡Œå…ˆè¯´ä¸ªç»“è®ºï¼šåœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œæˆ‘ä»¬å¾€å¾€æ‹¥æœ‰å¤šä¸ªä¸åŒçš„åå°„è°ƒç”¨ï¼Œå¯¹åº”å¤šä¸ª GeneratedMethodAccessorï¼Œä¹Ÿå°±æ˜¯åŠ¨æ€å®ç°ã€‚</p> <p>ç”±äº Java è™šæ‹Ÿæœºçš„å…³äºä¸Šè¿°è°ƒç”¨ç‚¹çš„ç±»å‹ profileï¼ˆæ³¨ï¼šå¯¹äº invokevirtual æˆ–è€…  invokeinterfaceï¼ŒJava è™šæ‹Ÿæœºä¼šè®°å½•ä¸‹è°ƒç”¨è€…çš„å…·ä½“ç±»å‹ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºç±»å‹  profileï¼‰æ— æ³•åŒæ—¶è®°å½•è¿™ä¹ˆå¤šä¸ªç±»ï¼Œå› æ­¤å¯èƒ½é€ æˆæ‰€æµ‹è¯•çš„åå°„è°ƒç”¨æ²¡æœ‰è¢«å†…è”çš„æƒ…å†µã€‚</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>
// v5 ç‰ˆæœ¬

import java.lang.reflect.Method;

 

public class Test {

  public static void target(int i) {

    // ç©ºæ–¹æ³•

  }

 

  public static void main(String[] args) throws Exception {

    Class&lt;?&gt; klass = Class.forName(&quot;Test&quot;);

    Method method = klass.getMethod(&quot;target&quot;, int.class);

    method.setAccessible(true);  // å…³é—­æƒé™æ£€æŸ¥

    polluteProfile();

 

    long current = System.currentTimeMillis();

    for (int i = 1; i &lt;= 2_000_000_000; i++) {

      if (i % 100_000_000 == 0) {

        long temp = System.currentTimeMillis();

        System.out.println(temp - current);

        current = temp;

      }

 

      method.invoke(null, 128);

    }

  }

 

  public static void polluteProfile() throws Exception {

    Method method1 = Test.class.getMethod(&quot;target1&quot;, int.class);

    Method method2 = Test.class.getMethod(&quot;target2&quot;, int.class);

    for (int i = 0; i &lt; 2000; i++) {

      method1.invoke(null, 0);

      method2.invoke(null, 0);

    }

  }

  public static void target1(int i) { }

  public static void target2(int i) { }

}

 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br></div></div><p>åœ¨ä¸Šé¢çš„ v5 ç‰ˆæœ¬ä¸­ï¼Œæˆ‘åœ¨æµ‹è¯•å¾ªç¯ä¹‹å‰è°ƒç”¨äº† polluteProfile çš„æ–¹æ³•ã€‚è¯¥æ–¹æ³•å°†åå°„è°ƒç”¨å¦å¤–ä¸¤ä¸ªæ–¹æ³•ï¼Œå¹¶ä¸”å¾ªç¯ä¸Š 2000 éã€‚</p> <p>è€Œæµ‹è¯•å¾ªç¯åˆ™ä¿æŒä¸å˜ã€‚æµ‹å¾—çš„ç»“æœçº¦ä¸ºåŸºå‡†çš„ 6.7 å€ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåªè¦è¯¯æ‰°äº† Method.invoke æ–¹æ³•çš„ç±»å‹ profileï¼Œæ€§èƒ½å¼€é”€ä¾¿ä¼šä» 1.3 å€ä¸Šå‡è‡³ 6.7 å€ã€‚</p> <p>ä¹‹æ‰€ä»¥è¿™ä¹ˆæ…¢ï¼Œé™¤äº†æ²¡æœ‰å†…è”ä¹‹å¤–ï¼Œå¦å¤–ä¸€ä¸ªåŸå› æ˜¯é€ƒé€¸åˆ†æä¸å†èµ·æ•ˆã€‚è¿™æ—¶å€™ï¼Œæˆ‘ä»¬ä¾¿å¯ä»¥é‡‡ç”¨åˆšæ‰ v3 ç‰ˆæœ¬ä¸­çš„è§£å†³æ–¹æ¡ˆï¼Œåœ¨å¾ªç¯å¤–æ„é€ å‚æ•°æ•°ç»„ï¼Œå¹¶ç›´æ¥ä¼ é€’ç»™åå°„è°ƒç”¨ã€‚è¿™æ ·å­æµ‹å¾—çš„ç»“æœçº¦ä¸ºåŸºå‡†çš„ 5.2 å€ã€‚</p> <p>é™¤æ­¤ä¹‹å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥æé«˜ Java è™šæ‹Ÿæœºå…³äºæ¯ä¸ªè°ƒç”¨èƒ½å¤Ÿè®°å½•çš„ç±»å‹æ•°ç›®ï¼ˆå¯¹åº”è™šæ‹Ÿæœºå‚æ•°  -XX:TypeProfileWidthï¼Œé»˜è®¤å€¼ä¸º 2ï¼Œè¿™é‡Œè®¾ç½®ä¸º 3ï¼‰ã€‚æœ€ç»ˆæµ‹å¾—çš„ç»“æœçº¦ä¸ºåŸºå‡†çš„ 2.8 å€ï¼Œå°½ç®¡å®ƒå’ŒåŸæœ¬çš„ 1.3  å€è¿˜æœ‰ä¸€å®šçš„å·®è·ï¼Œä½†æ€»ç®—æ˜¯æ¯” 6.7 å€å¥½å¤šäº†ã€‚</p> <h2 id="æ€»ç»“ä¸å®è·µ"><a href="#æ€»ç»“ä¸å®è·µ" class="header-anchor">#</a> æ€»ç»“ä¸å®è·µ</h2> <p>ä»Šå¤©æˆ‘ä»‹ç»äº† Java é‡Œçš„åå°„æœºåˆ¶ã€‚</p> <p>åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼Œæ–¹æ³•çš„åå°„è°ƒç”¨ä¸ºå§”æ´¾å®ç°ï¼Œå§”æ´¾ç»™æœ¬åœ°å®ç°æ¥è¿›è¡Œæ–¹æ³•è°ƒç”¨ã€‚åœ¨è°ƒç”¨è¶…è¿‡ 15 æ¬¡ä¹‹åï¼Œå§”æ´¾å®ç°ä¾¿ä¼šå°†å§”æ´¾å¯¹è±¡åˆ‡æ¢è‡³åŠ¨æ€å®ç°ã€‚è¿™ä¸ªåŠ¨æ€å®ç°çš„å­—èŠ‚ç æ˜¯è‡ªåŠ¨ç”Ÿæˆçš„ï¼Œå®ƒå°†ç›´æ¥ä½¿ç”¨ invoke æŒ‡ä»¤æ¥è°ƒç”¨ç›®æ ‡æ–¹æ³•ã€‚</p> <p>æ–¹æ³•çš„åå°„è°ƒç”¨ä¼šå¸¦æ¥ä¸å°‘æ€§èƒ½å¼€é”€ï¼ŒåŸå› ä¸»è¦æœ‰ä¸‰ä¸ªï¼šå˜é•¿å‚æ•°æ–¹æ³•å¯¼è‡´çš„ Object æ•°ç»„ï¼ŒåŸºæœ¬ç±»å‹çš„è‡ªåŠ¨è£…ç®±ã€æ‹†ç®±ï¼Œè¿˜æœ‰æœ€é‡è¦çš„æ–¹æ³•å†…è”ã€‚</p> <p>ä»Šå¤©çš„å®è·µç¯èŠ‚ï¼Œä½ å¯ä»¥å°†æœ€åä¸€æ®µä»£ç ä¸­ polluteProfile æ–¹æ³•çš„ä¸¤ä¸ª Method  å¯¹è±¡ï¼Œéƒ½æ”¹æˆè·å–åå­—ä¸ºâ€œtargetâ€çš„æ–¹æ³•ã€‚è¯·é—®è¿™ä¸¤ä¸ªè·å¾—çš„ Method å¯¹è±¡æ˜¯åŒä¸€ä¸ªå—ï¼ˆ==ï¼‰ï¼Ÿä»–ä»¬ equal  å—ï¼ˆ.equals(â€¦)ï¼‰ï¼Ÿå¯¹æˆ‘ä»¬çš„è¿è¡Œç»“æœæœ‰ä»€ä¹ˆå½±å“ï¼Ÿ</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>
import java.lang.reflect.Method;

 

public class Test {

  public static void target(int i) {

    // ç©ºæ–¹æ³•

  }

 

  public static void main(String[] args) throws Exception {

    Class&lt;?&gt; klass = Class.forName(&quot;Test&quot;);

    Method method = klass.getMethod(&quot;target&quot;, int.class);

    method.setAccessible(true);  // å…³é—­æƒé™æ£€æŸ¥

    polluteProfile();

 

    long current = System.currentTimeMillis();

    for (int i = 1; i &lt;= 2_000_000_000; i++) {

      if (i % 100_000_000 == 0) {

        long temp = System.currentTimeMillis();

        System.out.println(temp - current);

        current = temp;

      }

 

      method.invoke(null, 128);

    }

  }

 

  public static void polluteProfile() throws Exception {

    Method method1 = Test.class.getMethod(&quot;target&quot;, int.class);

    Method method2 = Test.class.getMethod(&quot;target&quot;, int.class);

    for (int i = 0; i &lt; 2000; i++) {

      method1.invoke(null, 0);

      method2.invoke(null, 0);

    }

  }

  public static void target1(int i) { }

  public static void target2(int i) { }

}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br></div><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br></div></div><h2 id="é™„å½•-åå°„-api-ç®€ä»‹"><a href="#é™„å½•-åå°„-api-ç®€ä»‹" class="header-anchor">#</a> é™„å½•ï¼šåå°„ API ç®€ä»‹</h2> <p>é€šå¸¸æ¥è¯´ï¼Œä½¿ç”¨åå°„ API çš„ç¬¬ä¸€æ­¥ä¾¿æ˜¯è·å– Class å¯¹è±¡ã€‚åœ¨ Java ä¸­å¸¸è§çš„æœ‰è¿™ä¹ˆä¸‰ç§ã€‚</p> <ol><li>ä½¿ç”¨é™æ€æ–¹æ³• Class.forName æ¥è·å–ã€‚</li> <li>è°ƒç”¨å¯¹è±¡çš„ getClass() æ–¹æ³•ã€‚</li> <li>ç›´æ¥ç”¨ç±»å +â€œ.classâ€è®¿é—®ã€‚å¯¹äºåŸºæœ¬ç±»å‹æ¥è¯´ï¼Œå®ƒä»¬çš„åŒ…è£…ç±»å‹ï¼ˆwrapper classesï¼‰æ‹¥æœ‰ä¸€ä¸ªåä¸ºâ€œTYPEâ€çš„ final é™æ€å­—æ®µï¼ŒæŒ‡å‘è¯¥åŸºæœ¬ç±»å‹å¯¹åº”çš„ Class å¯¹è±¡ã€‚</li></ol> <p>ä¾‹å¦‚ï¼ŒInteger.TYPE æŒ‡å‘ int.classã€‚å¯¹äºæ•°ç»„ç±»å‹æ¥è¯´ï¼Œå¯ä»¥ä½¿ç”¨ç±»å +â€œ[ ].classâ€æ¥è®¿é—®ï¼Œå¦‚ int[ ].classã€‚</p> <p>é™¤æ­¤ä¹‹å¤–ï¼ŒClass ç±»å’Œ java.lang.reflect åŒ…ä¸­è¿˜æä¾›äº†è®¸å¤šè¿”å› Class å¯¹è±¡çš„æ–¹æ³•ã€‚ä¾‹å¦‚ï¼Œå¯¹äºæ•°ç»„ç±»çš„ Class å¯¹è±¡ï¼Œè°ƒç”¨ Class.getComponentType() æ–¹æ³•å¯ä»¥è·å¾—æ•°ç»„å…ƒç´ çš„ç±»å‹ã€‚</p> <p>ä¸€æ—¦å¾—åˆ°äº† Class å¯¹è±¡ï¼Œæˆ‘ä»¬ä¾¿å¯ä»¥æ­£å¼åœ°ä½¿ç”¨åå°„åŠŸèƒ½äº†ã€‚ä¸‹é¢æˆ‘åˆ—ä¸¾äº†è¾ƒä¸ºå¸¸ç”¨çš„å‡ é¡¹ã€‚</p> <ol><li>ä½¿ç”¨ newInstance() æ¥ç”Ÿæˆä¸€ä¸ªè¯¥ç±»çš„å®ä¾‹ã€‚å®ƒè¦æ±‚è¯¥ç±»ä¸­æ‹¥æœ‰ä¸€ä¸ªæ— å‚æ•°çš„æ„é€ å™¨ã€‚</li> <li>ä½¿ç”¨ isInstance(Object) æ¥åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦è¯¥ç±»çš„å®ä¾‹ï¼Œè¯­æ³•ä¸Šç­‰åŒäº instanceof å…³é”®å­—ï¼ˆJIT ä¼˜åŒ–æ—¶ä¼šæœ‰å·®åˆ«ï¼Œæˆ‘ä¼šåœ¨æœ¬ä¸“æ çš„ç¬¬äºŒéƒ¨åˆ†è¯¦ç»†ä»‹ç»ï¼‰ã€‚</li> <li>ä½¿ç”¨ Array.newInstance(Class,int) æ¥æ„é€ è¯¥ç±»å‹çš„æ•°ç»„ã€‚</li> <li>ä½¿ç”¨ getFields()/getConstructors()/getMethods() æ¥è®¿é—®è¯¥ç±»çš„æˆå‘˜ã€‚é™¤äº†è¿™ä¸‰ä¸ªä¹‹å¤–ï¼ŒClass  ç±»è¿˜æä¾›äº†è®¸å¤šå…¶ä»–æ–¹æ³•ï¼Œè¯¦è§ <a href="https://docs.oracle.com/javase/tutorial/reflect/class/classMembers.html" target="_blank" rel="noopener noreferrer">4<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ–¹æ³•åä¸­å¸¦ Declared çš„ä¸ä¼šè¿”å›çˆ¶ç±»çš„æˆå‘˜ï¼Œä½†æ˜¯ä¼šè¿”å›ç§æœ‰æˆå‘˜ï¼›è€Œä¸å¸¦  Declared çš„åˆ™ç›¸åã€‚</li></ol> <p>å½“è·å¾—äº†ç±»æˆå‘˜ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥è¿›ä¸€æ­¥åšå¦‚ä¸‹æ“ä½œã€‚</p> <ul><li>ä½¿ç”¨ Constructor/Field/Method.setAccessible(true) æ¥ç»•å¼€ Java è¯­è¨€çš„è®¿é—®é™åˆ¶ã€‚</li> <li>ä½¿ç”¨ Constructor.newInstance(Object[]) æ¥ç”Ÿæˆè¯¥ç±»çš„å®ä¾‹ã€‚</li> <li>ä½¿ç”¨ Field.get/set(Object) æ¥è®¿é—®å­—æ®µçš„å€¼ã€‚</li> <li>ä½¿ç”¨ Method.invoke(Object, Object[]) æ¥è°ƒç”¨æ–¹æ³•ã€‚</li></ul> <p>æœ‰å…³åå°„ API çš„å…¶ä»–ç”¨æ³•ï¼Œå¯ä»¥å‚è€ƒ reflect åŒ…çš„ javadoc <a href="https://docs.oracle.com/javase/10/docs/api/java/lang/reflect/package-summary.html" target="_blank" rel="noopener noreferrer">5<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ï¼Œè¿™é‡Œå°±ä¸è¯¦ç»†å±•å¼€äº†ã€‚</p> <p>[1] :  https://docs.oracle.com/javase/tutorial/reflect/</p> <h2 id="ç²¾é€‰ç•™è¨€-46"><a href="#ç²¾é€‰ç•™è¨€-46" class="header-anchor">#</a> ç²¾é€‰ç•™è¨€(46)</h2> <ul><li></li></ul> <p>å¿—è¿œ</p> <p>2018-08-06</p> <p>24</p> <p>è€å¸ˆæ‚¨å¥½ï¼Œæä¸ªå»ºè®®ï¼Œæ‚¨è®²è¯¾è¿‡ç¨‹ä¸­ç»å¸¸æåˆ°ä¸€äº›æ¦‚å¿µåè¯ï¼Œæ‚¨è®²è¯¾æ€»æ˜¯é¢„è®¾äº†ä¸€ä¸ªå‰æï¼Œå°±æ˜¯å‡è®¾æˆ‘ä»¬å·²ç»çŸ¥é“é‚£ä¸ªæ¦‚å¿µï¼Œç„¶è€Œå¹¶ä¸æ¸…æ¥šã€‚æ¯”å¦‚æœ¬æ–‡ä¸­è¢«ä¸æ–­æåˆ°çš„å†…è”ï¼Œä»€ä¹ˆæ˜¯å†…è”å‘¢ï¼Ÿ</p> <p>ä½œè€…å›å¤: è°¢è°¢å»ºè®®ï¼æ–¹æ³•å†…è”æŒ‡çš„æ˜¯ç¼–è¯‘å™¨åœ¨ç¼–è¯‘ä¸€ä¸ªæ–¹æ³•æ—¶ï¼Œå°†æŸä¸ªæ–¹æ³•è°ƒç”¨çš„ç›®æ ‡æ–¹æ³•ä¹Ÿçº³å…¥ç¼–è¯‘èŒƒå›´å†…ï¼Œå¹¶ç”¨å…¶è¿”å›å€¼æ›¿ä»£åŸæ–¹æ³•è°ƒç”¨è¿™ä¹ˆä¸ªè¿‡ç¨‹ã€‚</p> <ul><li></li></ul> <p>xiaguangme</p> <p>2018-08-06</p> <p>20</p> <p>å¼€å‘äººå‘˜æ—¥å¸¸æ¥è§¦åˆ°çš„ Java é›†æˆå¼€å‘ç¯å¢ƒï¼ˆIDEï¼‰ä¾¿è¿ç”¨äº†è¿™ä¸€åŠŸèƒ½ï¼šæ¯å½“æˆ‘ä»¬æ•²å…¥ç‚¹å·æ—¶ï¼ŒIDE ä¾¿ä¼šæ ¹æ®ç‚¹å·å‰çš„å†…å®¹ï¼ŒåŠ¨æ€å±•ç¤ºå¯ä»¥è®¿é—®çš„å­—æ®µæˆ–è€…æ–¹æ³•ã€‚//è¿™ä¸ªåº”è¯¥æ˜¯ä¸å®Œå…¨æ­£ç¡®çš„ï¼Œå¤§éƒ¨åˆ†åº”è¯¥æ˜¯é è¯­æ³•æ ‘æ¥å®ç°çš„ã€‚</p> <p>ä½œè€…å›å¤: è°¢è°¢æŒ‡å‡ºï¼</p> <ul><li></li></ul> <p>godtrue</p> <p>2018-08-07</p> <p>10</p> <p>å°ç»“
1:åå°„æœºåˆ¶æ˜¯Javaè¯­è¨€çš„ä¸€ä¸ªéå¸¸é‡è¦çš„ç‰¹æ€§ï¼Œé€šè¿‡è¿™ä¸ªç‰¹æ€§ï¼Œæˆ‘ä»¬èƒ½å¤ŸåŠ¨æ€çš„ç›‘æ§ã€è°ƒç”¨ã€ä¿®æ”¹ç±»çš„è¡Œä¸ºï¼Œè®¸å¤šçš„æ¡†æ¶å®ç°å°±ç”¨åˆ°äº†Javaè¯­è¨€åå°„çš„æœºåˆ¶</p> <p>2:ä½¿ç”¨åå°„æŒºå¥½çš„ï¼Œä½†å®ƒä¹Ÿæ˜¯ä¸å®Œç¾çš„ï¼Œå¤æ‚çš„æ“ä½œå¾€å¾€æ›´è€—æ—¶é—´å’Œç²¾åŠ›ï¼Œä½¿ç”¨åå°„ä¹Ÿæ˜¯ä¸€æ ·ï¼Œæ€§èƒ½ä½ä¸‹æ˜¯å¥¹æ‰€è¢«äººè¯Ÿç—…çš„ä¸€ä¸ªåœ°æ–¹ï¼Œé‚£ä¸ºä»€ä¹ˆæ–¹æ³•çš„åå°„å¦‚æ­¤è€—è´¹æ€§èƒ½å‘ï¼Ÿå®ƒçš„æ€§èƒ½è€—åœ¨é‚£é‡Œå‘¢ï¼Ÿæ–¹æ³•çš„åå°„è°ƒç”¨ä¼šå¸¦æ¥ä¸å°‘æ€§èƒ½å¼€é”€ï¼ŒåŸå› ä¸»è¦æœ‰ä¸‰ä¸ªï¼šå˜é•¿å‚æ•°æ–¹æ³•å¯¼è‡´çš„ Object æ•°ç»„ï¼ŒåŸºæœ¬ç±»å‹çš„è‡ªåŠ¨è£…ç®±ã€æ‹†ç®±ï¼Œè¿˜æœ‰æœ€é‡è¦çš„æ–¹æ³•å†…è”ã€‚</p> <ul><li></li></ul> <p>ææ°</p> <p>2018-08-06</p> <p>9</p> <p>å½“æŸä¸ªåå°„è°ƒç”¨çš„è°ƒç”¨æ¬¡æ•°åœ¨ 15 ä¹‹ä¸‹æ—¶ï¼Œé‡‡ç”¨æœ¬åœ°å®ç°ï¼›å½“è¾¾åˆ° 15 æ—¶ï¼Œä¾¿å¼€å§‹åŠ¨æ€ç”Ÿæˆå­—èŠ‚ç ...
â€”â€”â€”å¯ä»¥è®¤ä¸ºç¬¬16æ¬¡åå°„è°ƒç”¨æ—¶çš„è€—æ—¶æ˜¯æœ€é•¿çš„å—ï¼Ÿ</p> <p>ä½œè€…å›å¤: åŠ¨æ€ç”Ÿæˆå‘ç”Ÿåœ¨ç¬¬15æ¬¡(ä»0å¼€å§‹æ•°çš„è¯)ï¼Œæ‰€ä»¥ç¬¬15æ¬¡æ¯”è¾ƒè€—æ—¶ã€‚</p> <ul><li></li></ul> <p>Kisho</p> <p>2018-08-06</p> <p>4</p> <p>éƒ‘è€å¸ˆï¼Œä½ å¥½,
â€œåŠ¨æ€å®ç°æ— éœ€ç»è¿‡Javaåˆ°C++å†åˆ°Javaçš„åˆ‡æ¢â€,è¿™å¥è¯æ²¡å¤ªæ˜ç™½ï¼Œèƒ½åœ¨è§£é‡Šä¸‹ä¹ˆï¼Ÿ</p> <p>ä½œè€…å›å¤: åœ¨v0ç‰ˆæœ¬ä¸­æˆ‘è´´äº†ä¸€æ®µstacktraceï¼Œä½ å¯ä»¥çœ‹åˆ°ä¸­é—´æœ‰ä¸ªnative methodï¼Œè¿™å°±æ˜¯C++ä»£ç ï¼Œä¹Ÿå°±æ˜¯å®ƒå…ˆè°ƒç”¨è‡³è¿™ä¸ªC++ä»£ç ï¼Œåœ¨C++ä»£ç é‡Œé¢å†è°ƒç”¨è‡³Javaä»£ç ã€‚</p> <ul><li></li></ul> <p>Stephen</p> <p>2018-11-03</p> <p>3</p> <p>è€å¸ˆï¼Œæœ‰ä¸‰ä¸ªçŸ¥è¯†ç‚¹ä¸å¤ªæ˜ç™½:å†…è”ã€é€ƒé€¸åˆ†æä»¥åŠinflationæœºåˆ¶</p> <ul><li></li></ul> <p>ext4</p> <p>2018-08-06</p> <p>3</p> <p>é›¨è¿ªæ‚¨å¥½ï¼Œæˆ‘æœ‰ä¸¤ä¸ªé—®é¢˜ï¼š</p> <p>ä¸€æ˜¯æˆ‘è‡ªå·±çš„æµ‹è¯•ç»“æœå’Œæ–‡ç« ä¸­æœ‰äº›å‡ºå…¥ã€‚åœ¨æˆ‘è‡ªå·±çš„mac+jdk10ç¯å¢ƒä¸­ï¼Œv3ç‰ˆæœ¬çš„ä»£ç å’Œv2ç‰ˆæœ¬æ€§èƒ½æ˜¯å·®ä¸å¤šçš„ï¼Œå¤šæ¬¡æµ‹è¯•çœ‹v3è¿˜ç•¥å¥½ä¸€äº›ã€‚ä»v2çš„GC logæ¥çœ‹forå¾ªç¯çš„æ¯ä¸€äº¿æ¬¡iterationä¸­é—´éƒ½ä¼šæœ‰GCå‘ç”Ÿï¼Œä¼¼ä¹è¯´æ˜è¿™é‡Œçš„escape analysiså¹¶æ²¡æœ‰åšåˆ°allocation on stackã€‚æ‚¨èƒ½æƒ³åˆ°è¿™æ˜¯ä»€ä¹ˆåŸå› ä¹ˆï¼Ÿå¦æœ‰ä¸ªå°å»ºè®®å°±æ˜¯æ–‡ç« ä¸­æåˆ°æµ‹è¯•ç»“æœæ—¶ï¼Œæ³¨æ˜ä¸€ä¸‹æ‚¨çš„ç¯å¢ƒã€‚</p> <p>å¦ä¸€ä¸ªé—®é¢˜æ˜¯åœ¨æ‚¨v5ç‰ˆæœ¬çš„ä»£ç ä¸­ï¼Œæ‚¨æ•…æ„ç”¨method1å’Œmethod2ä¸¤ä¸ªå¯¹è±¡éœ¸å äº†2ä¸ªProfileTypeçš„ä½å­ï¼Œå¯¼è‡´è¢«æµ‹çš„åå°„æ“ä½œæ€§èƒ½å¾ˆä½ã€‚è¿™æ˜¯å› ä¸ºæ­¤å¤„invokeæ–¹æ³•çš„inlineæ˜¯å‹æ ¹å„¿å°±æ²¡æœ‰åšå‘¢ï¼Ÿè¿˜æ˜¯å› ä¸ºinlineæ˜¯ä¾æ®target1æˆ–è€…target2æ¥åšçš„ï¼Œè€Œå®é™…è¿è¡Œæ—¶å‘ç°ç±»å‹ä¸ä¸€è‡´åˆè§¦å‘äº†deoptimizationå‘¢ï¼Ÿ</p> <p>æœ›è§£ç­”ï¼Œè°¢è°¢~</p> <p>ä½œè€…å›å¤: å¤šè°¢å»ºè®®ï¼Œæˆ‘ä¹Ÿæ˜¯mac+jdk10ã€‚æˆ‘è¿™è¾¹è£¸è·‘v2æ˜¯2.7x(å› ä¸ºæ¯æ¬¡è¦æ–°å»ºæ•´æ•°å¯¹è±¡æ‰€ä»¥æœ‰GC)ï¼ŒåŠ å¤§æ•´æ•°ç¼“å­˜åè·‘v2æ˜¯1.8x(æ— GC)ã€‚ä½ æ˜¯å¦å¿˜äº†åŠ å¤§æ•´æ•°ç¼“å­˜ï¼Ÿ</p> <p>ç¬¬äºŒä¸ªé—®é¢˜ï¼Œç ”ç©¶å¾—å¾ˆæ·±ï¼Method.invokeä¸€ç›´ä¼šè¢«å†…è”ï¼Œä½†æ˜¯å®ƒé‡Œé¢çš„MethodAccesor.invokeåˆ™ä¸ä¸€å®šã€‚</p> <p>å®é™…ä¸Šï¼Œåœ¨C2ç¼–è¯‘ä¹‹å‰å¾ªç¯ä»£ç å·²ç»è¿è¡Œè¿‡éå¸¸å¤šæ¬¡ï¼Œä¹Ÿå°±æ˜¯è¯´MethodAccesor.invokeå·²ç»çœ‹åˆ°å¤šæ¬¡è°ƒç”¨è‡³target()çš„åŠ¨æ€å®ç°ã€‚åœ¨profileé‡Œä¼šæ˜¾ç¤ºä¸ºæœ‰target1ï¼Œæœ‰target2ï¼Œä½†æ˜¯profileä¸å®Œæ•´ï¼Œå³è¿˜æœ‰ä¸€å¤§éƒ¨åˆ†çš„è°ƒç”¨è€…ç±»å‹æ²¡æœ‰è®°å½•ã€‚</p> <p>è¿™æ—¶å€™C2ä¼šé€‰æ‹©ä¸inlineè¿™ä¸ªMethodAccesor.invokeè°ƒç”¨ï¼Œç›´æ¥åšè™šè°ƒç”¨ã€‚</p> <ul><li></li></ul> <p>godtrue</p> <p>2018-08-06</p> <p>3</p> <p>è€å¸ˆè¯·æ•™ä¸ªé—®é¢˜ï¼Œå¦‚æœæ‰‹åŠ¨ä¿®æ”¹æŸä¸ªJavaå­—èŠ‚ç æ–‡ä»¶ï¼Œå¦‚æœJVMä¸é‡æ–°åŠ è½½æ­¤æ–‡ä»¶ï¼Œæœ‰ä»€ä¹ˆæ–¹å¼èƒ½è®©JVMè¯†åˆ«å¹¶æ‰§è¡Œä¿®æ”¹çš„å†…å®¹å‘¢ï¼Ÿ
å¦‚æœä¸€å®šéœ€è¦JVMåŠ è½½åæ‰èƒ½è¯†åˆ«å¹¶æ‰§è¡Œï¼Œæœ‰ä»€ä¹ˆå¥½çš„æ‰‹åŠ¨è§¦å‘çš„æ–¹æ³•å‘¢ï¼Ÿ</p> <p>ä½œè€…å›å¤: ä½ å¯ä»¥æœä¸€ä¸‹class redefinitionçš„ç›¸å…³èµ„æ–™ã€‚æˆ‘ä»¥å‰ç”¨cagentåšè¿‡ï¼ŒJavaagentåº”è¯¥ä¹Ÿå¯ä»¥ã€‚</p> <ul><li></li></ul> <p>life is ...</p> <p>2018-10-06</p> <p>2</p> <p>æ€»ç»“ä¸€ä¸‹
åå°„æœ‰ä¸¤ç§å®ç°æ–¹å¼ï¼š</p> <p>æœ¬åœ°æ–¹æ³•è°ƒç”¨ï¼ˆå°±æ˜¯å­—èŠ‚ç ä¸­å·²ç»å®šä¹‰å¥½çš„æ–¹æ³•ï¼‰</p> <p>åŠ¨æ€ç”Ÿæˆå­—èŠ‚ç </p> <p>ä¸¤è€…æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</p> <p>åŠ¨æ€ç”Ÿæˆå­—èŠ‚ç ï¼ˆä»¥ä¸‹ç®€ç§°åŠ¨æ€å®ç°ï¼‰ï¼Œç”Ÿæˆå­—èŠ‚ç çš„è¿‡ç¨‹å¾ˆæ…¢ï¼ˆç±»ä¼¼äºå‡†å¤‡å·¥ä½œï¼‰ï¼Œä½†æ˜¯æ‰§è¡Œæ•ˆç‡é«˜ã€‚</p> <p>æœ¬åœ°æ–¹æ³•è°ƒç”¨ï¼Œä¸ç”¨ç”Ÿæˆå­—èŠ‚ç ï¼Œç›´æ¥è°ƒç”¨æœ¬åœ°æ–¹æ³•ã€‚æ‰€ä»¥å‡†å¤‡å·¥ä½œå‡ ä¹æ²¡æœ‰ï¼Œå¾ˆå¿«ã€‚ä½†æ˜¯æ‰§è¡Œæ•ˆç‡å°±å·®å¾ˆå¤šã€‚</p> <p>JVMå¦‚ä½•åšå†³å®šé€‰æ‹©å“ªç§å®ç°æ–¹å¼ï¼Ÿ</p> <p>é€šè¿‡åå°„æ‰§è¡Œçš„æ¬¡æ•°æ¥å†³å®šï¼Œé»˜è®¤å€¼æ˜¯15ã€‚15æ¬¡ä¹‹å‰ç›´æ¥æœ¬åœ°è°ƒç”¨ï¼Œä¹‹ååŠ¨æ€å®ç°ã€‚</p> <p>JVMä¸ºå•¥åˆ†ä¸¤ç§å®ç°æ–¹å¼ï¼Ÿ</p> <p>æœ¬åœ°å®ç°çš„è°ƒç”¨æµç¨‹å¤æ‚ã€‚è€Œåœ¨æ‰§è¡Œå¤šæ¬¡çš„æƒ…å†µä¸‹ï¼Œå¤æ‚æ„å‘³ç€æ€§èƒ½æŸè€—ï¼Œæ‰€ä»¥æœ‰ä¸€ç§é€‚åˆå¤šæ¬¡æ‰§è¡Œçš„è§£å†³æ–¹æ¡ˆï¼Œå°±æ˜¯åŠ¨æ€ç”Ÿæˆå­—èŠ‚ç ã€‚</p> <ul><li></li></ul> <p>godtrue</p> <p>2018-08-06</p> <p>2</p> <p>JVMåŠ è½½äº†ä¸€ä¸ªJavaå­—èŠ‚ç æ–‡ä»¶ï¼Œåœ¨ä¸åœæ­¢JVMçš„æƒ…å†µä¸‹èƒ½å†æ¬¡çš„åŠ è½½åŒä¸€ä¸ªJavaå­—èŠ‚ç æ–‡ä»¶å—ï¼Ÿå¦‚æœèƒ½æ˜¯è¦†ç›–äº†åŸæ¥çš„é‚£ä¸ªJavaå­—èŠ‚ç æ–‡ä»¶è¿˜æ˜¯æ€ä¹ˆç€äº†å‘¢ï¼Ÿ
åœ¨IDEä¸­æ˜¯å¯ä»¥ç›´æ¥ä¿®æ”¹Javaæºä»£ç çš„ï¼Œç„¶åå¯ä»¥æ‰‹åŠ¨è§¦å‘Javaæºä»£ç çš„ç¼–è¯‘å’Œé‡æ–°åŠ è½½ï¼Œè¯·é—®è€å¸ˆçŸ¥é“IDEæ˜¯æ€ä¹ˆå®ç°çš„å—ï¼Ÿ</p> <ul><li></li></ul> <p>Yoph</p> <p>2018-11-13</p> <p>1</p> <p>MethodAccessorå®ä¾‹åˆ›å»ºåœ¨ReflectionFactoryä¸­ï¼Œå¦‚ä¸‹ä»£ç ï¼š
public class ReflectionFactory {<br>
private static boolean noInflation        = false;<br>
private static int     inflationThreshold = 15;</p> <div class="language- extra-class"><pre><code>public MethodAccessor newMethodAccessor(Method method) {  
  checkInitted();  
  if (noInflation) {  
    return new MethodAccessorGenerator().  
      generateMethod(method.getDeclaringClass(),  
              method.getName(),  
              method.getParameterTypes(),  
              method.getReturnType(),  
              method.getExceptionTypes(),  
              method.getModifiers());  
  } else {  
    NativeMethodAccessorImpl acc =  
      new NativeMethodAccessorImpl(method);  
    DelegatingMethodAccessorImpl res =  
      new DelegatingMethodAccessorImpl(acc);  
    acc.setParent(res);  
    return res;  
  }  
}  
</code></pre></div><p>}</p> <p>å®é™…çš„MethodAccessorå®ç°æœ‰ä¸¤ä¸ªç‰ˆæœ¬ï¼Œä¸€ä¸ªæ˜¯Javaå®ç°çš„ï¼Œå¦ä¸€ä¸ªæ˜¯native codeå®ç°çš„ã€‚</p> <ul><li></li></ul> <p>å°é³„é±¼</p> <p>2018-11-12</p> <p>1</p> <p>ä¸æ˜¯åŒä¸ªå¯¹è±¡ï¼Œä½†equalã€‚è€å¸ˆè¯´äº†ï¼Œè¿”å›çš„æ˜¯ç›®æ ‡æ–¹æ³•çš„ä¸€ä»½æ‹·è´</p> <ul><li></li></ul> <p>Stephen</p> <p>2018-11-03</p> <p>1</p> <p>è€å¸ˆï¼Œæœ‰ä¸‰ä¸ªçŸ¥è¯†ç‚¹ä¸å¤ªæ˜ç™½ï¼Œåˆ†åˆ«æ˜¯:å†…è”ã€é€ƒé€¸åˆ†æä»¥åŠinflationæœºåˆ¶</p> <p>ä½œè€…å›å¤: å†…è”å’Œé€ƒé€¸åˆ†æåé¢æœ‰ä¸¤ç¯‡ä¼šä¸“é—¨ä»‹ç»ï¼Œåå°„çš„inflationæœºåˆ¶æ˜¯å½“åå°„è¢«é¢‘ç¹è°ƒç”¨æ—¶ï¼ŒåŠ¨æ€ç”Ÿæˆä¸€ä¸ªç±»æ¥åšç›´æ¥è°ƒç”¨çš„æœºåˆ¶ï¼Œå¯ä»¥åŠ é€Ÿåå°„è°ƒç”¨</p> <ul><li></li></ul> <p>vick</p> <p>2018-09-08</p> <p>1</p> <p>è¯·æ•™ä¸€ä¸ªé—®é¢˜ï¼Œæœ¬åœ°å®ç°å¯ä»¥ç”¨javaæ¥æ›¿ä»£c++çš„å®ç°æ–¹å¼å—ï¼Ÿè¿™æ ·å°±å¯ä»¥é¿è¿‡C++çš„é¢å¤–å¼€é”€ï¼Ÿ</p> <p>ä½œè€…å›å¤: ä¹‹æ‰€ä»¥å«æœ¬åœ°å®ç°ï¼Œå°±æ˜¯å› ä¸ºå®ƒç”¨çš„C++ä»£ç ã€‚å¦‚æœç”¨Javaæ¥å®ç°ï¼Œå°±ä¸ä¼šè¿™ä¹ˆå«å•¦ ğŸ˜ƒ</p> <p>JVMæœ‰ç”¨Javaæ¥æ›¿ä»£çš„å®ç°æ–¹å¼ï¼Œä¹Ÿå°±æ˜¯æ–‡ä¸­ä»‹ç»çš„åŠ¨æ€å®ç°ã€‚å®ƒæ˜¯æ ¹æ®åå°„è°ƒç”¨çš„ç›®æ ‡æ–¹æ³•æ¥åŠ¨æ€ç”Ÿæˆå­—èŠ‚ç çš„ã€‚</p> <ul><li></li></ul> <p>once</p> <p>2018-09-07</p> <p>1</p> <p>è¯·é—®è€å¸ˆ æ˜¯ä¸æ˜¯æœ¬åœ°æ–¹æ³•çš„æ€§èƒ½ä¸€èˆ¬éƒ½ä¸æ˜¯å¾ˆå¥½å‘¢</p> <p>ä½œè€…å›å¤: éœ€è¦ç»è¿‡JNIï¼Œæ‰€ä»¥æ€§èƒ½å¾ˆä¸å¥½ã€‚</p> <p>ä¸è¿‡å³æ—¶ç¼–è¯‘å™¨å¯èƒ½ä¼šå°†æŸäº›æŒ‡å®šçš„æœ¬åœ°æ–¹æ³•è°ƒç”¨ç»™æ›¿æ¢æ‰ã€‚è¿™äº›ç‰¹å®šçš„æœ¬åœ°æ–¹æ³•å«intrinsicsï¼Œä¸‹å‘¨ä¸€ä¼šè®²ã€‚</p> <ul><li></li></ul> <p>æ²‰æ·€çš„æ¢¦æƒ³</p> <p>2018-08-18</p> <p>1</p> <p>åœ¨v5ç‰ˆæœ¬ä¸­ï¼Œä¸ºä»€ä¹ˆæˆ‘è®¾ç½®TypeProfileWidthä¸º3ï¼Œé€Ÿåº¦å¹¶æ²¡æœ‰å˜å¿«å‘¢ï¼Ÿ</p> <p>ä½œè€…å›å¤: å¯ä»¥å†å¢å¤§åˆ°8è¯•è¯•ã€‚</p> <ul><li></li></ul> <p>å°æ˜</p> <p>2018-08-17</p> <p>1</p> <p>å¯ä»¥çœ‹çœ‹è¿™ç¯‡åšå®¢ æœ‰è¯¦ç»†çš„ç”ŸæˆåŠ¨æ€è°ƒç”¨çš„è§£é‡Š<br>
http://rednaxelafx.iteye.com/blog/548536</p> <ul><li></li></ul> <p>å¿—è¿œ</p> <p>2018-08-06</p> <p>1</p> <p>æ–‡ç« ä¸­â€œä¸€äº¿æ¬¡ç›´æ¥è°ƒç”¨è€—è´¹çš„æ—¶é—´å¤§çº¦åœ¨ 120msã€‚è¿™å’Œä¸è°ƒç”¨çš„æ—¶é—´æ˜¯ä¸€è‡´çš„ã€‚â€è¿™å¥è¯æ˜¯ä¸æ˜¯ç—…å¥å•Šï¼Ÿä¸è°ƒç”¨æŒ‡çš„æ˜¯ä»€ä¹ˆï¼ŸæŒ‡çš„æ˜¯ç›´æ¥è°ƒç”¨å—ï¼Ÿ</p> <p>ä½œè€…å›å¤: å¤šè°¢æŒ‡å‡ºï¼ä¸è°ƒç”¨å°±æ˜¯å­—é¢æ„æ€ï¼Œä¸åšä»»ä½•è°ƒç”¨ï¼Œä¹Ÿå°±æ˜¯é™¤äº†æ¯ä¸€äº¿æ¬¡è°ƒç”¨çš„æ‰“å°è¯­å¥ä¹‹å¤–ï¼Œå¾ªç¯å°±ä¸åŒ…å«å…¶å®ƒä¸œè¥¿äº†ã€‚</p> <ul><li></li></ul> <p>Ennis LM</p> <p>2018-08-06</p> <p>1</p> <p>æœ€åçš„é—®é¢˜ï¼Œ==æ˜¯falseï¼Œequalsæ˜¯trueï¼Œå¯¹æ€§èƒ½çš„å½±å“æˆ‘ä¸çŸ¥é“æ€ä¹ˆçœ‹ã€‚ã€‚ã€‚</p> <ul><li></li></ul> <p>è¥¿å…¹å…¹</p> <p>2019-04-19</p> <p>&quot;æ— æ³•åŒæ—¶è®°å½•è¿™ä¹ˆå¤šä¸ªç±»&quot;ï¼Œè€å¸ˆå¥½ï¼Œ
è¿™ä¸ªé—®é¢˜æˆ‘çœ‹äº†ç¬¬5ã€7è¯¾ï¼Œè¿˜æ˜¯ä¸å¤§ç†è§£è¿™ä¸ªprofileæ˜¯ä»€ä¹ˆæ„æ€ï¼›
æ˜¯è™šæ‹Ÿæœºé‡Œæ¯ä¸€ä¸ªç±»/æ¥å£éƒ½é»˜è®¤æœ‰2ä¸ªprofileè®°ä½ï¼Ÿ<br>
è¿˜æ˜¯è™šæ‹Ÿæœºå…¨å±€åªè®°å½•ä»»æ„ä¸€ä¸ªç±»/æ¥å£ï¼Œæ€»å…±æ‰2ä¸ªprofileï¼Ÿ</p> <p>å‡è®¾æ˜¯æ˜¯è™šæ‹Ÿæœºé‡Œæ¯ä¸€ä¸ªç±»/æ¥å£éƒ½é»˜è®¤æœ‰2ä¸ªprofileè®°ä½ï¼Œ
å¦‚æœä¸€ä¸ªç±»åªæœ‰1ä¸ªå®ç°ç±»ï¼Œè¿™ä¸ªå®ç°ç±»æœ‰4ä¸ªè™šæ–¹æ³•ï¼Œé‚£è™šæ‹Ÿæœºå¦‚ä½•å†³å®šåªå†…è”ç¼“å­˜å“ª2ä¸ªæ–¹æ³•ï¼Ÿå…ˆè°ƒç”¨å…ˆç¼“å­˜ï¼Ÿè¿˜æ˜¯æœ€åè°ƒç”¨çš„ç¼“å­˜ï¼Ÿ</p></div></div>  <div class="page-edit"><!----> <!----> <div class="last-updated"><span class="prefix">ä¸Šæ¬¡æ›´æ–°:</span> <span class="time">12/1/2022, 11:16:55 PM</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/fe4d39/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">JVMæ˜¯å¦‚ä½•å¤„ç†å¼‚å¸¸çš„ï¼Ÿ</div></a> <a href="/pages/3119a5/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">JVMæ˜¯æ€ä¹ˆå®ç°invokedynamicçš„ï¼Ÿï¼ˆä¸Šï¼‰</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        â†
        <a href="/pages/fe4d39/" class="prev">JVMæ˜¯å¦‚ä½•å¤„ç†å¼‚å¸¸çš„ï¼Ÿ</a></span> <span class="next"><a href="/pages/3119a5/">JVMæ˜¯æ€ä¹ˆå®ç°invokedynamicçš„ï¼Ÿï¼ˆä¸Šï¼‰</a>â†’
      </span></p></div></div></div> <!----></main></div> <div class="footer"><div class="icons"><a href="https://github.com/ily55421" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="mailto:ily55421@163.com" title="å‘é‚®ä»¶" target="_blank" class="iconfont icon-youjian"></a><a href="https://gitee.com/ily55421" title="Gitee" target="_blank" class="iconfont icon-gitee"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="æœ¬ç«™ä¸»é¢˜">Vdoing</a> 
    | Copyright Â© 2022-2022
    <span>ily55421 </span></div> <div class="buttons"><div title="è¿”å›é¡¶éƒ¨" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="å»è¯„è®º" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="ä¸»é¢˜æ¨¡å¼" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          è·Ÿéšç³»ç»Ÿ
        </li><li class="iconfont icon-rijianmoshi">
          æµ…è‰²æ¨¡å¼
        </li><li class="iconfont icon-yejianmoshi">
          æ·±è‰²æ¨¡å¼
        </li><li class="iconfont icon-yuedu">
          é˜…è¯»æ¨¡å¼
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.861bda8d.js" defer></script><script src="/assets/js/5.5ca26c73.js" defer></script><script src="/assets/js/39.293f29e0.js" defer></script>
  </body>
</html>
