(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{642:function(s,n,a){"use strict";a.r(n);var t=a(0),e=Object(t.a)({},(function(){var s=this,n=s._self._c;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"_21-æ–¹æ³•å†…è”-ä¸‹"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_21-æ–¹æ³•å†…è”-ä¸‹"}},[s._v("#")]),s._v(" 21 | æ–¹æ³•å†…è”ï¼ˆä¸‹ï¼‰")]),s._v(" "),n("p",[s._v("åœ¨ä¸Šä¸€ç¯‡ä¸­ï¼Œæˆ‘ä¸¾çš„ä¾‹å­éƒ½æ˜¯é™æ€æ–¹æ³•è°ƒç”¨ï¼Œå³æ—¶ç¼–è¯‘å™¨å¯ä»¥è½»æ˜“åœ°ç¡®å®šå”¯ä¸€çš„ç›®æ ‡æ–¹æ³•ã€‚")]),s._v(" "),n("p",[s._v("ç„¶è€Œï¼Œå¯¹äºéœ€è¦åŠ¨æ€ç»‘å®šçš„è™šæ–¹æ³•è°ƒç”¨æ¥è¯´ï¼Œå³æ—¶ç¼–è¯‘å™¨åˆ™éœ€è¦å…ˆå¯¹è™šæ–¹æ³•è°ƒç”¨è¿›è¡Œå»è™šåŒ–ï¼ˆdevirtualizeï¼‰ï¼Œå³è½¬æ¢ä¸ºä¸€ä¸ªæˆ–å¤šä¸ªç›´æ¥è°ƒç”¨ï¼Œç„¶åæ‰èƒ½è¿›è¡Œæ–¹æ³•å†…è”ã€‚")]),s._v(" "),n("p",[n("strong",[s._v("å³æ—¶ç¼–è¯‘å™¨çš„å»è™šåŒ–æ–¹å¼å¯åˆ†ä¸ºå®Œå…¨å»è™šåŒ–ä»¥åŠæ¡ä»¶å»è™šåŒ–ï¼ˆguarded devirtualizationï¼‰ã€‚")])]),s._v(" "),n("p",[n("strong",[s._v("å®Œå…¨å»è™šåŒ–")]),s._v("æ˜¯é€šè¿‡ç±»å‹æ¨å¯¼æˆ–è€…ç±»å±‚æ¬¡åˆ†æï¼ˆclass hierarchy analysisï¼‰ï¼Œè¯†åˆ«è™šæ–¹æ³•è°ƒç”¨çš„å”¯ä¸€ç›®æ ‡æ–¹æ³•ï¼Œä»è€Œå°†å…¶è½¬æ¢ä¸ºç›´æ¥è°ƒç”¨çš„ä¸€ç§ä¼˜åŒ–æ‰‹æ®µã€‚å®ƒçš„å…³é”®åœ¨äºè¯æ˜è™šæ–¹æ³•è°ƒç”¨çš„ç›®æ ‡æ–¹æ³•æ˜¯å”¯ä¸€çš„ã€‚")]),s._v(" "),n("p",[n("strong",[s._v("æ¡ä»¶å»è™šåŒ–")]),s._v("åˆ™æ˜¯å°†è™šæ–¹æ³•è°ƒç”¨è½¬æ¢ä¸ºè‹¥å¹²ä¸ªç±»å‹æµ‹è¯•ä»¥åŠç›´æ¥è°ƒç”¨çš„ä¸€ç§ä¼˜åŒ–æ‰‹æ®µã€‚å®ƒçš„å…³é”®åœ¨äºæ‰¾å‡ºéœ€è¦è¿›è¡Œæ¯”è¾ƒçš„ç±»å‹ã€‚")]),s._v(" "),n("p",[s._v("åœ¨ä»‹ç»å…·ä½“çš„å»è™šåŒ–æ–¹å¼ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹ä¸€æ®µä»£ç ã€‚è¿™é‡Œæˆ‘å®šä¹‰äº†ä¸€ä¸ªæŠ½è±¡ç±» BinaryOpï¼Œå…¶ä¸­åŒ…å«ä¸€ä¸ªæŠ½è±¡æ–¹æ³• applyã€‚BinaryOp ç±»æœ‰ä¸¤ä¸ªå­ç±» Add å’Œ Subï¼Œå‡å®ç°äº† apply æ–¹æ³•ã€‚")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("\nabstract class BinaryOp {\n\n  public abstract int apply(int a, int b);\n\n}\n\n \n\nclass Add extends BinaryOp {\n\n  public int apply(int a, int b) {\n\n    return a + b;\n\n  }\n\n}\n\n \n\nclass Sub extends BinaryOp {\n\n  public int apply(int a, int b) {\n\n    return a - b;\n\n  }\n\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br")]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br")])]),n("p",[s._v("ä¸‹é¢æˆ‘ä¾¿ç”¨è¿™ä¸ªä¾‹å­æ¥é€ä¸€è®²è§£è¿™å‡ ç§å»è™šåŒ–æ–¹å¼ã€‚")]),s._v(" "),n("h2",{attrs:{id:"åŸºäºç±»å‹æ¨å¯¼çš„å®Œå…¨å»è™šåŒ–"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#åŸºäºç±»å‹æ¨å¯¼çš„å®Œå…¨å»è™šåŒ–"}},[s._v("#")]),s._v(" åŸºäºç±»å‹æ¨å¯¼çš„å®Œå…¨å»è™šåŒ–")]),s._v(" "),n("p",[s._v("åŸºäºç±»å‹æ¨å¯¼çš„å®Œå…¨å»è™šåŒ–å°†é€šè¿‡æ•°æ®æµåˆ†ææ¨å¯¼å‡ºè°ƒç”¨è€…çš„åŠ¨æ€ç±»å‹ï¼Œä»è€Œç¡®å®šå…·ä½“çš„ç›®æ ‡æ–¹æ³•ã€‚")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("\npublic static int foo() {\n\n  BinaryOp op = new Add();\n\n  return op.apply(2, 1);\n\n}\n\n \n\npublic static int bar(BinaryOp op) {\n\n  op = (Add) op;\n\n  return op.apply(2, 1);\n\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br")]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br")])]),n("p",[s._v("ä¸¾ä¸ªä¾‹å­ï¼Œä¸Šé¢è¿™æ®µä»£ç ä¸­çš„ foo æ–¹æ³•å’Œ bar æ–¹æ³•å‡ä¼šè°ƒç”¨ apply æ–¹æ³•ï¼Œä¸”è°ƒç”¨è€…çš„å£°æ˜ç±»å‹çš†ä¸º BinaryOpã€‚è¿™æ„å‘³ç€ Java ç¼–è¯‘å™¨ä¼šå°†å…¶ç¼–è¯‘ä¸º invokevirtual æŒ‡ä»¤ï¼Œè°ƒç”¨ BinaryOp.apply æ–¹æ³•ã€‚")]),s._v(" "),n("p",[s._v("å‰ä¸¤ç¯‡ä¸­æˆ‘æ›¾æåˆ°è¿‡ï¼Œåœ¨ Sea-of-Nodes çš„ IR ç³»ç»Ÿä¸­ï¼Œå˜é‡ä¸å¤å­˜åœ¨ï¼Œå–è€Œä»£ä¹‹çš„æ˜¯å…·ä½“å€¼ã€‚è¿™äº›å…·ä½“å€¼çš„ç±»å‹å¾€å¾€è¦æ¯”å˜é‡çš„å£°æ˜ç±»å‹ç²¾ç¡®ã€‚")]),s._v(" "),n("p",[n("img",{attrs:{src:"https://linkeq.oss-cn-chengdu.aliyuncs.com/img/2022/05/31/image-20220531144649799-dcdecb.png",alt:"image-20220531144649799"}})]),s._v(" "),n("p",[n("strong",[s._v("foo æ–¹æ³•çš„ IR å›¾ï¼ˆæ–¹æ³•å†…è”å‰ï¼‰")])]),s._v(" "),n("p",[n("img",{attrs:{src:"https://linkeq.oss-cn-chengdu.aliyuncs.com/img/2022/05/31/image-20220531144659559-5b4ac7.png",alt:"image-20220531144659559"}})]),s._v(" "),n("h3",{attrs:{id:"bar-æ–¹æ³•çš„-ir-å›¾-æ–¹æ³•å†…è”å‰"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#bar-æ–¹æ³•çš„-ir-å›¾-æ–¹æ³•å†…è”å‰"}},[s._v("#")]),s._v(" bar æ–¹æ³•çš„ IR å›¾ï¼ˆæ–¹æ³•å†…è”å‰ï¼‰")]),s._v(" "),n("p",[s._v("åœ¨ä¸Šé¢ä¸¤å¼  IR å›¾ä¸­ï¼Œæ–¹æ³•è°ƒç”¨çš„è°ƒç”¨è€…ï¼ˆå³ 8 å· CallTarget èŠ‚ç‚¹çš„ç¬¬ä¸€ä¸ªä¾èµ–å€¼ï¼‰åˆ†åˆ«ä¸º 2 å· New èŠ‚ç‚¹ï¼Œä»¥åŠ 5 å· Pi èŠ‚ç‚¹ã€‚åè€…å¯ä»¥ç®€å•çœ‹æˆå¼ºåˆ¶è½¬æ¢åçš„ç²¾ç¡®ç±»å‹ã€‚ç”±äºè¿™ä¸¤ä¸ªèŠ‚ç‚¹çš„ç±»å‹å‡è¢«ç²¾ç¡®ä¸º Add ç±»ï¼Œå› æ­¤ï¼ŒåŸ invokevirtual æŒ‡ä»¤å¯¹åº”çš„ 9 å· invoke èŠ‚ç‚¹éƒ½è¢«è¯†åˆ«å¯¹ Add.apply æ–¹æ³•çš„è°ƒç”¨ã€‚")]),s._v(" "),n("p",[s._v("ç»è¿‡å¯¹è¯¥å…·ä½“æ–¹æ³•çš„å†…è”ä¹‹åï¼Œå¯¹åº”çš„ IR å›¾å¦‚ä¸‹æ‰€ç¤ºï¼š")]),s._v(" "),n("p",[n("img",{attrs:{src:"https://linkeq.oss-cn-chengdu.aliyuncs.com/img/2022/05/31/image-20220531144708370-71c050.png",alt:"image-20220531144708370"}})]),s._v(" "),n("h3",{attrs:{id:"foo-æ–¹æ³•çš„-ir-å›¾-æ–¹æ³•å†…è”åŠé€ƒé€¸åˆ†æå"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#foo-æ–¹æ³•çš„-ir-å›¾-æ–¹æ³•å†…è”åŠé€ƒé€¸åˆ†æå"}},[s._v("#")]),s._v(" foo æ–¹æ³•çš„ IR å›¾ï¼ˆæ–¹æ³•å†…è”åŠé€ƒé€¸åˆ†æåï¼‰")]),s._v(" "),n("p",[n("img",{attrs:{src:"https://linkeq.oss-cn-chengdu.aliyuncs.com/img/2022/05/31/image-20220531144716967-74daac.png",alt:"image-20220531144716967"}})]),s._v(" "),n("h3",{attrs:{id:"bar-æ–¹æ³•çš„-ir-å›¾-æ–¹æ³•å†…è”å"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#bar-æ–¹æ³•çš„-ir-å›¾-æ–¹æ³•å†…è”å"}},[s._v("#")]),s._v(" bar æ–¹æ³•çš„ IR å›¾ï¼ˆæ–¹æ³•å†…è”åï¼‰")]),s._v(" "),n("p",[s._v("å¯ä»¥çœ‹åˆ°ï¼Œé€šè¿‡å°†å­—èŠ‚ç è½¬æ¢ä¸º Sea-of-Nodes IR ä¹‹åï¼Œå³æ—¶ç¼–è¯‘å™¨ä¾¿å¯ä»¥ç›´æ¥å»è™šåŒ–ï¼Œå¹¶å°†å”¯ä¸€çš„ç›®æ ‡æ–¹æ³•è¿›ä¸€æ­¥å†…è”è¿›æ¥ã€‚")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("\npublic static int notInlined(BinaryOp op) {\n\n  if (op instanceof Add) {\n\n    return op.apply(2, 1);\n\n  }\n\n  return 0;\n\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br")]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br")])]),n("p",[s._v("ä¸è¿‡ï¼Œå¯¹äºä¸Šé¢è¿™æ®µä»£ç ä¸­çš„ notInlined æ–¹æ³•ï¼Œå°½ç®¡ç†è®ºä¸Šå³æ—¶ç¼–è¯‘å™¨èƒ½å¤Ÿæ¨å¯¼å‡ºè°ƒç”¨è€…çš„åŠ¨æ€ç±»å‹ä¸º Addï¼Œä½†æ˜¯ C2 å’Œ Graal éƒ½æ²¡æœ‰è¿™ä¹ˆåšã€‚")]),s._v(" "),n("p",[s._v("å…¶åŸå› åœ¨äºç±»å‹æ¨å¯¼å±äºå…¨å±€ä¼˜åŒ–ï¼Œæœ¬èº«æ¯”è¾ƒæµªè´¹æ—¶é—´ï¼›å¦ä¸€æ–¹é¢ï¼Œå°±ç®—ä¸è¿›è¡ŒåŸºäºç±»å‹æ¨å¯¼çš„å®Œå…¨å»è™šåŒ–ï¼Œä¹Ÿæœ‰æ¥ä¸‹æ¥çš„åŸºäºç±»å±‚æ¬¡åˆ†æçš„å»è™šåŒ–ï¼Œä»¥åŠæ¡ä»¶å»è™šåŒ–å…œåº•ï¼Œè¦†ç›–å¤§éƒ¨åˆ†çš„ä»£ç æƒ…å†µã€‚")]),s._v(" "),n("p",[n("img",{attrs:{src:"https://linkeq.oss-cn-chengdu.aliyuncs.com/img/2022/05/31/image-20220531144725605-ce63c0.png",alt:"image-20220531144725605"}})]),s._v(" "),n("h3",{attrs:{id:"notinlined-æ–¹æ³•çš„-ir-å›¾-æ–¹æ³•å†…è”å¤±è´¥å"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#notinlined-æ–¹æ³•çš„-ir-å›¾-æ–¹æ³•å†…è”å¤±è´¥å"}},[s._v("#")]),s._v(" notInlined æ–¹æ³•çš„ IR å›¾ï¼ˆæ–¹æ³•å†…è”å¤±è´¥åï¼‰")]),s._v(" "),n("p",[s._v("å› æ­¤ï¼ŒC2 å’Œ Graal å†³å®šï¼Œå¦‚æœç”Ÿæˆ Sea-of-Nodes IR åï¼Œè°ƒç”¨è€…çš„åŠ¨æ€ç±»å‹å·²èƒ½å¤Ÿç›´æ¥ç¡®å®šï¼Œé‚£ä¹ˆå°±è¿›è¡Œè¿™é¡¹å»è™šåŒ–ã€‚å¦‚æœéœ€è¦é¢å¤–çš„æ•°æ®æµåˆ†ææ–¹èƒ½ç¡®å®šï¼Œé‚£ä¹ˆå¹²è„†ä¸åšï¼Œä»¥èŠ‚çœç¼–è¯‘æ—¶é—´ï¼Œå¹¶ä¾èµ–æ¥ä¸‹æ¥çš„å»è™šåŒ–æ‰‹æ®µè¿›è¡Œä¼˜åŒ–ã€‚")]),s._v(" "),n("h2",{attrs:{id:"åŸºäºç±»å±‚æ¬¡åˆ†æçš„å®Œå…¨å»è™šåŒ–"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#åŸºäºç±»å±‚æ¬¡åˆ†æçš„å®Œå…¨å»è™šåŒ–"}},[s._v("#")]),s._v(" åŸºäºç±»å±‚æ¬¡åˆ†æçš„å®Œå…¨å»è™šåŒ–")]),s._v(" "),n("p",[s._v("åŸºäºç±»å±‚æ¬¡åˆ†æçš„å®Œå…¨å»è™šåŒ–é€šè¿‡åˆ†æ Java è™šæ‹Ÿæœºä¸­æ‰€æœ‰å·²è¢«åŠ è½½çš„ç±»ï¼Œåˆ¤æ–­æŸä¸ªæŠ½è±¡æ–¹æ³•æˆ–è€…æ¥å£æ–¹æ³•æ˜¯å¦ä»…æœ‰ä¸€ä¸ªå®ç°ã€‚å¦‚æœæ˜¯ï¼Œé‚£ä¹ˆå¯¹è¿™äº›æ–¹æ³•çš„è°ƒç”¨å°†åªèƒ½è°ƒç”¨è‡³è¯¥å…·ä½“å®ç°ä¸­ã€‚")]),s._v(" "),n("p",[s._v("åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œå‡è®¾åœ¨ç¼–è¯‘ fooã€bar æˆ– notInlined æ–¹æ³•æ—¶ï¼ŒJava è™šæ‹Ÿæœºä»…åŠ è½½äº†  Addã€‚é‚£ä¹ˆï¼ŒBinaryOp.apply æ–¹æ³•åªæœ‰ Add.apply è¿™ä¹ˆä¸€ä¸ªå…·ä½“å®ç°ã€‚å› æ­¤ï¼Œå½“å³æ—¶ç¼–è¯‘å™¨ç¢°åˆ°å¯¹  BinaryOp.apply çš„è°ƒç”¨æ—¶ï¼Œä¾¿å¯ç›´æ¥å†…è” Add.apply çš„å†…å®¹ã€‚")]),s._v(" "),n("p",[s._v("é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œå³æ—¶ç¼–è¯‘å™¨å¦‚ä½•ä¿è¯åœ¨ä»Šåçš„æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼ŒBinaryOp.apply æ–¹æ³•è¿˜æ˜¯åªæœ‰ Add.apply è¿™ä¹ˆä¸€ä¸ªå…·ä½“å®ç°å‘¢ï¼Ÿ")]),s._v(" "),n("p",[s._v("äº‹å®ä¸Šï¼Œå®ƒæ— æ³•ä¿è¯ã€‚å› ä¸º Java è™šæ‹Ÿæœºæœ‰å¯èƒ½åœ¨ä¸Šè¿°ç¼–è¯‘å®Œæˆä¹‹ååŠ è½½ Sub ç±»ï¼Œä»è€Œå¼•å…¥å¦ä¸€ä¸ª BinaryOp.apply æ–¹æ³•çš„å…·ä½“å®ç° Sub.applyã€‚")]),s._v(" "),n("p",[s._v("Java è™šæ‹Ÿæœºçš„åšæ³•æ˜¯ä¸ºå½“å‰ç¼–è¯‘ç»“æœæ³¨å†Œè‹¥å¹²ä¸ªå‡è®¾ï¼ˆassumptionï¼‰ï¼Œå‡å®šæŸæŠ½è±¡ç±»åªæœ‰ä¸€ä¸ªå­ç±»ï¼Œæˆ–è€…æŸæŠ½è±¡æ–¹æ³•åªæœ‰ä¸€ä¸ªå…·ä½“å®ç°ï¼Œåˆæˆ–è€…æŸç±»æ²¡æœ‰å­ç±»ç­‰ã€‚")]),s._v(" "),n("p",[s._v("ä¹‹åï¼Œæ¯å½“æ–°çš„ç±»è¢«åŠ è½½ï¼ŒJava è™šæ‹Ÿæœºä¾¿ä¼šé‡æ–°éªŒè¯è¿™äº›å‡è®¾ã€‚å¦‚æœæŸä¸ªå‡è®¾ä¸å†æˆç«‹ï¼Œé‚£ä¹ˆ Java è™šæ‹Ÿæœºä¾¿ä¼šå¯¹å…¶æ‰€å±çš„ç¼–è¯‘ç»“æœè¿›è¡Œå»ä¼˜åŒ–ã€‚")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("\n  public static int test(BinaryOp op) {\n\n    return op.apply(2, 1);\n\n  }\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("p",[s._v("ä»¥ä¸Šé¢è¿™æ®µä»£ç ä¸­çš„ test æ–¹æ³•ä¸ºä¾‹ã€‚å‡è®¾å³æ—¶ç¼–è¯‘çš„æ—¶å€™ï¼Œå¦‚æœç±»å±‚æ¬¡åˆ†æå¾—å‡º BinaryOp ç±»åªæœ‰ Add ä¸€ä¸ªå­ç±»çš„ç»“è®ºï¼Œé‚£ä¹ˆå³æ—¶ç¼–è¯‘å™¨å¯ä»¥æ³¨å†Œä¸€ä¸ªå‡è®¾ï¼Œå‡å®šæŠ½è±¡æ–¹æ³• BinaryOp.apply æœ‰ä¸”ä»…æœ‰ Add.apply è¿™ä¸ªå…·ä½“å®ç°ã€‚")]),s._v(" "),n("p",[s._v("åŸºäºè¿™ä¸ªå‡è®¾ï¼ŒåŸè™šæ–¹æ³•è°ƒç”¨ä¾¿å¯ç›´æ¥è¢«å»è™šåŒ–ä¸ºå¯¹ Add.apply æ–¹æ³•çš„è°ƒç”¨ã€‚å¦‚æœåœ¨ä¹‹åçš„è¿è¡Œè¿‡ç¨‹ä¸­ï¼ŒJava è™šæ‹ŸæœºåˆåŠ è½½äº† Sub ç±»ï¼Œé‚£ä¹ˆè¯¥å‡è®¾å¤±æ•ˆï¼ŒJava è™šæ‹Ÿæœºéœ€è¦è§¦å‘ test æ–¹æ³•ç¼–è¯‘ç»“æœçš„å»ä¼˜åŒ–ã€‚")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("\n  public static int test(Add op) {\n\n    return op.apply(2, 1); // ä»éœ€æ·»åŠ å‡è®¾\n\n  }\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("p",[s._v("äº‹å®ä¸Šï¼Œå³ä¾¿è°ƒç”¨è€…çš„å£°æ˜ç±»å‹ä¸º Addï¼Œå³æ—¶ç¼–è¯‘å™¨ä»éœ€ä¸ºä¹‹æ·»åŠ å‡è®¾ã€‚è¿™æ˜¯å› ä¸º Java è™šæ‹Ÿæœºä¸èƒ½ä¿è¯æ²¡æœ‰é‡å†™äº† apply æ–¹æ³•çš„ Add ç±»çš„å­ç±»ã€‚")]),s._v(" "),n("p",[s._v("ä¸ºäº†ä¿è¯è¿™é‡Œ apply æ–¹æ³•çš„è¯­ä¹‰ï¼Œå³æ—¶ç¼–è¯‘å™¨éœ€è¦å‡è®¾ Add ç±»æ²¡æœ‰å­ç±»ã€‚å½“ç„¶ï¼Œé€šè¿‡å°† Add ç±»æ ‡æ³¨ä¸º finalï¼Œå¯ä»¥é¿å¼€è¿™ä¸ªé—®é¢˜ã€‚")]),s._v(" "),n("p",[s._v("å¯ä»¥çœ‹åˆ°ï¼Œå³æ—¶ç¼–è¯‘å™¨å¹¶ä¸è¦æ±‚ç›®æ ‡æ–¹æ³•ä½¿ç”¨ final ä¿®é¥°ç¬¦ã€‚åªè¦ç›®æ ‡æ–¹æ³•äº‹å®ä¸Šæ˜¯ final çš„ï¼ˆeffective finalï¼‰ï¼Œä¾¿å¯ä»¥è¿›è¡Œç›¸åº”çš„å»è™šåŒ–ä»¥åŠå†…è”ã€‚")]),s._v(" "),n("p",[s._v("ä¸è¿‡ï¼Œå¦‚æœä½¿ç”¨äº† final ä¿®é¥°ç¬¦ï¼Œå³æ—¶ç¼–è¯‘å™¨ä¾¿å¯ä»¥ä¸ç”¨ç”Ÿæˆå¯¹åº”çš„å‡è®¾ã€‚è¿™å°†ä½¿ç¼–è¯‘ç»“æœæ›´åŠ ç²¾ç®€ï¼Œå¹¶å‡å°‘ç±»åŠ è½½æ—¶æ‰€éœ€éªŒè¯çš„å†…å®¹ã€‚")]),s._v(" "),n("p",[n("img",{attrs:{src:"https://linkeq.oss-cn-chengdu.aliyuncs.com/img/2022/05/31/image-20220531144734326-91d8d6.png",alt:"image-20220531144734326"}})]),s._v(" "),n("h3",{attrs:{id:"test-æ–¹æ³•çš„-ir-å›¾-æ–¹æ³•å†…è”å"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#test-æ–¹æ³•çš„-ir-å›¾-æ–¹æ³•å†…è”å"}},[s._v("#")]),s._v(" test æ–¹æ³•çš„ IR å›¾ï¼ˆæ–¹æ³•å†…è”åï¼‰")]),s._v(" "),n("p",[s._v("è®©æˆ‘ä»¬å›åˆ°åŸæœ¬çš„ä¾‹å­ä¸­ã€‚ä» test æ–¹æ³•çš„ IR å›¾å¯ä»¥çœ‹å‡ºï¼Œç”Ÿæˆçš„ä»£ç æ— é¡»æ£€æµ‹è°ƒç”¨è€…çš„åŠ¨æ€ç±»å‹æ˜¯å¦ä¸º Addï¼Œä¾¿ç›´æ¥æ‰§è¡Œå†…è”ä¹‹åçš„  Add.apply æ–¹æ³•ä¸­çš„å†…å®¹ï¼ˆ2+1 ç»è¿‡å¸¸é‡æŠ˜å ä¹‹åå¾—åˆ° 3ï¼Œå¯¹åº” 13 å·å¸¸æ•°èŠ‚ç‚¹ï¼‰ã€‚è¿™æ˜¯å› ä¸ºåŠ¨æ€ç±»å‹æ£€æµ‹å·²è¢«ç§»è‡³å‡è®¾ä¹‹ä¸­äº†ã€‚")]),s._v(" "),n("p",[s._v("ç„¶è€Œï¼Œå¯¹äºæ¥å£æ–¹æ³•è°ƒç”¨ï¼Œè¯¥å»è™šåŒ–æ‰‹æ®µåˆ™ä¸èƒ½ç§»é™¤åŠ¨æ€ç±»å‹æ£€æµ‹ã€‚è¿™æ˜¯å› ä¸ºåœ¨æ‰§è¡Œ invokeinterface æŒ‡ä»¤æ—¶ï¼ŒJava è™šæ‹Ÿæœºå¿…é¡»å¯¹è°ƒç”¨è€…çš„åŠ¨æ€ç±»å‹è¿›è¡Œæµ‹è¯•ï¼Œçœ‹å®ƒæ˜¯å¦å®ç°äº†ç›®æ ‡æ¥å£æ–¹æ³•æ‰€åœ¨çš„æ¥å£ã€‚")]),s._v(" "),n("blockquote",[n("p",[s._v("Java ç±»éªŒè¯å™¨å°†æ¥å£ç±»å‹ç›´æ¥çœ‹æˆ Object ç±»å‹ï¼Œæ‰€ä»¥æœ‰å¯èƒ½å‡ºç°å£°æ˜ç±»å‹ä¸ºæ¥å£ï¼Œå®é™…ç±»å‹æ²¡æœ‰ç»§æ‰¿è¯¥æ¥å£çš„æƒ…å†µï¼Œå¦‚ä¸‹ä¾‹æ‰€ç¤ºã€‚")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('\n// A.java\n\ninterface I {}\n\n \n\npublic class A {\n\n  public static void test(I obj) {\n\n    System.out.println("Hello World");\n\n  }\n\n  \n\n  public static void main(String[] args) {\n\n    test(new B());\n\n  }\n\n}\n\n \n\n// B.java\n\npublic class B implements I { }\n\n \n\n// Step 1: compile A.java and B.java\n\n// Step 2: remove "implements I" from B.java, and compile B.java\n\n// Step 3: run A\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br")]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br")])]),n("p",[s._v("æ—¢ç„¶è¿™ä¸€ç±»å‹æµ‹è¯•æ— æ³•é¿å…ï¼ŒC2 å¹²è„†å°±ä¸å¯¹æ¥å£æ–¹æ³•è°ƒç”¨è¿›è¡ŒåŸºäºç±»å±‚æ¬¡åˆ†æçš„å®Œå…¨å»è™šåŒ–ï¼Œè€Œæ˜¯ä¾èµ–äºæ¥ä¸‹æ¥çš„æ¡ä»¶å»è™šåŒ–ã€‚")]),s._v(" "),n("h2",{attrs:{id:"æ¡ä»¶å»è™šåŒ–"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#æ¡ä»¶å»è™šåŒ–"}},[s._v("#")]),s._v(" æ¡ä»¶å»è™šåŒ–")]),s._v(" "),n("p",[s._v("å‰é¢æåˆ°ï¼Œæ¡ä»¶å»è™šåŒ–é€šè¿‡å‘ä»£ç ä¸­æ·»åŠ è‹¥å¹²ä¸ªç±»å‹æ¯”è¾ƒï¼Œå°†è™šæ–¹æ³•è°ƒç”¨è½¬æ¢ä¸ºè‹¥å¹²ä¸ªç›´æ¥è°ƒç”¨ã€‚")]),s._v(" "),n("p",[s._v("å…·ä½“çš„åŸç†éå¸¸ç®€å•ï¼Œæ˜¯å°†è°ƒç”¨è€…çš„åŠ¨æ€ç±»å‹ï¼Œä¾æ¬¡ä¸ Java è™šæ‹Ÿæœºæ‰€æ”¶é›†çš„ç±»å‹ Profile ä¸­è®°å½•çš„ç±»å‹ç›¸æ¯”è¾ƒã€‚å¦‚æœåŒ¹é…ï¼Œåˆ™ç›´æ¥è°ƒç”¨è¯¥è®°å½•ç±»å‹æ‰€å¯¹åº”çš„ç›®æ ‡æ–¹æ³•ã€‚")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("\n  public static int test(BinaryOp op) {\n\n    return op.apply(2, 1);\n\n  }\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("p",[s._v("æˆ‘ä»¬ç»§ç»­ä½¿ç”¨å‰é¢çš„ä¾‹å­ã€‚å‡è®¾ç¼–è¯‘æ—¶ç±»å‹ Profile è®°å½•äº†è°ƒç”¨è€…çš„ä¸¤ä¸ªç±»å‹ Sub å’Œ Addï¼Œé‚£ä¹ˆå³æ—¶ç¼–è¯‘å™¨å¯ä»¥æ®æ­¤è¿›è¡Œæ¡ä»¶å»è™šåŒ–ï¼Œä¾æ¬¡æ¯”è¾ƒè°ƒç”¨è€…çš„åŠ¨æ€ç±»å‹æ˜¯å¦ä¸º Sub æˆ–è€… Addï¼Œå¹¶å†…è”ç›¸åº”çš„æ–¹æ³•ã€‚å…¶ä¼ªä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("\n  public static int test(BinaryOp op) {\n\n    if (op.getClass() == Sub.class) {\n\n      return 2 - 1; // inlined Sub.apply\n\n    } else if (op.getClass() == Add.class) {\n\n      return 2 + 1; // inlined Add.apply\n\n    } else {\n\n      ... // å½“åŒ¹é…ä¸åˆ°ç±»å‹ Profile ä¸­çš„ç±»å‹æ€ä¹ˆåŠï¼Ÿ\n\n    }\n\n  }\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br")]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br")])]),n("p",[s._v("å¦‚æœéå†å®Œç±»å‹ Profile ä¸­çš„æ‰€æœ‰è®°å½•ï¼Œä»æ—§åŒ¹é…ä¸åˆ°è°ƒç”¨è€…çš„åŠ¨æ€ç±»å‹ï¼Œé‚£ä¹ˆå³æ—¶ç¼–è¯‘å™¨æœ‰ä¸¤ç§é€‰æ‹©ã€‚")]),s._v(" "),n("p",[s._v("ç¬¬ä¸€ï¼Œå¦‚æœç±»å‹ Profile æ˜¯å®Œæ•´çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæ‰€æœ‰å‡ºç°è¿‡çš„åŠ¨æ€ç±»å‹éƒ½è¢«è®°å½•è‡³ç±»å‹ Profile  ä¹‹ä¸­ï¼Œé‚£ä¹ˆå³æ—¶ç¼–è¯‘å™¨å¯ä»¥è®©ç¨‹åºè¿›è¡Œå»ä¼˜åŒ–ï¼Œé‡æ–°æ”¶é›†ç±»å‹ Profileï¼Œå¯¹åº”çš„ IR å›¾å¦‚ä¸‹æ‰€ç¤ºï¼ˆè¿™é‡Œ 27 å· TypeSwitch  èŠ‚ç‚¹ç­‰ä»·äºå‰é¢ä¼ªä»£ç ä¸­çš„å¤šä¸ª if è¯­å¥ï¼‰ï¼š")]),s._v(" "),n("p",[n("img",{attrs:{src:"https://linkeq.oss-cn-chengdu.aliyuncs.com/img/2022/05/31/index-59311d.png",alt:"index"}})]),s._v(" "),n("h3",{attrs:{id:"å½“åŒ¹é…ä¸åˆ°åŠ¨æ€ç±»å‹æ—¶è¿›è¡Œå»ä¼˜åŒ–"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å½“åŒ¹é…ä¸åˆ°åŠ¨æ€ç±»å‹æ—¶è¿›è¡Œå»ä¼˜åŒ–"}},[s._v("#")]),s._v(" å½“åŒ¹é…ä¸åˆ°åŠ¨æ€ç±»å‹æ—¶è¿›è¡Œå»ä¼˜åŒ–")]),s._v(" "),n("p",[s._v("ç¬¬äºŒï¼Œå¦‚æœç±»å‹ Profile æ˜¯ä¸å®Œæ•´çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼ŒæŸäº›å‡ºç°è¿‡çš„åŠ¨æ€ç±»å‹å¹¶æ²¡æœ‰è®°å½•è‡³ç±»å‹ Profile  ä¹‹ä¸­ï¼Œé‚£ä¹ˆé‡æ–°æ”¶é›†å¹¶æ²¡æœ‰å¤šå¤§ä½œç”¨ã€‚æ­¤æ—¶ï¼Œå³æ—¶ç¼–è¯‘å™¨å¯ä»¥è®©ç¨‹åºè¿›è¡ŒåŸæœ¬çš„è™šè°ƒç”¨ï¼Œé€šè¿‡å†…è”ç¼“å­˜è¿›è¡Œè°ƒç”¨ï¼Œæˆ–è€…é€šè¿‡æ–¹æ³•è¡¨è¿›è¡ŒåŠ¨æ€ç»‘å®šã€‚å¯¹åº”çš„ IR  å›¾å¦‚ä¸‹æ‰€ç¤ºï¼š")]),s._v(" "),n("p",[n("img",{attrs:{src:"https://linkeq.oss-cn-chengdu.aliyuncs.com/img/2022/05/31/index-3ff89c.png",alt:"index"}})]),s._v(" "),n("h3",{attrs:{id:"å½“åŒ¹é…ä¸åˆ°åŠ¨æ€ç±»å‹æ—¶è¿›è¡Œè™šè°ƒç”¨-ä»…åœ¨-graal-ä¸­ä½¿ç”¨ã€‚"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å½“åŒ¹é…ä¸åˆ°åŠ¨æ€ç±»å‹æ—¶è¿›è¡Œè™šè°ƒç”¨-ä»…åœ¨-graal-ä¸­ä½¿ç”¨ã€‚"}},[s._v("#")]),s._v(" å½“åŒ¹é…ä¸åˆ°åŠ¨æ€ç±»å‹æ—¶è¿›è¡Œè™šè°ƒç”¨ï¼ˆä»…åœ¨ Graal ä¸­ä½¿ç”¨ã€‚ï¼‰")]),s._v(" "),n("p",[s._v("åœ¨ C2 ä¸­ï¼Œå¦‚æœç±»å‹ Profile æ˜¯ä¸å®Œæ•´çš„ï¼Œå³æ—¶ç¼–è¯‘å™¨å‹æ ¹ä¸ä¼šè¿›è¡Œæ¡ä»¶å»è™šåŒ–ï¼Œè€Œæ˜¯ç›´æ¥ä½¿ç”¨å†…è”ç¼“å­˜æˆ–è€…æ–¹æ³•è¡¨ã€‚")]),s._v(" "),n("h2",{attrs:{id:"æ€»ç»“ä¸å®è·µ"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#æ€»ç»“ä¸å®è·µ"}},[s._v("#")]),s._v(" æ€»ç»“ä¸å®è·µ")]),s._v(" "),n("p",[s._v("ä»Šå¤©æˆ‘ä»‹ç»äº†å³æ—¶ç¼–è¯‘å™¨å»è™šåŒ–çš„å‡ ç§æ–¹æ³•ã€‚")]),s._v(" "),n("p",[s._v("å®Œå…¨å»è™šåŒ–é€šè¿‡ç±»å‹æ¨å¯¼æˆ–è€…ç±»å±‚æ¬¡åˆ†æï¼Œå°†è™šæ–¹æ³•è°ƒç”¨è½¬æ¢ä¸ºç›´æ¥è°ƒç”¨ã€‚å®ƒçš„å…³é”®åœ¨äºè¯æ˜è™šæ–¹æ³•è°ƒç”¨çš„ç›®æ ‡æ–¹æ³•æ˜¯å”¯ä¸€çš„ã€‚")]),s._v(" "),n("p",[s._v("æ¡ä»¶å»è™šåŒ–é€šè¿‡å‘ä»£ç ä¸­å¢æ·»ç±»å‹æ¯”è¾ƒï¼Œå°†è™šæ–¹æ³•è°ƒç”¨è½¬æ¢ä¸ºä¸€ä¸ªä¸ªçš„ç±»å‹æµ‹è¯•ä»¥åŠå¯¹åº”è¯¥ç±»å‹çš„ç›´æ¥è°ƒç”¨ã€‚å®ƒå°†å€ŸåŠ© Java è™šæ‹Ÿæœºæ‰€æ”¶é›†çš„ç±»å‹ Profileã€‚")]),s._v(" "),n("p",[s._v("ä»Šå¤©çš„å®è·µç¯èŠ‚ï¼Œæˆ‘ä»¬æ¥é‡ç°å› ç±»åŠ è½½å¯¼è‡´å»ä¼˜åŒ–çš„è¿‡ç¨‹ã€‚")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('\n// Run with java -XX:CompileCommand=\'dontinline JITTest.test\' -XX:+PrintCompilation JITTest\n\npublic class JITTest {\n\n  static abstract class BinaryOp {\n\n      public abstract int apply(int a, int b);\n\n  }\n\n \n\n  static class Add extends BinaryOp {\n\n      public int apply(int a, int b) {\n\n          return a + b;\n\n      }\n\n  }\n\n \n\n  static class Sub extends BinaryOp {\n\n      public int apply(int a, int b) {\n\n          return a - b;\n\n      }\n\n  }\n\n \n\n  public static int test(BinaryOp op) {\n\n    return op.apply(2, 1);\n\n  }\n\n \n\n  public static void main(String[] args) throws Exception {\n\n    Add add = new Add();\n\n    for (int i = 0; i < 400_000; i++) {\n\n      test(add);\n\n    }\n\n \n\n    Thread.sleep(2000);\n\n    System.out.println("Loading Sub");\n\n    Sub[] array = new Sub[0]; // Load class Sub\n\n    // Expect output: "JITTest::test (7 bytes)   made not entrant"\n\n    Thread.sleep(2000);\n\n  }\n\n}\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br"),n("span",{staticClass:"line-number"},[s._v("47")]),n("br"),n("span",{staticClass:"line-number"},[s._v("48")]),n("br"),n("span",{staticClass:"line-number"},[s._v("49")]),n("br"),n("span",{staticClass:"line-number"},[s._v("50")]),n("br"),n("span",{staticClass:"line-number"},[s._v("51")]),n("br"),n("span",{staticClass:"line-number"},[s._v("52")]),n("br"),n("span",{staticClass:"line-number"},[s._v("53")]),n("br"),n("span",{staticClass:"line-number"},[s._v("54")]),n("br"),n("span",{staticClass:"line-number"},[s._v("55")]),n("br"),n("span",{staticClass:"line-number"},[s._v("56")]),n("br"),n("span",{staticClass:"line-number"},[s._v("57")]),n("br"),n("span",{staticClass:"line-number"},[s._v("58")]),n("br"),n("span",{staticClass:"line-number"},[s._v("59")]),n("br"),n("span",{staticClass:"line-number"},[s._v("60")]),n("br"),n("span",{staticClass:"line-number"},[s._v("61")]),n("br"),n("span",{staticClass:"line-number"},[s._v("62")]),n("br"),n("span",{staticClass:"line-number"},[s._v("63")]),n("br"),n("span",{staticClass:"line-number"},[s._v("64")]),n("br"),n("span",{staticClass:"line-number"},[s._v("65")]),n("br"),n("span",{staticClass:"line-number"},[s._v("66")]),n("br"),n("span",{staticClass:"line-number"},[s._v("67")]),n("br"),n("span",{staticClass:"line-number"},[s._v("68")]),n("br"),n("span",{staticClass:"line-number"},[s._v("69")]),n("br"),n("span",{staticClass:"line-number"},[s._v("70")]),n("br")]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br"),n("span",{staticClass:"line-number"},[s._v("47")]),n("br"),n("span",{staticClass:"line-number"},[s._v("48")]),n("br"),n("span",{staticClass:"line-number"},[s._v("49")]),n("br"),n("span",{staticClass:"line-number"},[s._v("50")]),n("br"),n("span",{staticClass:"line-number"},[s._v("51")]),n("br"),n("span",{staticClass:"line-number"},[s._v("52")]),n("br"),n("span",{staticClass:"line-number"},[s._v("53")]),n("br"),n("span",{staticClass:"line-number"},[s._v("54")]),n("br"),n("span",{staticClass:"line-number"},[s._v("55")]),n("br"),n("span",{staticClass:"line-number"},[s._v("56")]),n("br"),n("span",{staticClass:"line-number"},[s._v("57")]),n("br"),n("span",{staticClass:"line-number"},[s._v("58")]),n("br"),n("span",{staticClass:"line-number"},[s._v("59")]),n("br"),n("span",{staticClass:"line-number"},[s._v("60")]),n("br"),n("span",{staticClass:"line-number"},[s._v("61")]),n("br"),n("span",{staticClass:"line-number"},[s._v("62")]),n("br"),n("span",{staticClass:"line-number"},[s._v("63")]),n("br"),n("span",{staticClass:"line-number"},[s._v("64")]),n("br"),n("span",{staticClass:"line-number"},[s._v("65")]),n("br"),n("span",{staticClass:"line-number"},[s._v("66")]),n("br"),n("span",{staticClass:"line-number"},[s._v("67")]),n("br"),n("span",{staticClass:"line-number"},[s._v("68")]),n("br"),n("span",{staticClass:"line-number"},[s._v("69")]),n("br"),n("span",{staticClass:"line-number"},[s._v("70")]),n("br")])]),n("h2",{attrs:{id:"ç²¾é€‰ç•™è¨€-10"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ç²¾é€‰ç•™è¨€-10"}},[s._v("#")]),s._v(" ç²¾é€‰ç•™è¨€(10)")]),s._v(" "),n("ul",[n("li")]),s._v(" "),n("p",[s._v("godtrue")]),s._v(" "),n("p",[s._v("2018-09-12")]),s._v(" "),n("p",[s._v("8")]),s._v(" "),n("p",[s._v("æ„Ÿè§‰è·Ÿä¸ä¸Šäº†ï¼Œå…ˆè¿‡å§ï¼\nå·²ç»æ‹‰ä¸‹ä¸¤èŠ‚äº†ï¼Œæ—¥åå›å¤´å†çœ‹çœ‹ã€‚\nç°åœ¨ä»…æ˜ç™½ï¼Œæ–¹æ³•å†…è”-æ˜¯ç¼–è¯‘å™¨çš„ä¸€ç§ä»£ç ä¼˜åŒ–æ‰‹æ®µï¼Œä¼šæ ¹æ®ä¸åŒä»£ç è°ƒç”¨æ–¹å¼æœ‰ä¸åŒçš„ä¼˜åŒ–æ–¹å¼ï¼Œç›®çš„éƒ½æ˜¯ä¸ºäº†æé«˜JVMçš„æ•ˆç‡ï¼Œæ ¹æœ¬æ–¹å¼ï¼Œæˆ‘è®¤ä¸ºå°±æ˜¯é‡‡ç”¨å–å·§çš„æ–¹å¼ï¼Œæå‰åˆ¤æ–­å‡ºæ¥å¯ä»¥å°‘åšä¸€äº›äº‹æƒ…ï¼Œç„¶åå…ˆæå‰åšä¸€äº›å‡†å¤‡ï¼Œæ•´ä½“çš„æ—¶é—´å’Œç©ºé—´æˆæœ¬ä¼šé™ä¸‹æ¥ã€‚\nå¦å¤–ï¼Œæä¾›å°å»ºè®®ï¼Œé›¨è¿ªèƒ½å¦å¯¹äºè¿™ç§æ¯”è¾ƒæ¯”è¾ƒæŠ½è±¡çš„çŸ¥è¯†ï¼Œæ¥ç‚¹ç”ŸåŠ¨å½¢è±¡çš„æ¯”å–»ä»¥ä¾¿å¸®åŠ©æ¶ˆåŒ–ï¼Œä¹‹å‰åœ¨çŸ¥ä¹çœ‹åˆ°ä¸€ç¯‡å…³äºé”çš„æ–‡ç« ï¼Œå…¨ç¯‡é€šè¿‡ç”ŸåŠ¨å½¢è±¡çš„æ¯”å–»è®²è§£é”çš„æœ¬è´¨ã€åˆ†ç±»ã€å„ç§é”çš„ç‰¹ç‚¹ï¼Œè¯»èµ·æ¥ä¸€ä¸‹å­å°±æ˜ç™½äº†ã€‚")]),s._v(" "),n("ul",[n("li")]),s._v(" "),n("p",[s._v("æ°¸çƒæ˜Ÿå…‰")]),s._v(" "),n("p",[s._v("2018-09-10")]),s._v(" "),n("p",[s._v("3")]),s._v(" "),n("p",[s._v("IR å›¾åˆ†æçœ‹äº†è¿™ä¸‰ç¯‡ï¼Œå¥½å‡ æ¬¡ï¼Œç°åœ¨è¿˜æ˜¯ä¸ç”šæ˜ç™½ï¼Œ")]),s._v(" "),n("p",[s._v("ä½œè€…å›å¤: å¦‚æœéƒ½çœ‹æ‡‚äº†ï¼Œå¯ä»¥è€ƒè™‘æ¥æˆ‘å¸ï¼Œæˆ–è€…é˜¿é‡Œçš„JITä¸“å®¶èŒä½ ğŸ˜ƒ")]),s._v(" "),n("p",[s._v("ä¸€èˆ¬æ¥è¯´ï¼Œäº†è§£è¿™äº›ä¼˜åŒ–é’ˆå¯¹æ€æ ·çš„ä»£ç æ¨¡å¼ï¼Œä¼šè½¬åŒ–ä¸ºæ€æ ·çš„ä»£ç å°±å¯ä»¥å•¦ã€‚è‡³äºIRå›¾ï¼Œä¸»è¦æ˜¯ç”¨æ¥è¾…åŠ©ç†è§£å…·ä½“çš„ä¼˜åŒ–è¿‡ç¨‹ã€‚")]),s._v(" "),n("ul",[n("li")]),s._v(" "),n("p",[s._v("æäº®äº®")]),s._v(" "),n("p",[s._v("2019-04-11")]),s._v(" "),n("p",[s._v("1")]),s._v(" "),n("p",[s._v("åé¢ä¸¤å¼ å›¾æ˜¯ä¸æ˜¯è¿˜åº”è¯¥æœ‰Deopt NullCheckException è¿™æ¡çº¢è‰²çš„è·¯å¾„ï¼Ÿ")]),s._v(" "),n("ul",[n("li")]),s._v(" "),n("p",[s._v("ä¸€å°‘çˆ·")]),s._v(" "),n("p",[s._v("2019-02-27")]),s._v(" "),n("p",[s._v("1")]),s._v(" "),n("p",[s._v("ä¸ºä»€ä¹ˆåé¢ç•™è¨€çš„äººè¶Šæ¥è¶Šå°‘äº†ï¼Œæˆ‘è§‰å¾—åé¢è¿™äº›ä¹Ÿå¾ˆå…³é”®å¾ˆæœ‰è¶£å‘€ã€‚å¯¹æ€æƒ³çš„æå‡å¾ˆæœ‰å¸®åŠ©çš„ã€‚")]),s._v(" "),n("ul",[n("li")]),s._v(" "),n("p",[s._v("æ˜Ÿæ˜Ÿä¸ªæ˜¯å¤§...")]),s._v(" "),n("p",[s._v("2018-09-25")]),s._v(" "),n("p",[s._v("èŠ‚ç‚¹ä¸Šçš„Pï¼ˆ0ï¼‰æ˜¯å¦æ˜¯ä»£è¡¨æ–¹æ³•çš„å‚æ•°ï¼ŒC(1)è¿™äº›ä»£è¡¨å¸¸é‡ï¼Œå„ä¸ªèŠ‚ç‚¹çš„çº¿çš„é¢œè‰²æ˜¯å¦æœ‰ä»€ä¹ˆå«ä¹‰å‘¢ï¼Ÿè€å¸ˆèƒ½ä¸èƒ½æŒ‡å¯¼ä¸€ä¸‹")]),s._v(" "),n("ul",[n("li")]),s._v(" "),n("p",[s._v("Scott")]),s._v(" "),n("p",[s._v("2018-09-10")]),s._v(" "),n("p",[s._v("æ˜¯æ¯ä¸ªå¯¹è±¡æœ‰type profileçš„é™åˆ¶ä¹ˆï¼Ÿ")]),s._v(" "),n("p",[s._v("ä½œè€…å›å¤: æ¯æ¡ç±»å‹ç›¸å…³å­—èŠ‚ç ï¼Œå¦‚invokeinterface invokevirtual checkcast instanceofç­‰")]),s._v(" "),n("ul",[n("li")]),s._v(" "),n("p",[s._v("Scott")]),s._v(" "),n("p",[s._v("2018-09-09")]),s._v(" "),n("p",[s._v("æ˜¯C1åœ¨ä¸åŒçš„ç¼–è¯‘å±‚æ¬¡ä¹ˆï¼Ÿ")]),s._v(" "),n("ul",[n("li")]),s._v(" "),n("p",[s._v("Scott")]),s._v(" "),n("p",[s._v("2018-09-09")]),s._v(" "),n("p",[s._v("æˆ‘ä¹Ÿä¸æ¸…æ¥šï¼Œä»€ä¹ˆæ—¶å€™å¯ä»¥æœ‰å®Œæ•´çš„profileï¼Œä»€ä¹ˆæ—¶å€™æ˜¯ä¸å®Œæ•´çš„")]),s._v(" "),n("p",[s._v("ä½œè€…å›å¤: å›äº†åŸæé—®ï¼Œè¿™é‡Œå¤åˆ¶ä¸€ä¸‹:")]),s._v(" "),n("p",[s._v("æ¯ä¸ªå­—èŠ‚ç çš„type profileæœ‰æ•°é‡é™åˆ¶ï¼Œæ¯”å¦‚é»˜è®¤æƒ…å†µä¸‹åªèƒ½å­˜ä¸¤ä¸ªä¸åŒçš„åŠ¨æ€ç±»å‹ã€‚å¦‚æœæ”¶é›†profileè¿‡ç¨‹ä¸­æ¥äº†ä¸‰ä¸ªä¸åŒçš„åŠ¨æ€ç±»å‹ï¼Œé‚£ä¹ˆJVMä¸èƒ½å…¨éƒ¨è®°ä¸‹æ¥ï¼Œå› æ­¤å³æ—¶ç¼–è¯‘å™¨çœ‹åˆ°çš„type profileæ˜¯ä¸å®Œæ•´çš„ã€‚")]),s._v(" "),n("ul",[n("li")]),s._v(" "),n("p",[s._v("Void_seT")]),s._v(" "),n("p",[s._v("2018-09-08")]),s._v(" "),n("p",[s._v("è€å¸ˆï¼Œæƒ³è¯·æ•™ä¸€ä¸‹ï¼Œâ€œç±»å‹Profileâ€å®Œæ•´è¿˜æ˜¯ä¸å®Œæ•´ï¼Œæ˜¯å¦‚ä½•åˆ¤æ–­çš„ï¼Ÿ")]),s._v(" "),n("p",[s._v("ä½œè€…å›å¤: æ¯ä¸ªå­—èŠ‚ç çš„type profileæœ‰æ•°é‡é™åˆ¶ï¼Œæ¯”å¦‚é»˜è®¤æƒ…å†µä¸‹åªèƒ½å­˜ä¸¤ä¸ªä¸åŒçš„åŠ¨æ€ç±»å‹ã€‚å¦‚æœæ”¶é›†profileè¿‡ç¨‹ä¸­æ¥äº†ä¸‰ä¸ªä¸åŒçš„åŠ¨æ€ç±»å‹ï¼Œé‚£ä¹ˆJVMä¸èƒ½å…¨éƒ¨è®°ä¸‹æ¥ï¼Œå› æ­¤å³æ—¶ç¼–è¯‘å™¨çœ‹åˆ°çš„type profileæ˜¯ä¸å®Œæ•´çš„ã€‚")]),s._v(" "),n("ul",[n("li")]),s._v(" "),n("p",[s._v("ç‹æ ‘å¿ ")]),s._v(" "),n("p",[s._v("2018-09-07")]),s._v(" "),n("p",[s._v("é‡åˆ°jvmå´©æºƒï¼Œå¯å¦å¸®åˆ†æä¸‹")])])}),[],!1,null,null,null);n.default=e.exports}}]);